[
    {
        "id": "c8b39d2f.2ea6d",
        "type": "tab",
        "label": "CEC",
        "disabled": true,
        "info": "",
        "env": []
    },
    {
        "id": "c10f39f7e68fb795",
        "type": "tab",
        "label": "GLOBAL_VAR",
        "disabled": false,
        "info": ""
    },
    {
        "id": "daab586f23146360",
        "type": "tab",
        "label": "Home",
        "disabled": false,
        "info": ""
    },
    {
        "id": "0c0449238a1753b7",
        "type": "tab",
        "label": "KidsRoom",
        "disabled": false,
        "info": ""
    },
    {
        "id": "bb544554b476310e",
        "type": "tab",
        "label": "LivingRoom",
        "disabled": false,
        "info": ""
    },
    {
        "id": "4158a0e7e28c57fc",
        "type": "tab",
        "label": "Kitchen",
        "disabled": false,
        "info": ""
    },
    {
        "id": "edc94db569fd3e9b",
        "type": "tab",
        "label": "BathRoom",
        "disabled": false,
        "info": ""
    },
    {
        "id": "3d4287fb0903fb9a",
        "type": "tab",
        "label": "BedRoom",
        "disabled": false,
        "info": ""
    },
    {
        "id": "820c8911ef76a522",
        "type": "tab",
        "label": "Garland",
        "disabled": false,
        "info": ""
    },
    {
        "id": "cf42543abaef9764",
        "type": "tab",
        "label": "Xiaomi GW",
        "disabled": false,
        "info": ""
    },
    {
        "id": "26c72c233631dbeb",
        "type": "tab",
        "label": "LogsText",
        "disabled": false,
        "info": ""
    },
    {
        "id": "7c48a1c4d101772a",
        "type": "tab",
        "label": "MySQL",
        "disabled": true,
        "info": ""
    },
    {
        "id": "e0ec0a90b2f16138",
        "type": "tab",
        "label": "Energy",
        "disabled": true,
        "info": ""
    },
    {
        "id": "3e5e9957911954ae",
        "type": "tab",
        "label": "Flow 3",
        "disabled": true,
        "info": ""
    },
    {
        "id": "5101c6e3.603738",
        "type": "mqtt-broker",
        "name": "MQTT local",
        "broker": "192.168.1.184",
        "port": "1883",
        "clientid": "",
        "autoConnect": true,
        "usetls": false,
        "compatmode": false,
        "protocolVersion": "4",
        "keepalive": "60",
        "cleansession": true,
        "birthTopic": "",
        "birthQos": "0",
        "birthPayload": "",
        "birthMsg": {},
        "closeTopic": "",
        "closeQos": "0",
        "closePayload": "",
        "closeMsg": {},
        "willTopic": "",
        "willQos": "0",
        "willPayload": "",
        "willMsg": {},
        "sessionExpiry": ""
    },
    {
        "id": "9b1494c0.e77cf8",
        "type": "MySQLdatabase",
        "host": "127.0.0.1",
        "port": "3306",
        "db": "node-red",
        "tz": ""
    },
    {
        "id": "8fe9cbae7e99e365",
        "type": "homekit-bridge",
        "bridgeName": "home",
        "pinCode": "135-03-291",
        "port": "",
        "advertiser": "bonjour-hap",
        "allowInsecureRequest": false,
        "manufacturer": "NRCHKB",
        "model": "1.4.3",
        "serialNo": "Default Serial Number",
        "firmwareRev": "1.4.3",
        "hardwareRev": "1.4.3",
        "softwareRev": "1.4.3",
        "customMdnsConfig": false,
        "mdnsMulticast": true,
        "mdnsInterface": "",
        "mdnsPort": "",
        "mdnsIp": "",
        "mdnsTtl": "",
        "mdnsLoopback": true,
        "mdnsReuseAddr": true,
        "allowMessagePassthrough": true
    },
    {
        "id": "fc17423781918bb9",
        "type": "homekit-bridge",
        "bridgeName": "Plugs",
        "pinCode": "333-33-332",
        "port": "",
        "allowInsecureRequest": false,
        "manufacturer": "Default Manufacturer",
        "model": "Default Model",
        "serialNo": "Default Serial Number",
        "customMdnsConfig": false,
        "mdnsMulticast": true,
        "mdnsInterface": "",
        "mdnsPort": "",
        "mdnsIp": "",
        "mdnsTtl": "",
        "mdnsLoopback": true,
        "mdnsReuseAddr": true,
        "allowMessagePassthrough": false
    },
    {
        "id": "83ccb398b63910fe",
        "type": "homekit-bridge",
        "bridgeName": "home",
        "pinCode": "135-03-291",
        "port": "",
        "advertiser": "bonjour-hap",
        "allowInsecureRequest": false,
        "manufacturer": "NRCHKB",
        "model": "1.4.3",
        "serialNo": "Default Serial Number",
        "firmwareRev": "1.4.3",
        "hardwareRev": "1.4.3",
        "softwareRev": "1.4.3",
        "customMdnsConfig": false,
        "mdnsMulticast": true,
        "mdnsInterface": "",
        "mdnsPort": "",
        "mdnsIp": "",
        "mdnsTtl": "",
        "mdnsLoopback": true,
        "mdnsReuseAddr": true,
        "allowMessagePassthrough": true
    },
    {
        "id": "68294c37c02e631f",
        "type": "homekit-bridge",
        "bridgeName": "Plugs",
        "pinCode": "333-33-332",
        "port": "",
        "allowInsecureRequest": false,
        "manufacturer": "Default Manufacturer",
        "model": "Default Model",
        "serialNo": "Default Serial Number",
        "customMdnsConfig": false,
        "mdnsMulticast": true,
        "mdnsInterface": "",
        "mdnsPort": "",
        "mdnsIp": "",
        "mdnsTtl": "",
        "mdnsLoopback": true,
        "mdnsReuseAddr": true,
        "allowMessagePassthrough": false
    },
    {
        "id": "50738f81.c3a02",
        "type": "pi-gpiod in",
        "z": "c8b39d2f.2ea6d",
        "name": "",
        "host": "192.168.1.184",
        "port": 8888,
        "pin": "21",
        "intype": "PUD_UP",
        "debounce": "25",
        "read": false,
        "x": 105,
        "y": 90,
        "wires": [
            [
                "32774d40.fc8d22"
            ]
        ]
    },
    {
        "id": "32774d40.fc8d22",
        "type": "debug",
        "z": "c8b39d2f.2ea6d",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 295,
        "y": 60,
        "wires": []
    },
    {
        "id": "4dd7d067.aa365",
        "type": "http request",
        "z": "c8b39d2f.2ea6d",
        "name": "",
        "method": "GET",
        "ret": "txt",
        "paytoqs": "ignore",
        "url": "http://192.168.1.184:5000/device/0",
        "tls": "",
        "persist": false,
        "proxy": "",
        "authType": "",
        "x": 490,
        "y": 195,
        "wires": [
            [
                "e6fe806c.47cac"
            ]
        ]
    },
    {
        "id": "7ffe4739.226828",
        "type": "debug",
        "z": "c8b39d2f.2ea6d",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 970,
        "y": 330,
        "wires": []
    },
    {
        "id": "d20644ca.c2c1f8",
        "type": "http request",
        "z": "c8b39d2f.2ea6d",
        "name": "",
        "method": "POST",
        "ret": "txt",
        "paytoqs": "ignore",
        "url": "http://192.168.1.184:5000/device/0/power",
        "tls": "",
        "persist": false,
        "proxy": "",
        "authType": "",
        "x": 595,
        "y": 360,
        "wires": [
            [
                "7ffe4739.226828"
            ]
        ]
    },
    {
        "id": "5b978daf.6eb074",
        "type": "http request",
        "z": "c8b39d2f.2ea6d",
        "name": "",
        "method": "POST",
        "ret": "txt",
        "paytoqs": "ignore",
        "url": "http://192.168.1.184:5000/device/5/power",
        "tls": "",
        "persist": false,
        "proxy": "",
        "authType": "",
        "x": 595,
        "y": 420,
        "wires": [
            [
                "7ffe4739.226828"
            ]
        ]
    },
    {
        "id": "14d4c410.a6a54c",
        "type": "mqtt in",
        "z": "c8b39d2f.2ea6d",
        "name": "",
        "topic": "Openhab_VAR/Home/SamsungTV/cmd",
        "qos": "2",
        "datatype": "auto",
        "broker": "5101c6e3.603738",
        "nl": false,
        "rap": false,
        "inputs": 0,
        "x": 150,
        "y": 270,
        "wires": [
            [
                "32bed5d5.ecf06a",
                "4ce83e0d.1fcee"
            ]
        ]
    },
    {
        "id": "32bed5d5.ecf06a",
        "type": "switch",
        "z": "c8b39d2f.2ea6d",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "ON",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "OFF",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 170,
        "y": 360,
        "wires": [
            [
                "8254b54e.633ba8"
            ],
            [
                "f49d0a11.0031c8"
            ]
        ]
    },
    {
        "id": "8254b54e.633ba8",
        "type": "change",
        "z": "c8b39d2f.2ea6d",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "{\"state\": \"on\"}",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 360,
        "y": 360,
        "wires": [
            [
                "d20644ca.c2c1f8",
                "5b978daf.6eb074"
            ]
        ]
    },
    {
        "id": "f49d0a11.0031c8",
        "type": "change",
        "z": "c8b39d2f.2ea6d",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "{\"state\": \"off\"}",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 350,
        "y": 405,
        "wires": [
            [
                "d20644ca.c2c1f8",
                "5b978daf.6eb074"
            ]
        ]
    },
    {
        "id": "512845f.70e1fbc",
        "type": "mqtt out",
        "z": "c8b39d2f.2ea6d",
        "name": "",
        "topic": "Openhab_VAR/Home/SamsungTV/state",
        "qos": "0",
        "retain": "true",
        "respTopic": "",
        "contentType": "",
        "userProps": "",
        "correl": "",
        "expiry": "",
        "broker": "5101c6e3.603738",
        "x": 1405,
        "y": 195,
        "wires": []
    },
    {
        "id": "e6fe806c.47cac",
        "type": "json",
        "z": "c8b39d2f.2ea6d",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 620,
        "y": 195,
        "wires": [
            [
                "aceeba69.d50f48"
            ]
        ]
    },
    {
        "id": "aceeba69.d50f48",
        "type": "change",
        "z": "c8b39d2f.2ea6d",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "payload.PowerStatus",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 770,
        "y": 195,
        "wires": [
            [
                "188278e0.3fa357"
            ]
        ]
    },
    {
        "id": "4ce83e0d.1fcee",
        "type": "delay",
        "z": "c8b39d2f.2ea6d",
        "name": "",
        "pauseType": "delay",
        "timeout": "2",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "outputs": 1,
        "x": 345,
        "y": 195,
        "wires": [
            [
                "4dd7d067.aa365"
            ]
        ]
    },
    {
        "id": "e128ffcf.84f8f",
        "type": "inject",
        "z": "c8b39d2f.2ea6d",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "60",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 125,
        "y": 180,
        "wires": [
            [
                "4ce83e0d.1fcee"
            ]
        ]
    },
    {
        "id": "188278e0.3fa357",
        "type": "switch",
        "z": "c8b39d2f.2ea6d",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "on",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "standby",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 932,
        "y": 188,
        "wires": [
            [
                "f5239528.6037a8"
            ],
            [
                "c5915050.9c054"
            ]
        ]
    },
    {
        "id": "f5239528.6037a8",
        "type": "change",
        "z": "c8b39d2f.2ea6d",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "ON",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1122,
        "y": 188,
        "wires": [
            [
                "512845f.70e1fbc"
            ]
        ]
    },
    {
        "id": "c5915050.9c054",
        "type": "change",
        "z": "c8b39d2f.2ea6d",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "OFF",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1112,
        "y": 233,
        "wires": [
            [
                "512845f.70e1fbc"
            ]
        ]
    },
    {
        "id": "370871252ab8bbbc",
        "type": "mqtt out",
        "z": "c8b39d2f.2ea6d",
        "name": "",
        "topic": "media/cec/cmd",
        "qos": "",
        "retain": "",
        "broker": "5101c6e3.603738",
        "x": 370,
        "y": 520,
        "wires": []
    },
    {
        "id": "f39b067c815c93a2",
        "type": "inject",
        "z": "c8b39d2f.2ea6d",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "mute",
        "payloadType": "str",
        "x": 85,
        "y": 475,
        "wires": [
            [
                "370871252ab8bbbc"
            ]
        ]
    },
    {
        "id": "085e461a9887cdd7",
        "type": "inject",
        "z": "c8b39d2f.2ea6d",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "unmute",
        "payloadType": "str",
        "x": 100,
        "y": 550,
        "wires": [
            [
                "370871252ab8bbbc"
            ]
        ]
    },
    {
        "id": "0bd9cc75a92881c1",
        "type": "inject",
        "z": "c8b39d2f.2ea6d",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "voldown",
        "payloadType": "str",
        "x": 115,
        "y": 685,
        "wires": [
            [
                "370871252ab8bbbc"
            ]
        ]
    },
    {
        "id": "880eaf9c1e6221ce",
        "type": "inject",
        "z": "c8b39d2f.2ea6d",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "volup",
        "payloadType": "str",
        "x": 105,
        "y": 625,
        "wires": [
            [
                "370871252ab8bbbc"
            ]
        ]
    },
    {
        "id": "41a77ca2c068d3b9",
        "type": "mqtt out",
        "z": "c8b39d2f.2ea6d",
        "name": "",
        "topic": "media/cec/tx",
        "qos": "",
        "retain": "",
        "broker": "5101c6e3.603738",
        "x": 395,
        "y": 790,
        "wires": []
    },
    {
        "id": "84427c1ef4b07524",
        "type": "inject",
        "z": "c8b39d2f.2ea6d",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "10:44:0C",
        "payloadType": "str",
        "x": 125,
        "y": 790,
        "wires": [
            [
                "41a77ca2c068d3b9"
            ]
        ]
    },
    {
        "id": "83847f7956759a05",
        "type": "mqtt out",
        "z": "c8b39d2f.2ea6d",
        "name": "",
        "topic": "media/cec/5/cmd",
        "qos": "",
        "retain": "",
        "broker": "5101c6e3.603738",
        "x": 440,
        "y": 940,
        "wires": []
    },
    {
        "id": "278f23208065f30e",
        "type": "inject",
        "z": "c8b39d2f.2ea6d",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "on",
        "payloadType": "str",
        "x": 195,
        "y": 910,
        "wires": [
            [
                "83847f7956759a05"
            ]
        ]
    },
    {
        "id": "543a71ec0bf19db3",
        "type": "inject",
        "z": "c8b39d2f.2ea6d",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "off",
        "payloadType": "str",
        "x": 210,
        "y": 985,
        "wires": [
            [
                "83847f7956759a05"
            ]
        ]
    },
    {
        "id": "60f2b9a6eaae2c3e",
        "type": "mqtt in",
        "z": "c8b39d2f.2ea6d",
        "name": "",
        "topic": "media/cec/rx",
        "qos": "2",
        "datatype": "auto",
        "broker": "5101c6e3.603738",
        "inputs": 0,
        "x": 135,
        "y": 1090,
        "wires": [
            [
                "b9ea5303475763c0"
            ]
        ]
    },
    {
        "id": "b9ea5303475763c0",
        "type": "debug",
        "z": "c8b39d2f.2ea6d",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 495,
        "y": 1090,
        "wires": []
    },
    {
        "id": "3bbc3e28b774a719",
        "type": "inject",
        "z": "c10f39f7e68fb795",
        "name": "",
        "props": [
            {
                "p": "payload",
                "v": "1",
                "vt": "num"
            },
            {
                "p": "topic",
                "v": "",
                "vt": "string"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "1",
        "payloadType": "num",
        "x": 90,
        "y": 280,
        "wires": [
            [
                "b27c0bde4531df49",
                "e705e4ac93c717a6",
                "2b50679bd2ec6e89",
                "63a4c7d424d98c9c",
                "8c1b8d82247b097d",
                "290cc60ebd0a2b10"
            ]
        ]
    },
    {
        "id": "30a95d79f85117a5",
        "type": "change",
        "z": "c10f39f7e68fb795",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "Morning",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1230,
        "y": 140,
        "wires": [
            [
                "b1a12e34d4cf2b83"
            ]
        ]
    },
    {
        "id": "93a06a0d9ef31fbf",
        "type": "change",
        "z": "c10f39f7e68fb795",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "Day",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1220,
        "y": 240,
        "wires": [
            [
                "b1a12e34d4cf2b83"
            ]
        ]
    },
    {
        "id": "539e3e79da4509df",
        "type": "change",
        "z": "c10f39f7e68fb795",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "Evening",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1230,
        "y": 340,
        "wires": [
            [
                "b1a12e34d4cf2b83"
            ]
        ]
    },
    {
        "id": "e179225a60197389",
        "type": "change",
        "z": "c10f39f7e68fb795",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "Night",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1240,
        "y": 440,
        "wires": [
            [
                "b1a12e34d4cf2b83"
            ]
        ]
    },
    {
        "id": "a9035997296e10fd",
        "type": "change",
        "z": "c10f39f7e68fb795",
        "name": "TRUE",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "true",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 570,
        "y": 180,
        "wires": [
            [
                "3ea7b8d211b17d27"
            ]
        ]
    },
    {
        "id": "119ad4910b619e4f",
        "type": "change",
        "z": "c10f39f7e68fb795",
        "name": "TRUE",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "true",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 570,
        "y": 260,
        "wires": [
            [
                "a009203a5471e0e1"
            ]
        ]
    },
    {
        "id": "ab9f44f9958e3a9a",
        "type": "change",
        "z": "c10f39f7e68fb795",
        "name": "TRUE",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "true",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 570,
        "y": 320,
        "wires": [
            [
                "b9e7cb657e8f6a9e"
            ]
        ]
    },
    {
        "id": "02a929c76536e093",
        "type": "change",
        "z": "c10f39f7e68fb795",
        "name": "TRUE",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "true",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 570,
        "y": 380,
        "wires": [
            [
                "60e6ee1839bf9426"
            ]
        ]
    },
    {
        "id": "b9e7cb657e8f6a9e",
        "type": "switch",
        "z": "c10f39f7e68fb795",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "neq",
                "v": "Evening",
                "vt": "global"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 730,
        "y": 340,
        "wires": [
            [
                "ae9bafa287e1b1d8",
                "539e3e79da4509df"
            ]
        ]
    },
    {
        "id": "ae9bafa287e1b1d8",
        "type": "change",
        "z": "c10f39f7e68fb795",
        "name": "FALSE",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "false",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 860,
        "y": 380,
        "wires": [
            [
                "e179225a60197389",
                "93a06a0d9ef31fbf",
                "30a95d79f85117a5"
            ]
        ]
    },
    {
        "id": "3ea7b8d211b17d27",
        "type": "switch",
        "z": "c10f39f7e68fb795",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "neq",
                "v": "Morning",
                "vt": "global"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 730,
        "y": 200,
        "wires": [
            [
                "c568e473b1c038b1",
                "30a95d79f85117a5"
            ]
        ]
    },
    {
        "id": "c568e473b1c038b1",
        "type": "change",
        "z": "c10f39f7e68fb795",
        "name": "FALSE",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "false",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 840,
        "y": 160,
        "wires": [
            [
                "93a06a0d9ef31fbf",
                "539e3e79da4509df",
                "e179225a60197389"
            ]
        ]
    },
    {
        "id": "a009203a5471e0e1",
        "type": "switch",
        "z": "c10f39f7e68fb795",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "neq",
                "v": "Day",
                "vt": "global"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 730,
        "y": 240,
        "wires": [
            [
                "1e7884dc17262860",
                "93a06a0d9ef31fbf"
            ]
        ]
    },
    {
        "id": "1e7884dc17262860",
        "type": "change",
        "z": "c10f39f7e68fb795",
        "name": "FALSE",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "false",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 860,
        "y": 280,
        "wires": [
            [
                "30a95d79f85117a5",
                "539e3e79da4509df",
                "e179225a60197389"
            ]
        ]
    },
    {
        "id": "60e6ee1839bf9426",
        "type": "switch",
        "z": "c10f39f7e68fb795",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "neq",
                "v": "Night",
                "vt": "global"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 730,
        "y": 440,
        "wires": [
            [
                "1ac309eeed44e8e5",
                "e179225a60197389"
            ]
        ]
    },
    {
        "id": "1ac309eeed44e8e5",
        "type": "change",
        "z": "c10f39f7e68fb795",
        "name": "FALSE",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "false",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 880,
        "y": 480,
        "wires": [
            [
                "539e3e79da4509df",
                "93a06a0d9ef31fbf",
                "30a95d79f85117a5"
            ]
        ]
    },
    {
        "id": "a5b666a68cd7ad6d",
        "type": "change",
        "z": "c10f39f7e68fb795",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "holiday",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1330,
        "y": 760,
        "wires": [
            []
        ]
    },
    {
        "id": "796b4f5fc7995a0c",
        "type": "switch",
        "z": "c10f39f7e68fb795",
        "name": "",
        "property": "myday",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "Sat",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "Sun",
                "vt": "str"
            }
        ],
        "checkall": "false",
        "repair": false,
        "outputs": 2,
        "x": 590,
        "y": 760,
        "wires": [
            [
                "6396435ebc7fb482"
            ],
            [
                "6396435ebc7fb482"
            ]
        ]
    },
    {
        "id": "6396435ebc7fb482",
        "type": "change",
        "z": "c10f39f7e68fb795",
        "name": "TRUE",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "true",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 790,
        "y": 760,
        "wires": [
            [
                "a5b666a68cd7ad6d",
                "2623eed431f85761"
            ]
        ]
    },
    {
        "id": "dd12c269a59fa669",
        "type": "change",
        "z": "c10f39f7e68fb795",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "workweek",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1320,
        "y": 580,
        "wires": [
            []
        ]
    },
    {
        "id": "15286f0a256733de",
        "type": "switch",
        "z": "c10f39f7e68fb795",
        "name": "",
        "property": "myday",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "Mon",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "Tue",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "Wed",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "Thu",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "Fri",
                "vt": "str"
            }
        ],
        "checkall": "false",
        "repair": false,
        "outputs": 5,
        "x": 590,
        "y": 580,
        "wires": [
            [
                "87cfa3c71b11691b"
            ],
            [
                "87cfa3c71b11691b"
            ],
            [
                "87cfa3c71b11691b"
            ],
            [
                "87cfa3c71b11691b"
            ],
            [
                "87cfa3c71b11691b"
            ]
        ]
    },
    {
        "id": "87cfa3c71b11691b",
        "type": "change",
        "z": "c10f39f7e68fb795",
        "name": "TRUE",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "true",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 790,
        "y": 580,
        "wires": [
            [
                "dd12c269a59fa669",
                "9726befb7fd5744a"
            ]
        ]
    },
    {
        "id": "9726befb7fd5744a",
        "type": "switch",
        "z": "c10f39f7e68fb795",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "workweek",
                "vt": "global"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 945,
        "y": 620,
        "wires": [
            [
                "a6542b41c6f2b268"
            ]
        ]
    },
    {
        "id": "a6542b41c6f2b268",
        "type": "change",
        "z": "c10f39f7e68fb795",
        "name": "FALSE",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "false",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1075,
        "y": 620,
        "wires": [
            [
                "a5b666a68cd7ad6d"
            ]
        ]
    },
    {
        "id": "2623eed431f85761",
        "type": "switch",
        "z": "c10f39f7e68fb795",
        "name": "",
        "property": "holiday",
        "propertyType": "msg",
        "rules": [
            {
                "t": "neq",
                "v": "Evening",
                "vt": "global"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 944,
        "y": 720,
        "wires": [
            [
                "3a77e0e16a046488"
            ]
        ]
    },
    {
        "id": "3a77e0e16a046488",
        "type": "change",
        "z": "c10f39f7e68fb795",
        "name": "FALSE",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "false",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1074,
        "y": 720,
        "wires": [
            [
                "dd12c269a59fa669"
            ]
        ]
    },
    {
        "id": "b27c0bde4531df49",
        "type": "time-switch",
        "z": "c10f39f7e68fb795",
        "name": "",
        "lat": "42.74377283671802",
        "lon": "133.1237630957936",
        "startTime": "05:00",
        "endTime": "7:30",
        "startOffset": 0,
        "endOffset": "0",
        "x": 390,
        "y": 180,
        "wires": [
            [
                "a9035997296e10fd"
            ],
            []
        ]
    },
    {
        "id": "63a4c7d424d98c9c",
        "type": "time-switch",
        "z": "c10f39f7e68fb795",
        "name": "",
        "lat": "42.74377283671802",
        "lon": "133.1237630957936",
        "startTime": "7:30",
        "endTime": "17:00",
        "startOffset": 0,
        "endOffset": "0",
        "x": 370,
        "y": 260,
        "wires": [
            [
                "119ad4910b619e4f"
            ],
            []
        ]
    },
    {
        "id": "e705e4ac93c717a6",
        "type": "time-switch",
        "z": "c10f39f7e68fb795",
        "name": "",
        "lat": "42.74377283671802",
        "lon": "133.1237630957936",
        "startTime": "17:00",
        "endTime": "21:00",
        "startOffset": 0,
        "endOffset": "0",
        "x": 370,
        "y": 320,
        "wires": [
            [
                "ab9f44f9958e3a9a"
            ],
            []
        ]
    },
    {
        "id": "2b50679bd2ec6e89",
        "type": "time-switch",
        "z": "c10f39f7e68fb795",
        "name": "",
        "lat": "42.74377283671802",
        "lon": "133.1237630957936",
        "startTime": "21:00",
        "endTime": "05:00",
        "startOffset": 0,
        "endOffset": "0",
        "x": 370,
        "y": 380,
        "wires": [
            [
                "02a929c76536e093"
            ],
            []
        ]
    },
    {
        "id": "8c1b8d82247b097d",
        "type": "simpletime",
        "z": "c10f39f7e68fb795",
        "name": "",
        "x": 410,
        "y": 760,
        "wires": [
            [
                "796b4f5fc7995a0c"
            ]
        ]
    },
    {
        "id": "290cc60ebd0a2b10",
        "type": "simpletime",
        "z": "c10f39f7e68fb795",
        "name": "",
        "x": 410,
        "y": 580,
        "wires": [
            [
                "15286f0a256733de"
            ]
        ]
    },
    {
        "id": "2adbb0847a51037d",
        "type": "switch",
        "z": "c10f39f7e68fb795",
        "name": "Evening",
        "property": "Evening",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "true",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 560,
        "y": 834,
        "wires": [
            [
                "5997f6ecd27867e2"
            ]
        ]
    },
    {
        "id": "ba707b098f99526e",
        "type": "switch",
        "z": "c10f39f7e68fb795",
        "name": "Night",
        "property": "Night",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "true",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 550,
        "y": 954,
        "wires": [
            [
                "dc7abf9e12929b54"
            ]
        ]
    },
    {
        "id": "8854e9498bce9f3b",
        "type": "switch",
        "z": "c10f39f7e68fb795",
        "name": "Morning",
        "property": "Morning",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "true",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 563,
        "y": 874,
        "wires": [
            [
                "5997f6ecd27867e2"
            ]
        ]
    },
    {
        "id": "f6ee3518fe2d929d",
        "type": "switch",
        "z": "c10f39f7e68fb795",
        "name": "Day",
        "property": "Day",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "true",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 553,
        "y": 914,
        "wires": [
            [
                "dc7abf9e12929b54"
            ]
        ]
    },
    {
        "id": "ddc6dc98ead539a3",
        "type": "change",
        "z": "c10f39f7e68fb795",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "Home_Alarm_ON",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 500,
        "y": 40,
        "wires": [
            []
        ]
    },
    {
        "id": "b74f425d66178b60",
        "type": "mqtt in",
        "z": "c10f39f7e68fb795",
        "name": "",
        "topic": "Openhab_VAR/Home/Home_Alarm",
        "qos": "0",
        "datatype": "auto",
        "broker": "5101c6e3.603738",
        "nl": false,
        "rap": false,
        "inputs": 0,
        "x": 180,
        "y": 40,
        "wires": [
            [
                "ddc6dc98ead539a3"
            ]
        ]
    },
    {
        "id": "da737ef99b318cda",
        "type": "inject",
        "z": "c10f39f7e68fb795",
        "name": "",
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "1",
        "payloadType": "num",
        "x": 90,
        "y": 1060,
        "wires": [
            [
                "81377da4c7b3e2bb"
            ]
        ]
    },
    {
        "id": "dc7abf9e12929b54",
        "type": "change",
        "z": "c10f39f7e68fb795",
        "name": "2",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "T_Kof_set",
                "tot": "flow"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1010,
        "y": 1100,
        "wires": [
            [
                "05892e5b56ea932f"
            ]
        ]
    },
    {
        "id": "71d178a4f329d276",
        "type": "change",
        "z": "c10f39f7e68fb795",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "T_Kof",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1360,
        "y": 1040,
        "wires": [
            [
                "0fb80ab060bd215c"
            ]
        ]
    },
    {
        "id": "5997f6ecd27867e2",
        "type": "change",
        "z": "c10f39f7e68fb795",
        "name": "0",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "0",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1010,
        "y": 1040,
        "wires": [
            [
                "05892e5b56ea932f"
            ]
        ]
    },
    {
        "id": "05892e5b56ea932f",
        "type": "switch",
        "z": "c10f39f7e68fb795",
        "name": "FILTR",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "neq",
                "v": "T_Kof",
                "vt": "global"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 1190,
        "y": 1040,
        "wires": [
            [
                "71d178a4f329d276"
            ]
        ]
    },
    {
        "id": "15c57cbcfaa8e836",
        "type": "mqtt in",
        "z": "c10f39f7e68fb795",
        "name": "",
        "topic": "Openhab_VAR/Home/T_Kof",
        "qos": "2",
        "datatype": "auto",
        "broker": "5101c6e3.603738",
        "inputs": 0,
        "x": 160,
        "y": 840,
        "wires": [
            [
                "70b9637129c492af"
            ]
        ]
    },
    {
        "id": "70b9637129c492af",
        "type": "change",
        "z": "c10f39f7e68fb795",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "T_Kof_set",
                "pt": "flow",
                "to": "$number(payload)",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 210,
        "y": 920,
        "wires": [
            [
                "81377da4c7b3e2bb"
            ]
        ]
    },
    {
        "id": "d44d1a55f4ac3301",
        "type": "mqtt in",
        "z": "c10f39f7e68fb795",
        "name": "",
        "topic": "Openhab_VAR/Home/Rejim",
        "qos": "0",
        "datatype": "auto",
        "broker": "5101c6e3.603738",
        "inputs": 0,
        "x": 140,
        "y": 1200,
        "wires": [
            [
                "2937c1fbf1112bc4"
            ]
        ]
    },
    {
        "id": "81377da4c7b3e2bb",
        "type": "switch",
        "z": "c10f39f7e68fb795",
        "name": "дома охрана авто",
        "property": "Home_Rejim",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "2",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "1",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "3",
                "vt": "str"
            }
        ],
        "checkall": "false",
        "repair": false,
        "outputs": 3,
        "x": 310,
        "y": 1060,
        "wires": [
            [
                "3d8c7882941f9a58",
                "f881745a43b19e26"
            ],
            [
                "dc7abf9e12929b54"
            ],
            [
                "8854e9498bce9f3b",
                "f6ee3518fe2d929d",
                "2adbb0847a51037d",
                "ba707b098f99526e"
            ]
        ]
    },
    {
        "id": "2937c1fbf1112bc4",
        "type": "change",
        "z": "c10f39f7e68fb795",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "Home_Rejim",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 450,
        "y": 1200,
        "wires": [
            [
                "81377da4c7b3e2bb",
                "06536016f1a807d8"
            ]
        ]
    },
    {
        "id": "f881745a43b19e26",
        "type": "switch",
        "z": "c10f39f7e68fb795",
        "name": "Night",
        "property": "Night",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "true",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 550,
        "y": 1040,
        "wires": [
            [
                "5997f6ecd27867e2"
            ]
        ]
    },
    {
        "id": "3d8c7882941f9a58",
        "type": "switch",
        "z": "c10f39f7e68fb795",
        "name": "NO Night",
        "property": "Night",
        "propertyType": "global",
        "rules": [
            {
                "t": "neq",
                "v": "true",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 560,
        "y": 994,
        "wires": [
            [
                "5997f6ecd27867e2"
            ]
        ]
    },
    {
        "id": "06536016f1a807d8",
        "type": "debug",
        "z": "c10f39f7e68fb795",
        "name": "Home_Rejim",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "x": 760,
        "y": 1200,
        "wires": []
    },
    {
        "id": "0fb80ab060bd215c",
        "type": "debug",
        "z": "c10f39f7e68fb795",
        "name": "global.T_Kof",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "x": 1530,
        "y": 1040,
        "wires": []
    },
    {
        "id": "ea305ec255b479e8",
        "type": "simpletime",
        "z": "c10f39f7e68fb795",
        "name": "",
        "mydate": true,
        "myymd": true,
        "myyear": true,
        "mymonth": true,
        "mymonthn": true,
        "mydom": true,
        "mydoy": true,
        "myday": true,
        "myhourpm": true,
        "myhour": true,
        "mytime": true,
        "mytimes": true,
        "myminute": true,
        "myminutes": true,
        "mysecond": true,
        "mymillis": true,
        "myepoch": true,
        "myrawdate": true,
        "mypm": true,
        "x": 1000,
        "y": 40,
        "wires": [
            [
                "657c0bbd5516b589"
            ]
        ]
    },
    {
        "id": "179d5fa410cdd666",
        "type": "inject",
        "z": "c10f39f7e68fb795",
        "name": "",
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 780,
        "y": 40,
        "wires": [
            [
                "ea305ec255b479e8"
            ]
        ]
    },
    {
        "id": "657c0bbd5516b589",
        "type": "function",
        "z": "c10f39f7e68fb795",
        "name": "curent time",
        "func": "var myyear = msg.myyear;\nvar mymonthn = msg.mymonthn;\nvar mydom = msg.mydom;\nvar mytimes = msg.mytimes;\nquery = ``+myyear+`-`+mymonthn+`-`+mydom+` `+mytimes+``;\nmsg.payload = query;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 1200,
        "y": 40,
        "wires": [
            [
                "2b4700f0f96aae9e"
            ]
        ]
    },
    {
        "id": "2b4700f0f96aae9e",
        "type": "change",
        "z": "c10f39f7e68fb795",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "simpletime",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1410,
        "y": 40,
        "wires": [
            []
        ]
    },
    {
        "id": "69480e9862696a57",
        "type": "mqtt out",
        "z": "c10f39f7e68fb795",
        "name": "",
        "topic": "Openhab_VAR/Home/Time_of_Day",
        "qos": "0",
        "retain": "true",
        "broker": "5101c6e3.603738",
        "x": 1780,
        "y": 300,
        "wires": []
    },
    {
        "id": "b1a12e34d4cf2b83",
        "type": "function",
        "z": "c10f39f7e68fb795",
        "name": "Time_of_Day",
        "func": "\n\nvar Morning = global.get('Morning')\nvar Day = global.get('Day')\nvar Evening = global.get('Evening')\nvar Night = global.get('Night')\n\n    if(Morning == 'true')\n    {\n      msg.payload =  \"Утро\";  \n    }\n    else if (Day == 'true'){\n      msg.payload =  \"День\";    \n    }\n    else if (Evening == 'true'){\n      msg.payload =  \"Вечер\";    \n    }   \n    else if (Night == 'true'){\n      msg.payload =  \"Ночь\";    \n    }    \n    else\n    {\n     msg.payload = \"Ошибка\"  \n    }\n\n\nnode.status({fill:\"green\",shape:\"ring\",\"text\": msg.payload});\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 1460,
        "y": 300,
        "wires": [
            [
                "69480e9862696a57"
            ]
        ]
    },
    {
        "id": "7f3a1b90e1c2d97e",
        "type": "simpletime",
        "z": "c10f39f7e68fb795",
        "name": "",
        "mydate": true,
        "myymd": true,
        "myyear": true,
        "mymonth": true,
        "mymonthn": true,
        "mydom": true,
        "mydoy": true,
        "myday": true,
        "myhourpm": true,
        "myhour": true,
        "mytime": true,
        "mytimes": true,
        "myminute": true,
        "myminutes": true,
        "mysecond": true,
        "mymillis": true,
        "myepoch": true,
        "myrawdate": true,
        "mypm": true,
        "x": 1000,
        "y": 90,
        "wires": [
            [
                "7d6f303fb72e4695"
            ]
        ]
    },
    {
        "id": "34e9b7f0789caade",
        "type": "inject",
        "z": "c10f39f7e68fb795",
        "name": "",
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 780,
        "y": 90,
        "wires": [
            [
                "7f3a1b90e1c2d97e"
            ]
        ]
    },
    {
        "id": "7d6f303fb72e4695",
        "type": "function",
        "z": "c10f39f7e68fb795",
        "name": "curent time",
        "func": "var myyear = msg.myyear;\nvar mymonthn = msg.mymonthn;\nvar mydom = msg.mydom;\nvar mytimes = msg.mytimes;\nquery = ``+mytimes+``;\nmsg.payload = query;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 1200,
        "y": 90,
        "wires": [
            [
                "56fd5d28c7b30995"
            ]
        ]
    },
    {
        "id": "56fd5d28c7b30995",
        "type": "change",
        "z": "c10f39f7e68fb795",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "simpletime2",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1410,
        "y": 90,
        "wires": [
            []
        ]
    },
    {
        "id": "7093a530fedf45fa",
        "type": "mqtt out",
        "z": "daab586f23146360",
        "name": "",
        "topic": "Openhab_VAR/Home/Main_Door",
        "qos": "0",
        "retain": "true",
        "broker": "5101c6e3.603738",
        "x": 950,
        "y": 285,
        "wires": []
    },
    {
        "id": "3cbf7b285a899d9f",
        "type": "mqtt out",
        "z": "daab586f23146360",
        "name": "",
        "topic": "Xiaomi/MainDoor_CS1/battery",
        "qos": "0",
        "retain": "true",
        "broker": "5101c6e3.603738",
        "x": 565,
        "y": 120,
        "wires": []
    },
    {
        "id": "ab6e503201a371ee",
        "type": "mqtt out",
        "z": "daab586f23146360",
        "name": "",
        "topic": "Xiaomi/MainDoor_CS1/voltage",
        "qos": "0",
        "retain": "true",
        "broker": "5101c6e3.603738",
        "x": 565,
        "y": 75,
        "wires": []
    },
    {
        "id": "54f2f06b6f309484",
        "type": "mqtt out",
        "z": "daab586f23146360",
        "name": "",
        "topic": "Xiaomi/MainDoor_CS1/linkquality",
        "qos": "0",
        "retain": "true",
        "broker": "5101c6e3.603738",
        "x": 575,
        "y": 165,
        "wires": []
    },
    {
        "id": "92db1c759332c16a",
        "type": "function",
        "z": "daab586f23146360",
        "name": "MainDoor_Switch",
        "func": "var payload = msg.payload;\nvar data = JSON.parse(payload);\n\n\n\nvar battery = null;\nvar voltage = null;\nvar linkquality=null;\nvar click = null;\n\nnode.status({fill:\"grey\",shape:\"ring\",text:\"no state\"});\n\n\n\nif (data.battery) {\n    battery = {\"payload\": data.battery};\n}\nif (data.voltage) {\n    voltage = {\"payload\": data.voltage};\n}\nif (data.linkquality) {\n    if (data.linkquality > 100){\n    linkquality = {\"payload\": 4};\n    }\n    else if (data.linkquality > 80){\n    linkquality = {\"payload\": 3};\n    }\n    else if (data.linkquality > 50){\n    linkquality = {\"payload\": 2};\n    }\n    else if (data.linkquality > 30){\n    linkquality = {\"payload\": 1};\n    }\n    else {\n    linkquality = {\"payload\": 0};\n    }\n}\n\n\n\nif (data.click == \"single\") {\n    click = {\"payload\": \"single\"};\n    node.status({fill:\"red\",shape:\"dot\",text:\"single\"}); \n}\nif (data.click == \"double\") {\n    click = {\"payload\": \"double\"};\n    node.status({fill:\"green\",shape:\"dot\",text:\"double\"}); \n}\nif (data.click == \"long_release\") {\n    click = {\"payload\": \"long\"};\n    node.status({fill:\"blue\",shape:\"dot\",text:\"long\"}); \n}\n\n\n\n\nnode.send([ voltage, linkquality,battery,click]);\n",
        "outputs": 4,
        "noerr": 0,
        "x": 465,
        "y": 480,
        "wires": [
            [
                "5c6140d6924376be"
            ],
            [
                "9824ecb3ddb905b4"
            ],
            [
                "4db4943ce00a2660"
            ],
            [
                "9d7cb3af51b17fc7",
                "e90874f8c4c50569",
                "188f6b511533b9ca"
            ]
        ]
    },
    {
        "id": "ad74dc08fdc624da",
        "type": "mqtt in",
        "z": "daab586f23146360",
        "name": "",
        "topic": "zigbee2mqtt/MainDoor_Switch",
        "qos": "0",
        "datatype": "auto",
        "broker": "5101c6e3.603738",
        "nl": false,
        "rap": false,
        "inputs": 0,
        "x": 195,
        "y": 440,
        "wires": [
            [
                "92db1c759332c16a",
                "ddb41b11563996e2"
            ]
        ]
    },
    {
        "id": "9d7cb3af51b17fc7",
        "type": "mqtt out",
        "z": "daab586f23146360",
        "name": "",
        "topic": "Openhab_VAR/Home/MainDoor_Switch",
        "qos": "0",
        "retain": "true",
        "broker": "5101c6e3.603738",
        "x": 795,
        "y": 600,
        "wires": []
    },
    {
        "id": "4db4943ce00a2660",
        "type": "mqtt out",
        "z": "daab586f23146360",
        "name": "",
        "topic": "Xiaomi/MainDoor_Switch/battery",
        "qos": "0",
        "retain": "true",
        "broker": "5101c6e3.603738",
        "x": 1065,
        "y": 520,
        "wires": []
    },
    {
        "id": "5c6140d6924376be",
        "type": "mqtt out",
        "z": "daab586f23146360",
        "name": "",
        "topic": "Xiaomi/MainDoor_Switch/voltage",
        "qos": "0",
        "retain": "true",
        "broker": "5101c6e3.603738",
        "x": 1075,
        "y": 440,
        "wires": []
    },
    {
        "id": "9824ecb3ddb905b4",
        "type": "mqtt out",
        "z": "daab586f23146360",
        "name": "",
        "topic": "Xiaomi/MainDoor_Switch/linkquality",
        "qos": "0",
        "retain": "true",
        "broker": "5101c6e3.603738",
        "x": 1075,
        "y": 480,
        "wires": []
    },
    {
        "id": "e90874f8c4c50569",
        "type": "debug",
        "z": "daab586f23146360",
        "name": "MainDoor_Switch",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "x": 515,
        "y": 640,
        "wires": []
    },
    {
        "id": "ddb41b11563996e2",
        "type": "debug",
        "z": "daab586f23146360",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "x": 555,
        "y": 380,
        "wires": []
    },
    {
        "id": "188f6b511533b9ca",
        "type": "switch",
        "z": "daab586f23146360",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "single",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "double",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "long",
                "vt": "str"
            }
        ],
        "checkall": "false",
        "repair": false,
        "outputs": 3,
        "x": 545,
        "y": 740,
        "wires": [
            [
                "808fe03a75da2b39"
            ],
            [
                "d0e228b711c23f9d"
            ],
            [
                "dc8e7a3b3f35ea40"
            ]
        ]
    },
    {
        "id": "808fe03a75da2b39",
        "type": "change",
        "z": "daab586f23146360",
        "name": "Охрана",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "1",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 745,
        "y": 700,
        "wires": [
            [
                "8f7aa42c1acf3e0a"
            ]
        ]
    },
    {
        "id": "dc8e7a3b3f35ea40",
        "type": "change",
        "z": "daab586f23146360",
        "name": "Дома",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "2",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 735,
        "y": 800,
        "wires": [
            [
                "8f7aa42c1acf3e0a"
            ]
        ]
    },
    {
        "id": "d0e228b711c23f9d",
        "type": "change",
        "z": "daab586f23146360",
        "name": "Авто",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "3",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 735,
        "y": 740,
        "wires": [
            [
                "8f7aa42c1acf3e0a"
            ]
        ]
    },
    {
        "id": "8f7aa42c1acf3e0a",
        "type": "mqtt out",
        "z": "daab586f23146360",
        "name": "",
        "topic": "Openhab_VAR/Home/Rejim",
        "qos": "1",
        "retain": "true",
        "broker": "5101c6e3.603738",
        "x": 1045,
        "y": 740,
        "wires": []
    },
    {
        "id": "760cbfa95865a5cb",
        "type": "mqtt in",
        "z": "daab586f23146360",
        "name": "",
        "topic": "zigbee2mqtt/MainDoor_CS1/contact",
        "qos": "2",
        "datatype": "auto",
        "broker": "5101c6e3.603738",
        "nl": false,
        "rap": true,
        "rh": 0,
        "inputs": 0,
        "x": 225,
        "y": 285,
        "wires": [
            [
                "8e094370a97b0221"
            ]
        ]
    },
    {
        "id": "8e094370a97b0221",
        "type": "switch",
        "z": "daab586f23146360",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "true",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "false",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 455,
        "y": 285,
        "wires": [
            [
                "9e8dcbde896ad11e"
            ],
            [
                "06090c6b87c8911b"
            ]
        ]
    },
    {
        "id": "06090c6b87c8911b",
        "type": "change",
        "z": "daab586f23146360",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "OPEN",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 620,
        "y": 300,
        "wires": [
            [
                "7093a530fedf45fa"
            ]
        ]
    },
    {
        "id": "9e8dcbde896ad11e",
        "type": "change",
        "z": "daab586f23146360",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "CLOSED",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 620,
        "y": 270,
        "wires": [
            [
                "7093a530fedf45fa"
            ]
        ]
    },
    {
        "id": "66beaad77dce249d",
        "type": "mqtt in",
        "z": "daab586f23146360",
        "name": "",
        "topic": "zigbee2mqtt/MainDoor_CS1/voltage",
        "qos": "2",
        "datatype": "auto",
        "broker": "5101c6e3.603738",
        "nl": false,
        "rap": true,
        "rh": 0,
        "inputs": 0,
        "x": 200,
        "y": 75,
        "wires": [
            [
                "ab6e503201a371ee"
            ]
        ]
    },
    {
        "id": "e5574df695205d0d",
        "type": "mqtt in",
        "z": "daab586f23146360",
        "name": "",
        "topic": "zigbee2mqtt/MainDoor_CS1/battery",
        "qos": "2",
        "datatype": "auto",
        "broker": "5101c6e3.603738",
        "nl": false,
        "rap": true,
        "rh": 0,
        "inputs": 0,
        "x": 215,
        "y": 120,
        "wires": [
            [
                "3cbf7b285a899d9f"
            ]
        ]
    },
    {
        "id": "004b5ec88243ea6e",
        "type": "mqtt in",
        "z": "daab586f23146360",
        "name": "",
        "topic": "zigbee2mqtt/MainDoor_CS1/linkquality",
        "qos": "2",
        "datatype": "auto",
        "broker": "5101c6e3.603738",
        "nl": false,
        "rap": true,
        "rh": 0,
        "inputs": 0,
        "x": 225,
        "y": 165,
        "wires": [
            [
                "54f2f06b6f309484"
            ]
        ]
    },
    {
        "id": "e5a0bf0d1ce0ab24",
        "type": "change",
        "z": "0c0449238a1753b7",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "Temperature",
                "pt": "flow",
                "to": "$number(payload)",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 450,
        "y": 1016,
        "wires": [
            [
                "f42b44a71b6c9cb3"
            ]
        ]
    },
    {
        "id": "568144e51491043f",
        "type": "mqtt in",
        "z": "0c0449238a1753b7",
        "name": "",
        "topic": "Openhab_VAR/KidsRoom/Temperature",
        "qos": "0",
        "datatype": "auto",
        "broker": "5101c6e3.603738",
        "inputs": 0,
        "x": 168,
        "y": 1016,
        "wires": [
            [
                "e5a0bf0d1ce0ab24"
            ]
        ]
    },
    {
        "id": "f42b44a71b6c9cb3",
        "type": "switch",
        "z": "0c0449238a1753b7",
        "name": "ENABLE_AUTO",
        "property": "Auto_Heater",
        "propertyType": "flow",
        "rules": [
            {
                "t": "eq",
                "v": "OFF",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "ON",
                "vt": "str"
            }
        ],
        "checkall": "false",
        "repair": false,
        "outputs": 2,
        "x": 712,
        "y": 956,
        "wires": [
            [],
            [
                "1fc85c034860593b"
            ]
        ]
    },
    {
        "id": "34a803d3ad439917",
        "type": "change",
        "z": "0c0449238a1753b7",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "Auto_Heater",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 450,
        "y": 876,
        "wires": [
            [
                "f42b44a71b6c9cb3",
                "c503af4e52e35662"
            ]
        ]
    },
    {
        "id": "2c365824610bd985",
        "type": "switch",
        "z": "0c0449238a1753b7",
        "name": "REGULATOR",
        "property": "Temperature",
        "propertyType": "flow",
        "rules": [
            {
                "t": "gte",
                "v": "Set_Temperature",
                "vt": "flow"
            },
            {
                "t": "lt",
                "v": "Set_Temperature",
                "vt": "flow"
            }
        ],
        "checkall": "false",
        "repair": false,
        "outputs": 2,
        "x": 1125,
        "y": 963,
        "wires": [
            [
                "5a4932364c0ecf17"
            ],
            [
                "ef31dff139bce960"
            ]
        ]
    },
    {
        "id": "728edcb7cf8182c4",
        "type": "change",
        "z": "0c0449238a1753b7",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "Heater1",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 450,
        "y": 1096,
        "wires": [
            [
                "f42b44a71b6c9cb3",
                "9b3eb882c191c233"
            ]
        ]
    },
    {
        "id": "5593377d9671de7a",
        "type": "change",
        "z": "0c0449238a1753b7",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "Set_Temperature",
                "pt": "flow",
                "to": "$number(payload)",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 869,
        "y": 570,
        "wires": [
            [
                "d3a688d1d823e9a8"
            ]
        ]
    },
    {
        "id": "0520d5a9635ab0e7",
        "type": "mqtt in",
        "z": "0c0449238a1753b7",
        "name": "",
        "topic": "Openhab_VAR/KidsRoom/Auto_Heater",
        "qos": "0",
        "datatype": "auto",
        "broker": "5101c6e3.603738",
        "inputs": 0,
        "x": 171,
        "y": 876,
        "wires": [
            [
                "34a803d3ad439917"
            ]
        ]
    },
    {
        "id": "5a4932364c0ecf17",
        "type": "change",
        "z": "0c0449238a1753b7",
        "name": "OFF",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "OFF",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1290,
        "y": 881,
        "wires": [
            [
                "57110639f8544d95"
            ]
        ]
    },
    {
        "id": "ef31dff139bce960",
        "type": "change",
        "z": "0c0449238a1753b7",
        "name": "ON",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "ON",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1290,
        "y": 970,
        "wires": [
            [
                "57110639f8544d95"
            ]
        ]
    },
    {
        "id": "04beb013020187bb",
        "type": "mqtt in",
        "z": "0c0449238a1753b7",
        "name": "",
        "topic": "zigbee2mqtt/mainrelay/state_l4",
        "qos": "0",
        "datatype": "auto",
        "broker": "5101c6e3.603738",
        "nl": false,
        "rap": false,
        "inputs": 0,
        "x": 148,
        "y": 1096,
        "wires": [
            [
                "728edcb7cf8182c4"
            ]
        ]
    },
    {
        "id": "19d644c2c90221d9",
        "type": "mqtt out",
        "z": "0c0449238a1753b7",
        "name": "",
        "topic": "Openhab_VAR/KidsRoom/Auto_Temperature",
        "qos": "2",
        "retain": "true",
        "broker": "5101c6e3.603738",
        "x": 1386,
        "y": 598,
        "wires": []
    },
    {
        "id": "57110639f8544d95",
        "type": "switch",
        "z": "0c0449238a1753b7",
        "name": "Heater1",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "neq",
                "v": "Heater1",
                "vt": "flow"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 1480,
        "y": 971,
        "wires": [
            [
                "43b225022dbdb21f",
                "bc5f3b35d121b1f4"
            ]
        ]
    },
    {
        "id": "6c68b611f2877983",
        "type": "mqtt in",
        "z": "0c0449238a1753b7",
        "name": "",
        "topic": "Openhab_VAR/KidsRoom/Set_Temperature",
        "qos": "0",
        "datatype": "auto",
        "broker": "5101c6e3.603738",
        "inputs": 0,
        "x": 188,
        "y": 518,
        "wires": [
            [
                "f2ae1e632bb67797"
            ]
        ]
    },
    {
        "id": "bc5f3b35d121b1f4",
        "type": "mqtt out",
        "z": "0c0449238a1753b7",
        "name": "",
        "topic": "zigbee2mqtt/mainrelay/set/state_l4",
        "qos": "0",
        "retain": "false",
        "respTopic": "",
        "contentType": "",
        "userProps": "",
        "correl": "",
        "expiry": "",
        "broker": "5101c6e3.603738",
        "x": 1835,
        "y": 990,
        "wires": []
    },
    {
        "id": "43b225022dbdb21f",
        "type": "debug",
        "z": "0c0449238a1753b7",
        "name": "KidsRoom_Heater1_set",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 1805,
        "y": 930,
        "wires": []
    },
    {
        "id": "f2ae1e632bb67797",
        "type": "change",
        "z": "0c0449238a1753b7",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "Set_Temp",
                "pt": "flow",
                "to": "$number(payload)",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 467,
        "y": 518,
        "wires": [
            [
                "19cfa2067e841f92"
            ]
        ]
    },
    {
        "id": "9937ec7864efd38c",
        "type": "change",
        "z": "0c0449238a1753b7",
        "name": "Set_Temp",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "Set_Temp",
                "tot": "flow"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 457,
        "y": 613,
        "wires": [
            [
                "19cfa2067e841f92"
            ]
        ]
    },
    {
        "id": "b6bb176dd00f7de9",
        "type": "mqtt in",
        "z": "0c0449238a1753b7",
        "name": "",
        "topic": "Openhab_VAR/KidsRoom/Heater1_on_set",
        "qos": "0",
        "datatype": "auto",
        "broker": "5101c6e3.603738",
        "inputs": 0,
        "x": 1176,
        "y": 1094,
        "wires": [
            [
                "57110639f8544d95"
            ]
        ]
    },
    {
        "id": "9b3eb882c191c233",
        "type": "mqtt out",
        "z": "0c0449238a1753b7",
        "name": "",
        "topic": "Openhab_VAR/KidsRoom/Heater1_on",
        "qos": "2",
        "retain": "true",
        "broker": "5101c6e3.603738",
        "x": 745,
        "y": 1096,
        "wires": []
    },
    {
        "id": "c503af4e52e35662",
        "type": "switch",
        "z": "0c0449238a1753b7",
        "name": "DISABLE_AUTO",
        "property": "Auto_Heater",
        "propertyType": "flow",
        "rules": [
            {
                "t": "eq",
                "v": "OFF",
                "vt": "str"
            }
        ],
        "checkall": "false",
        "repair": false,
        "outputs": 1,
        "x": 715,
        "y": 876,
        "wires": [
            [
                "5a4932364c0ecf17"
            ]
        ]
    },
    {
        "id": "5c55859246732a52",
        "type": "mqtt in",
        "z": "0c0449238a1753b7",
        "name": "",
        "topic": "Openhab_VAR/Home/Rejim",
        "qos": "0",
        "datatype": "auto",
        "broker": "5101c6e3.603738",
        "inputs": 0,
        "x": 137,
        "y": 614,
        "wires": [
            [
                "9937ec7864efd38c"
            ]
        ]
    },
    {
        "id": "e20276fe9c0952e2",
        "type": "inject",
        "z": "0c0449238a1753b7",
        "name": "",
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "1",
        "payloadType": "num",
        "x": 206,
        "y": 566,
        "wires": [
            [
                "9937ec7864efd38c"
            ]
        ]
    },
    {
        "id": "6b9aef6ec7d62866",
        "type": "mqtt in",
        "z": "0c0449238a1753b7",
        "name": "",
        "topic": "Openhab_VAR/KidsRoom/Auto_Temperature",
        "qos": "2",
        "datatype": "auto",
        "broker": "5101c6e3.603738",
        "inputs": 0,
        "x": 188,
        "y": 956,
        "wires": [
            [
                "f42b44a71b6c9cb3"
            ]
        ]
    },
    {
        "id": "3b53ae3a8fb071fb",
        "type": "mqtt in",
        "z": "0c0449238a1753b7",
        "name": "",
        "topic": "Openhab_VAR/KidsRoom/Auto_Temperature",
        "qos": "2",
        "datatype": "auto",
        "broker": "5101c6e3.603738",
        "inputs": 0,
        "x": 185,
        "y": 420,
        "wires": [
            [
                "8f7e96261ab1bba4"
            ]
        ]
    },
    {
        "id": "8f7e96261ab1bba4",
        "type": "change",
        "z": "0c0449238a1753b7",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "Auto_Temperature",
                "pt": "flow",
                "to": "$number(payload)",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 545,
        "y": 420,
        "wires": [
            []
        ]
    },
    {
        "id": "d3a688d1d823e9a8",
        "type": "switch",
        "z": "0c0449238a1753b7",
        "name": "Auto_Temperature",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "neq",
                "v": "Auto_Temperature",
                "vt": "flow"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 1094,
        "y": 570,
        "wires": [
            [
                "19d644c2c90221d9",
                "84b5a0038371923e"
            ]
        ]
    },
    {
        "id": "84b5a0038371923e",
        "type": "debug",
        "z": "0c0449238a1753b7",
        "name": "KidsRoom_Auto_Temperature",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "x": 1346,
        "y": 538,
        "wires": []
    },
    {
        "id": "19cfa2067e841f92",
        "type": "function",
        "z": "0c0449238a1753b7",
        "name": "- T_Kof",
        "func": "var kof=global.get('T_Kof')\n\nvar Morning = global.get('Morning')\nvar Day = global.get('Day')\nvar Evening = global.get('Evening')\nvar Night = global.get('Night')\n\nvar SetT_Global = flow.get('SetT_Global')\n\nvar Morning_SetT = flow.get('Morning_SetT')\nvar Day_SetT = flow.get('Day_SetT')\nvar Night_SetT = flow.get('Night_SetT')\nvar Evening_SetT = flow.get('Evening_SetT')\n\n\n\nif (SetT_Global== 'ON') {\n    msg.payload = msg.payload  - kof;\n    }\n    \nelse {\n    if(Morning == 'true')\n    {\n      msg.payload =  Morning_SetT;  \n    }\n    else if (Day == 'true'){\n      msg.payload =  Day_SetT;    \n    }\n    else if (Evening == 'true'){\n      msg.payload =  Evening_SetT;    \n    }   \n    else if (Night == 'true'){\n      msg.payload =  Night_SetT;    \n    }    \n    else\n    {\n     msg.payload = msg.payload   \n    }\n}\n\nnode.status({fill:\"green\",shape:\"ring\",\"text\": msg.payload});\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 675,
        "y": 570,
        "wires": [
            [
                "5593377d9671de7a"
            ]
        ]
    },
    {
        "id": "2e08aaa0d1d18d31",
        "type": "mqtt in",
        "z": "0c0449238a1753b7",
        "name": "",
        "topic": "Openhab_VAR/Home/T_Kof",
        "qos": "2",
        "datatype": "auto",
        "broker": "5101c6e3.603738",
        "inputs": 0,
        "x": 135,
        "y": 669,
        "wires": [
            [
                "9937ec7864efd38c"
            ]
        ]
    },
    {
        "id": "1fc85c034860593b",
        "type": "switch",
        "z": "0c0449238a1753b7",
        "name": "Window_CLOSED",
        "property": "Window",
        "propertyType": "flow",
        "rules": [
            {
                "t": "eq",
                "v": "CLOSED",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 925,
        "y": 963,
        "wires": [
            [
                "2c365824610bd985"
            ]
        ]
    },
    {
        "id": "18e8ed24161d3b6c",
        "type": "mqtt in",
        "z": "0c0449238a1753b7",
        "name": "",
        "topic": "Openhab_VAR/KidsRoom/Window",
        "qos": "2",
        "datatype": "auto",
        "broker": "5101c6e3.603738",
        "inputs": 0,
        "x": 158,
        "y": 796,
        "wires": [
            [
                "06ea110912dbaa1a"
            ]
        ]
    },
    {
        "id": "06ea110912dbaa1a",
        "type": "change",
        "z": "0c0449238a1753b7",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "Window",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 427,
        "y": 796,
        "wires": [
            [
                "17e1e3bf235039ef",
                "f42b44a71b6c9cb3"
            ]
        ]
    },
    {
        "id": "17e1e3bf235039ef",
        "type": "switch",
        "z": "0c0449238a1753b7",
        "name": "Window_OPEN",
        "property": "Window",
        "propertyType": "flow",
        "rules": [
            {
                "t": "eq",
                "v": "OPEN",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 690,
        "y": 790,
        "wires": [
            [
                "5a4932364c0ecf17"
            ]
        ]
    },
    {
        "id": "89b349fdcee83036",
        "type": "mqtt out",
        "z": "0c0449238a1753b7",
        "name": "",
        "topic": "Openhab_VAR/KidsRoom/Temperature",
        "qos": "0",
        "retain": "true",
        "broker": "5101c6e3.603738",
        "x": 700,
        "y": 45,
        "wires": []
    },
    {
        "id": "dd7e78c39b845dea",
        "type": "mqtt out",
        "z": "0c0449238a1753b7",
        "name": "",
        "topic": "Openhab_VAR/KidsRoom/Humidity",
        "qos": "0",
        "retain": "true",
        "broker": "5101c6e3.603738",
        "x": 680,
        "y": 90,
        "wires": []
    },
    {
        "id": "93426a0cd6a2d120",
        "type": "mqtt out",
        "z": "0c0449238a1753b7",
        "name": "",
        "topic": "Xiaomi/KidsRoom_HT1/voltage",
        "qos": "0",
        "retain": "true",
        "broker": "5101c6e3.603738",
        "x": 670,
        "y": 135,
        "wires": []
    },
    {
        "id": "2464c9e2ae40fa02",
        "type": "mqtt out",
        "z": "0c0449238a1753b7",
        "name": "",
        "topic": "Xiaomi/KidsRoom_HT1/linkquality",
        "qos": "0",
        "retain": "true",
        "broker": "5101c6e3.603738",
        "x": 680,
        "y": 175,
        "wires": []
    },
    {
        "id": "030824f96b89622e",
        "type": "mqtt out",
        "z": "0c0449238a1753b7",
        "name": "",
        "topic": "Xiaomi/KidsRoom_HT1/battery",
        "qos": "0",
        "retain": "true",
        "broker": "5101c6e3.603738",
        "x": 670,
        "y": 215,
        "wires": []
    },
    {
        "id": "ab383409670f865b",
        "type": "mqtt out",
        "z": "0c0449238a1753b7",
        "name": "",
        "topic": "Openhab_VAR/KidsRoom/Window",
        "qos": "0",
        "retain": "true",
        "broker": "5101c6e3.603738",
        "x": 1935,
        "y": 195,
        "wires": []
    },
    {
        "id": "083627f7548e0bb6",
        "type": "inject",
        "z": "0c0449238a1753b7",
        "name": "CLOSED",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "1500",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "CLOSED",
        "payloadType": "str",
        "x": 1615,
        "y": 240,
        "wires": [
            [
                "ab383409670f865b",
                "82dc57cbb3cd7cff",
                "dd2e9448e4275f93"
            ]
        ]
    },
    {
        "id": "3cb704a4c3a0a1b8",
        "type": "mqtt in",
        "z": "0c0449238a1753b7",
        "name": "",
        "topic": "Openhab_VAR/KidsRoom/SetT_Global",
        "qos": "2",
        "datatype": "auto",
        "broker": "5101c6e3.603738",
        "inputs": 0,
        "x": 170,
        "y": 303,
        "wires": [
            [
                "0e74f169ba334e6b"
            ]
        ]
    },
    {
        "id": "b80b392556eb295f",
        "type": "mqtt in",
        "z": "0c0449238a1753b7",
        "name": "",
        "topic": "Openhab_VAR/KidsRoom/Morning_SetT",
        "qos": "2",
        "datatype": "auto",
        "broker": "5101c6e3.603738",
        "inputs": 0,
        "x": 175,
        "y": 363,
        "wires": [
            [
                "6062afe317a4a4a8"
            ]
        ]
    },
    {
        "id": "7fc52896f1ea144c",
        "type": "mqtt in",
        "z": "0c0449238a1753b7",
        "name": "",
        "topic": "Openhab_VAR/KidsRoom/Day_SetT",
        "qos": "2",
        "datatype": "auto",
        "broker": "5101c6e3.603738",
        "inputs": 0,
        "x": 980,
        "y": 310,
        "wires": [
            [
                "5558e59ebc69dcee"
            ]
        ]
    },
    {
        "id": "73de4a087a401079",
        "type": "mqtt in",
        "z": "0c0449238a1753b7",
        "name": "",
        "topic": "Openhab_VAR/KidsRoom/Evening_SetT",
        "qos": "2",
        "datatype": "auto",
        "broker": "5101c6e3.603738",
        "inputs": 0,
        "x": 998,
        "y": 430,
        "wires": [
            [
                "057240407eeb3762"
            ]
        ]
    },
    {
        "id": "be88a7f0599340b0",
        "type": "mqtt in",
        "z": "0c0449238a1753b7",
        "name": "",
        "topic": "Openhab_VAR/KidsRoom/Night_SetT",
        "qos": "2",
        "datatype": "auto",
        "broker": "5101c6e3.603738",
        "inputs": 0,
        "x": 988,
        "y": 370,
        "wires": [
            [
                "0038fa4688cbafb8"
            ]
        ]
    },
    {
        "id": "057240407eeb3762",
        "type": "change",
        "z": "0c0449238a1753b7",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "Evening_SetT",
                "pt": "flow",
                "to": "$number(payload)",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1310,
        "y": 430,
        "wires": [
            []
        ]
    },
    {
        "id": "0038fa4688cbafb8",
        "type": "change",
        "z": "0c0449238a1753b7",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "Night_SetT",
                "pt": "flow",
                "to": "$number(payload)",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1303,
        "y": 370,
        "wires": [
            []
        ]
    },
    {
        "id": "5558e59ebc69dcee",
        "type": "change",
        "z": "0c0449238a1753b7",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "Day_SetT",
                "pt": "flow",
                "to": "$number(payload)",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1308,
        "y": 310,
        "wires": [
            []
        ]
    },
    {
        "id": "6062afe317a4a4a8",
        "type": "change",
        "z": "0c0449238a1753b7",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "Morning_SetT",
                "pt": "flow",
                "to": "$number(payload)",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 498,
        "y": 363,
        "wires": [
            []
        ]
    },
    {
        "id": "0e74f169ba334e6b",
        "type": "change",
        "z": "0c0449238a1753b7",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "SetT_Global",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 500,
        "y": 303,
        "wires": [
            []
        ]
    },
    {
        "id": "95b8cda54562f907",
        "type": "switch",
        "z": "0c0449238a1753b7",
        "name": "ENABLE_AUTO",
        "property": "Auto_Heater",
        "propertyType": "flow",
        "rules": [
            {
                "t": "eq",
                "v": "OFF",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "ON",
                "vt": "str"
            }
        ],
        "checkall": "false",
        "repair": false,
        "outputs": 2,
        "x": 710,
        "y": 1440,
        "wires": [
            [],
            [
                "de6763c024a56a7c"
            ]
        ]
    },
    {
        "id": "4edcff4af1ef00c6",
        "type": "change",
        "z": "0c0449238a1753b7",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "Temperature",
                "pt": "flow",
                "to": "$number(payload)",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 448,
        "y": 1500,
        "wires": [
            [
                "95b8cda54562f907"
            ]
        ]
    },
    {
        "id": "de6763c024a56a7c",
        "type": "switch",
        "z": "0c0449238a1753b7",
        "name": "Window_CLOSED",
        "property": "Window",
        "propertyType": "flow",
        "rules": [
            {
                "t": "eq",
                "v": "CLOSED",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 923,
        "y": 1447,
        "wires": [
            [
                "aef3b2a5e2e370d1"
            ]
        ]
    },
    {
        "id": "9a1336ef2a5926ea",
        "type": "change",
        "z": "0c0449238a1753b7",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "Auto_Heater",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 448,
        "y": 1360,
        "wires": [
            [
                "95b8cda54562f907",
                "a45b8d1e6cf943d4"
            ]
        ]
    },
    {
        "id": "1a86dcf7d8eb24dc",
        "type": "change",
        "z": "0c0449238a1753b7",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "Heater2",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 448,
        "y": 1580,
        "wires": [
            [
                "95b8cda54562f907",
                "64e0050ffde6991e"
            ]
        ]
    },
    {
        "id": "3efcf8d11c3c371b",
        "type": "mqtt in",
        "z": "0c0449238a1753b7",
        "name": "",
        "topic": "Openhab_VAR/KidsRoom/Auto_Temperature",
        "qos": "2",
        "datatype": "auto",
        "broker": "5101c6e3.603738",
        "inputs": 0,
        "x": 186,
        "y": 1440,
        "wires": [
            [
                "95b8cda54562f907"
            ]
        ]
    },
    {
        "id": "d991eeba912d2d5c",
        "type": "change",
        "z": "0c0449238a1753b7",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "Window",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 425,
        "y": 1280,
        "wires": [
            [
                "2abad015315232f7",
                "95b8cda54562f907"
            ]
        ]
    },
    {
        "id": "5b16e8fa10c8de5c",
        "type": "mqtt in",
        "z": "0c0449238a1753b7",
        "name": "",
        "topic": "Openhab_VAR/KidsRoom/Temperature",
        "qos": "0",
        "datatype": "auto",
        "broker": "5101c6e3.603738",
        "nl": false,
        "rap": false,
        "inputs": 0,
        "x": 166,
        "y": 1500,
        "wires": [
            [
                "4edcff4af1ef00c6"
            ]
        ]
    },
    {
        "id": "aef3b2a5e2e370d1",
        "type": "switch",
        "z": "0c0449238a1753b7",
        "name": "REGULATOR",
        "property": "Temperature",
        "propertyType": "flow",
        "rules": [
            {
                "t": "gte",
                "v": "Set_Temperature",
                "vt": "flow"
            },
            {
                "t": "lt",
                "v": "Set_Temperature",
                "vt": "flow"
            }
        ],
        "checkall": "false",
        "repair": false,
        "outputs": 2,
        "x": 1123,
        "y": 1447,
        "wires": [
            [
                "47988f00545213fd"
            ],
            [
                "bb16fd3568851e55"
            ]
        ]
    },
    {
        "id": "a45b8d1e6cf943d4",
        "type": "switch",
        "z": "0c0449238a1753b7",
        "name": "DISABLE_AUTO",
        "property": "Auto_Heater",
        "propertyType": "flow",
        "rules": [
            {
                "t": "eq",
                "v": "OFF",
                "vt": "str"
            }
        ],
        "checkall": "false",
        "repair": false,
        "outputs": 1,
        "x": 713,
        "y": 1360,
        "wires": [
            [
                "47988f00545213fd"
            ]
        ]
    },
    {
        "id": "1f1eb6e698fc9a8e",
        "type": "mqtt in",
        "z": "0c0449238a1753b7",
        "name": "",
        "topic": "Openhab_VAR/KidsRoom/Auto_Heater",
        "qos": "0",
        "datatype": "auto",
        "broker": "5101c6e3.603738",
        "inputs": 0,
        "x": 169,
        "y": 1360,
        "wires": [
            [
                "9a1336ef2a5926ea"
            ]
        ]
    },
    {
        "id": "64e0050ffde6991e",
        "type": "mqtt out",
        "z": "0c0449238a1753b7",
        "name": "",
        "topic": "Openhab_VAR/KidsRoom/Heater2_on",
        "qos": "2",
        "retain": "true",
        "broker": "5101c6e3.603738",
        "x": 743,
        "y": 1580,
        "wires": []
    },
    {
        "id": "37559c173050a63d",
        "type": "mqtt in",
        "z": "0c0449238a1753b7",
        "name": "",
        "topic": "zigbee2mqtt/mainrelay/state_l5",
        "qos": "0",
        "datatype": "auto",
        "broker": "5101c6e3.603738",
        "nl": false,
        "rap": false,
        "inputs": 0,
        "x": 146,
        "y": 1580,
        "wires": [
            [
                "1a86dcf7d8eb24dc"
            ]
        ]
    },
    {
        "id": "3f52ba979d19a9ef",
        "type": "mqtt in",
        "z": "0c0449238a1753b7",
        "name": "",
        "topic": "Openhab_VAR/KidsRoom/Window",
        "qos": "2",
        "datatype": "auto",
        "broker": "5101c6e3.603738",
        "inputs": 0,
        "x": 156,
        "y": 1280,
        "wires": [
            []
        ]
    },
    {
        "id": "2abad015315232f7",
        "type": "switch",
        "z": "0c0449238a1753b7",
        "name": "Window_OPEN",
        "property": "Window",
        "propertyType": "flow",
        "rules": [
            {
                "t": "eq",
                "v": "OPEN",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 663,
        "y": 1279,
        "wires": [
            [
                "47988f00545213fd"
            ]
        ]
    },
    {
        "id": "47988f00545213fd",
        "type": "change",
        "z": "0c0449238a1753b7",
        "name": "OFF",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "OFF",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1288,
        "y": 1365,
        "wires": [
            [
                "1d9e5ce57ec9ab98"
            ]
        ]
    },
    {
        "id": "bb16fd3568851e55",
        "type": "change",
        "z": "0c0449238a1753b7",
        "name": "ON",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "ON",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1288,
        "y": 1454,
        "wires": [
            [
                "1d9e5ce57ec9ab98"
            ]
        ]
    },
    {
        "id": "1d9e5ce57ec9ab98",
        "type": "switch",
        "z": "0c0449238a1753b7",
        "name": "Heater2",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "neq",
                "v": "Heater2",
                "vt": "flow"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 1478,
        "y": 1455,
        "wires": [
            [
                "3d39836abf2ae6bf",
                "7bec38e127795afb"
            ]
        ]
    },
    {
        "id": "f46170f1218e65d2",
        "type": "mqtt in",
        "z": "0c0449238a1753b7",
        "name": "",
        "topic": "Openhab_VAR/KidsRoom/Heater2_on_set",
        "qos": "0",
        "datatype": "auto",
        "broker": "5101c6e3.603738",
        "inputs": 0,
        "x": 1174,
        "y": 1578,
        "wires": [
            [
                "1d9e5ce57ec9ab98"
            ]
        ]
    },
    {
        "id": "7bec38e127795afb",
        "type": "mqtt out",
        "z": "0c0449238a1753b7",
        "name": "",
        "topic": "zigbee2mqtt/mainrelay/set/state_l5",
        "qos": "0",
        "retain": "false",
        "respTopic": "",
        "contentType": "",
        "userProps": "",
        "correl": "",
        "expiry": "",
        "broker": "5101c6e3.603738",
        "x": 1910,
        "y": 1455,
        "wires": []
    },
    {
        "id": "3d39836abf2ae6bf",
        "type": "debug",
        "z": "0c0449238a1753b7",
        "name": "KidsRoom_Heater2_set",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 1865,
        "y": 1395,
        "wires": []
    },
    {
        "id": "82dc57cbb3cd7cff",
        "type": "mqtt out",
        "z": "0c0449238a1753b7",
        "name": "",
        "topic": "Openhab_VAR/KidsRoom/Window1",
        "qos": "0",
        "retain": "true",
        "broker": "5101c6e3.603738",
        "x": 1985,
        "y": 255,
        "wires": []
    },
    {
        "id": "dd2e9448e4275f93",
        "type": "mqtt out",
        "z": "0c0449238a1753b7",
        "name": "",
        "topic": "Openhab_VAR/KidsRoom/Window2",
        "qos": "0",
        "retain": "true",
        "broker": "5101c6e3.603738",
        "x": 2000,
        "y": 300,
        "wires": []
    },
    {
        "id": "0f634dbb78c63670",
        "type": "mqtt in",
        "z": "0c0449238a1753b7",
        "name": "",
        "topic": "zigbee2mqtt/KidsRoom_HT1/temperature",
        "qos": "2",
        "datatype": "auto",
        "broker": "5101c6e3.603738",
        "nl": false,
        "rap": true,
        "rh": 0,
        "inputs": 0,
        "x": 280,
        "y": 45,
        "wires": [
            [
                "89b349fdcee83036"
            ]
        ]
    },
    {
        "id": "baabfc8fe3c4c28b",
        "type": "mqtt in",
        "z": "0c0449238a1753b7",
        "name": "",
        "topic": "zigbee2mqtt/KidsRoom_HT1/humidity",
        "qos": "2",
        "datatype": "auto",
        "broker": "5101c6e3.603738",
        "nl": false,
        "rap": true,
        "rh": 0,
        "inputs": 0,
        "x": 285,
        "y": 90,
        "wires": [
            [
                "dd7e78c39b845dea"
            ]
        ]
    },
    {
        "id": "4b45e10d47c2df7c",
        "type": "mqtt in",
        "z": "0c0449238a1753b7",
        "name": "",
        "topic": "zigbee2mqtt/KidsRoom_HT1/voltage",
        "qos": "2",
        "datatype": "auto",
        "broker": "5101c6e3.603738",
        "nl": false,
        "rap": true,
        "rh": 0,
        "inputs": 0,
        "x": 260,
        "y": 135,
        "wires": [
            [
                "93426a0cd6a2d120"
            ]
        ]
    },
    {
        "id": "2019332556cb08b8",
        "type": "mqtt in",
        "z": "0c0449238a1753b7",
        "name": "",
        "topic": "zigbee2mqtt/KidsRoom_HT1/linkquality",
        "qos": "2",
        "datatype": "auto",
        "broker": "5101c6e3.603738",
        "nl": false,
        "rap": true,
        "rh": 0,
        "inputs": 0,
        "x": 255,
        "y": 180,
        "wires": [
            [
                "2464c9e2ae40fa02"
            ]
        ]
    },
    {
        "id": "c41ee52176f17e2c",
        "type": "mqtt in",
        "z": "0c0449238a1753b7",
        "name": "",
        "topic": "zigbee2mqtt/KidsRoom_HT1/battery",
        "qos": "2",
        "datatype": "auto",
        "broker": "5101c6e3.603738",
        "nl": false,
        "rap": true,
        "rh": 0,
        "inputs": 0,
        "x": 230,
        "y": 225,
        "wires": [
            [
                "030824f96b89622e"
            ]
        ]
    },
    {
        "id": "a894819b4bf84cb4",
        "type": "change",
        "z": "bb544554b476310e",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "Set_Temperature",
                "pt": "flow",
                "to": "$number(payload)",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 930,
        "y": 840,
        "wires": [
            [
                "a998755a12feec34"
            ]
        ]
    },
    {
        "id": "867ece6b86e6c15d",
        "type": "mqtt out",
        "z": "bb544554b476310e",
        "name": "",
        "topic": "Openhab_VAR/LivingRoom/Auto_Temperature",
        "qos": "2",
        "retain": "true",
        "broker": "5101c6e3.603738",
        "x": 1397,
        "y": 859,
        "wires": []
    },
    {
        "id": "7131756920f4af43",
        "type": "mqtt in",
        "z": "bb544554b476310e",
        "name": "",
        "topic": "Openhab_VAR/LivingRoom/Set_Temperature",
        "qos": "0",
        "datatype": "auto",
        "broker": "5101c6e3.603738",
        "inputs": 0,
        "x": 233,
        "y": 700,
        "wires": [
            [
                "b1be3240c108df2e"
            ]
        ]
    },
    {
        "id": "b1be3240c108df2e",
        "type": "change",
        "z": "bb544554b476310e",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "Set_Temp",
                "pt": "flow",
                "to": "$number(payload)",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 550,
        "y": 700,
        "wires": [
            [
                "8c61f2a25faeea99"
            ]
        ]
    },
    {
        "id": "b995911cd40907cc",
        "type": "change",
        "z": "bb544554b476310e",
        "name": "Set_Temp",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "Set_Temp",
                "tot": "flow"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 525,
        "y": 840,
        "wires": [
            [
                "8c61f2a25faeea99"
            ]
        ]
    },
    {
        "id": "d003fbdf148f591f",
        "type": "mqtt in",
        "z": "bb544554b476310e",
        "name": "",
        "topic": "Openhab_VAR/Home/Rejim",
        "qos": "0",
        "datatype": "auto",
        "broker": "5101c6e3.603738",
        "inputs": 0,
        "x": 160,
        "y": 840,
        "wires": [
            [
                "b995911cd40907cc"
            ]
        ]
    },
    {
        "id": "ea7c198a80543899",
        "type": "inject",
        "z": "bb544554b476310e",
        "name": "",
        "props": [
            {
                "p": "payload",
                "v": "1",
                "vt": "num"
            },
            {
                "p": "topic",
                "v": "",
                "vt": "string"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "1",
        "payloadType": "num",
        "x": 190,
        "y": 780,
        "wires": [
            [
                "b995911cd40907cc"
            ]
        ]
    },
    {
        "id": "21be0deec163e130",
        "type": "mqtt in",
        "z": "bb544554b476310e",
        "name": "",
        "topic": "Openhab_VAR/LivingRoom/Auto_Temperature",
        "qos": "2",
        "datatype": "auto",
        "broker": "5101c6e3.603738",
        "inputs": 0,
        "x": 210,
        "y": 460,
        "wires": [
            [
                "abf961fffa80fef7"
            ]
        ]
    },
    {
        "id": "abf961fffa80fef7",
        "type": "change",
        "z": "bb544554b476310e",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "Auto_Temperature",
                "pt": "flow",
                "to": "$number(payload)",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 570,
        "y": 460,
        "wires": [
            []
        ]
    },
    {
        "id": "a998755a12feec34",
        "type": "switch",
        "z": "bb544554b476310e",
        "name": "FILTR",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "neq",
                "v": "Auto_Temperature",
                "vt": "flow"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 1120,
        "y": 840,
        "wires": [
            [
                "0c303a21f63e7606",
                "867ece6b86e6c15d"
            ]
        ]
    },
    {
        "id": "0c303a21f63e7606",
        "type": "debug",
        "z": "bb544554b476310e",
        "name": "LivingRoom_Auto_Temperature",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 1345,
        "y": 814,
        "wires": []
    },
    {
        "id": "8c61f2a25faeea99",
        "type": "function",
        "z": "bb544554b476310e",
        "name": "- T_Kof",
        "func": "var kof=global.get('T_Kof')\n\nvar Morning = global.get('Morning')\nvar Day = global.get('Day')\nvar Evening = global.get('Evening')\nvar Night = global.get('Night')\n\nvar SetT_Global = flow.get('SetT_Global')\n\nvar Morning_SetT = flow.get('Morning_SetT')\nvar Day_SetT = flow.get('Day_SetT')\nvar Night_SetT = flow.get('Night_SetT')\nvar Evening_SetT = flow.get('Evening_SetT')\n\n\n\nif (SetT_Global== 'ON') {\n    msg.payload = msg.payload  - kof;\n    }\n    \nelse {\n    if(Morning == 'true')\n    {\n      msg.payload =  Morning_SetT;  \n    }\n    else if (Day == 'true'){\n      msg.payload =  Day_SetT;    \n    }\n    else if (Evening == 'true'){\n      msg.payload =  Evening_SetT;    \n    }   \n    else if (Night == 'true'){\n      msg.payload =  Night_SetT;    \n    }    \n    else\n    {\n     msg.payload = msg.payload   \n    }\n}\n\nnode.status({fill:\"green\",shape:\"ring\",\"text\": msg.payload});\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 700,
        "y": 840,
        "wires": [
            [
                "a894819b4bf84cb4"
            ]
        ]
    },
    {
        "id": "14416ebfbc2b9d73",
        "type": "mqtt in",
        "z": "bb544554b476310e",
        "name": "",
        "topic": "Openhab_VAR/Home/T_Kof",
        "qos": "2",
        "datatype": "auto",
        "broker": "5101c6e3.603738",
        "inputs": 0,
        "x": 160,
        "y": 900,
        "wires": [
            [
                "b995911cd40907cc"
            ]
        ]
    },
    {
        "id": "52f03f3809bbff47",
        "type": "mqtt out",
        "z": "bb544554b476310e",
        "name": "",
        "topic": "Openhab_VAR/LivingRoom/Temperature",
        "qos": "0",
        "retain": "true",
        "broker": "5101c6e3.603738",
        "x": 685,
        "y": 30,
        "wires": []
    },
    {
        "id": "97354a9b7ca28778",
        "type": "mqtt out",
        "z": "bb544554b476310e",
        "name": "",
        "topic": "Openhab_VAR/LivingRoom/Humidity",
        "qos": "0",
        "retain": "true",
        "broker": "5101c6e3.603738",
        "x": 660,
        "y": 90,
        "wires": []
    },
    {
        "id": "b0f6257db679172d",
        "type": "mqtt out",
        "z": "bb544554b476310e",
        "name": "",
        "topic": "Xiaomi/LivingRoom_HT1/voltage",
        "qos": "0",
        "retain": "true",
        "broker": "5101c6e3.603738",
        "x": 635,
        "y": 135,
        "wires": []
    },
    {
        "id": "dcce99f1e1743da3",
        "type": "mqtt out",
        "z": "bb544554b476310e",
        "name": "",
        "topic": "Xiaomi/LivingRoom_HT1/linkquality",
        "qos": "0",
        "retain": "true",
        "broker": "5101c6e3.603738",
        "x": 620,
        "y": 225,
        "wires": []
    },
    {
        "id": "43322cded6973a5b",
        "type": "mqtt out",
        "z": "bb544554b476310e",
        "name": "",
        "topic": "Xiaomi/LivingRoom_HT1/battery",
        "qos": "0",
        "retain": "true",
        "broker": "5101c6e3.603738",
        "x": 625,
        "y": 180,
        "wires": []
    },
    {
        "id": "509fe0dd58de8e2f",
        "type": "mqtt out",
        "z": "bb544554b476310e",
        "name": "",
        "topic": "Xiaomi/LivingRoom_CS1/voltage",
        "qos": "0",
        "retain": "true",
        "broker": "5101c6e3.603738",
        "x": 1820,
        "y": 150,
        "wires": []
    },
    {
        "id": "e151ea317a799309",
        "type": "mqtt out",
        "z": "bb544554b476310e",
        "name": "",
        "topic": "Xiaomi/LivingRoom_CS1/linkquality",
        "qos": "0",
        "retain": "true",
        "broker": "5101c6e3.603738",
        "x": 1820,
        "y": 240,
        "wires": []
    },
    {
        "id": "63b7335208255b9d",
        "type": "mqtt out",
        "z": "bb544554b476310e",
        "name": "",
        "topic": "Xiaomi/LivingRoom_CS1/battery",
        "qos": "0",
        "retain": "true",
        "broker": "5101c6e3.603738",
        "x": 1810,
        "y": 195,
        "wires": []
    },
    {
        "id": "3f6ceda45eb44b2b",
        "type": "mqtt out",
        "z": "bb544554b476310e",
        "name": "",
        "topic": "Openhab_VAR/LivingRoom/Window1",
        "qos": "0",
        "retain": "true",
        "broker": "5101c6e3.603738",
        "x": 1850,
        "y": 45,
        "wires": []
    },
    {
        "id": "e42fee8f663d6673",
        "type": "mqtt in",
        "z": "bb544554b476310e",
        "name": "",
        "topic": "Openhab_VAR/LivingRoom/SetT_Global",
        "qos": "2",
        "datatype": "auto",
        "broker": "5101c6e3.603738",
        "inputs": 0,
        "x": 200,
        "y": 320,
        "wires": [
            [
                "f0316da24575ec69"
            ]
        ]
    },
    {
        "id": "4410fb4ee3f5bccc",
        "type": "mqtt in",
        "z": "bb544554b476310e",
        "name": "",
        "topic": "Openhab_VAR/LivingRoom/Morning_SetT",
        "qos": "2",
        "datatype": "auto",
        "broker": "5101c6e3.603738",
        "inputs": 0,
        "x": 200,
        "y": 380,
        "wires": [
            [
                "035986de816925f5"
            ]
        ]
    },
    {
        "id": "de1a1334d0af3cfd",
        "type": "mqtt in",
        "z": "bb544554b476310e",
        "name": "",
        "topic": "Openhab_VAR/LivingRoom/Day_SetT",
        "qos": "2",
        "datatype": "auto",
        "broker": "5101c6e3.603738",
        "inputs": 0,
        "x": 1010,
        "y": 327,
        "wires": [
            [
                "c0e258760b7ce8c2"
            ]
        ]
    },
    {
        "id": "f4ebb63d05eb8795",
        "type": "mqtt in",
        "z": "bb544554b476310e",
        "name": "",
        "topic": "Openhab_VAR/LivingRoom/Evening_SetT",
        "qos": "2",
        "datatype": "auto",
        "broker": "5101c6e3.603738",
        "inputs": 0,
        "x": 1018,
        "y": 447,
        "wires": [
            [
                "bcc6c3274d44ab9c"
            ]
        ]
    },
    {
        "id": "2259ec09eb7f7da8",
        "type": "mqtt in",
        "z": "bb544554b476310e",
        "name": "",
        "topic": "Openhab_VAR/LivingRoom/Night_SetT",
        "qos": "2",
        "datatype": "auto",
        "broker": "5101c6e3.603738",
        "inputs": 0,
        "x": 1008,
        "y": 387,
        "wires": [
            [
                "0e09a924437df781"
            ]
        ]
    },
    {
        "id": "bcc6c3274d44ab9c",
        "type": "change",
        "z": "bb544554b476310e",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "Evening_SetT",
                "pt": "flow",
                "to": "$number(payload)",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1330,
        "y": 447,
        "wires": [
            []
        ]
    },
    {
        "id": "0e09a924437df781",
        "type": "change",
        "z": "bb544554b476310e",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "Night_SetT",
                "pt": "flow",
                "to": "$number(payload)",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1323,
        "y": 387,
        "wires": [
            []
        ]
    },
    {
        "id": "c0e258760b7ce8c2",
        "type": "change",
        "z": "bb544554b476310e",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "Day_SetT",
                "pt": "flow",
                "to": "$number(payload)",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1328,
        "y": 327,
        "wires": [
            []
        ]
    },
    {
        "id": "035986de816925f5",
        "type": "change",
        "z": "bb544554b476310e",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "Morning_SetT",
                "pt": "flow",
                "to": "$number(payload)",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 518,
        "y": 380,
        "wires": [
            []
        ]
    },
    {
        "id": "f0316da24575ec69",
        "type": "change",
        "z": "bb544554b476310e",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "SetT_Global",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 520,
        "y": 320,
        "wires": [
            []
        ]
    },
    {
        "id": "08089f99f8b17cc9",
        "type": "switch",
        "z": "bb544554b476310e",
        "name": "ENABLE_AUTO",
        "property": "Auto_Heater",
        "propertyType": "flow",
        "rules": [
            {
                "t": "eq",
                "v": "OFF",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "ON",
                "vt": "str"
            }
        ],
        "checkall": "false",
        "repair": false,
        "outputs": 2,
        "x": 725,
        "y": 1200,
        "wires": [
            [],
            [
                "a19f22c56bb8299c"
            ]
        ]
    },
    {
        "id": "90f80ae5f64d1386",
        "type": "change",
        "z": "bb544554b476310e",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "Auto_Heater",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 463,
        "y": 1120,
        "wires": [
            [
                "08089f99f8b17cc9",
                "c7ebaeee046b6728"
            ]
        ]
    },
    {
        "id": "a19f22c56bb8299c",
        "type": "switch",
        "z": "bb544554b476310e",
        "name": "Window_CLOSED",
        "property": "Window",
        "propertyType": "flow",
        "rules": [
            {
                "t": "eq",
                "v": "CLOSED",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 938,
        "y": 1207,
        "wires": [
            [
                "d7f58d79a04027d1"
            ]
        ]
    },
    {
        "id": "f875de69b6d25a8a",
        "type": "change",
        "z": "bb544554b476310e",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "Temperature",
                "pt": "flow",
                "to": "$number(payload)",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 463,
        "y": 1260,
        "wires": [
            [
                "08089f99f8b17cc9"
            ]
        ]
    },
    {
        "id": "39821d2253295f5a",
        "type": "change",
        "z": "bb544554b476310e",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "Heater1",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 463,
        "y": 1340,
        "wires": [
            [
                "08089f99f8b17cc9",
                "97ac26ce09b7dcde"
            ]
        ]
    },
    {
        "id": "f6aab874ca8b06eb",
        "type": "mqtt in",
        "z": "bb544554b476310e",
        "name": "",
        "topic": "Openhab_VAR/LivingRoom/Auto_Temperature",
        "qos": "2",
        "datatype": "auto",
        "broker": "5101c6e3.603738",
        "inputs": 0,
        "x": 201,
        "y": 1200,
        "wires": [
            [
                "08089f99f8b17cc9"
            ]
        ]
    },
    {
        "id": "693bd62b02f8ed14",
        "type": "change",
        "z": "bb544554b476310e",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "Window",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 440,
        "y": 1040,
        "wires": [
            [
                "60526d19aadfae42",
                "08089f99f8b17cc9"
            ]
        ]
    },
    {
        "id": "c7ebaeee046b6728",
        "type": "switch",
        "z": "bb544554b476310e",
        "name": "DISABLE_AUTO",
        "property": "Auto_Heater",
        "propertyType": "flow",
        "rules": [
            {
                "t": "eq",
                "v": "OFF",
                "vt": "str"
            }
        ],
        "checkall": "false",
        "repair": false,
        "outputs": 1,
        "x": 728,
        "y": 1120,
        "wires": [
            [
                "11ab2cde8d51430e"
            ]
        ]
    },
    {
        "id": "b478a18a9d2be8ea",
        "type": "mqtt in",
        "z": "bb544554b476310e",
        "name": "",
        "topic": "Openhab_VAR/LivingRoom/Auto_Heater",
        "qos": "0",
        "datatype": "auto",
        "broker": "5101c6e3.603738",
        "inputs": 0,
        "x": 194,
        "y": 1120,
        "wires": [
            [
                "90f80ae5f64d1386"
            ]
        ]
    },
    {
        "id": "d7f58d79a04027d1",
        "type": "switch",
        "z": "bb544554b476310e",
        "name": "REGULATOR",
        "property": "Temperature",
        "propertyType": "flow",
        "rules": [
            {
                "t": "gte",
                "v": "Set_Temperature",
                "vt": "flow"
            },
            {
                "t": "lt",
                "v": "Set_Temperature",
                "vt": "flow"
            }
        ],
        "checkall": "false",
        "repair": false,
        "outputs": 2,
        "x": 1138,
        "y": 1207,
        "wires": [
            [
                "11ab2cde8d51430e"
            ],
            [
                "51c8978ad57482a2"
            ]
        ]
    },
    {
        "id": "28c1d0ca69434918",
        "type": "mqtt in",
        "z": "bb544554b476310e",
        "name": "",
        "topic": "Openhab_VAR/LivingRoom/Temperature",
        "qos": "0",
        "datatype": "auto",
        "broker": "5101c6e3.603738",
        "inputs": 0,
        "x": 191,
        "y": 1260,
        "wires": [
            [
                "f875de69b6d25a8a"
            ]
        ]
    },
    {
        "id": "97ac26ce09b7dcde",
        "type": "mqtt out",
        "z": "bb544554b476310e",
        "name": "",
        "topic": "Openhab_VAR/LivingRoom/Heater1_on",
        "qos": "2",
        "retain": "true",
        "broker": "5101c6e3.603738",
        "x": 768,
        "y": 1340,
        "wires": []
    },
    {
        "id": "82948492827d58ec",
        "type": "mqtt in",
        "z": "bb544554b476310e",
        "name": "",
        "topic": "zigbee2mqtt/mainrelay/state_l3",
        "qos": "0",
        "datatype": "auto",
        "broker": "5101c6e3.603738",
        "nl": false,
        "rap": false,
        "inputs": 0,
        "x": 161,
        "y": 1340,
        "wires": [
            [
                "39821d2253295f5a"
            ]
        ]
    },
    {
        "id": "60526d19aadfae42",
        "type": "switch",
        "z": "bb544554b476310e",
        "name": "Window_OPEN",
        "property": "Window",
        "propertyType": "flow",
        "rules": [
            {
                "t": "eq",
                "v": "OPEN",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 678,
        "y": 1039,
        "wires": [
            [
                "11ab2cde8d51430e"
            ]
        ]
    },
    {
        "id": "9ff03b2bf92c94af",
        "type": "mqtt in",
        "z": "bb544554b476310e",
        "name": "",
        "topic": "Openhab_VAR/LivingRoom/Window1",
        "qos": "2",
        "datatype": "auto",
        "broker": "5101c6e3.603738",
        "inputs": 0,
        "x": 181,
        "y": 1040,
        "wires": [
            [
                "693bd62b02f8ed14"
            ]
        ]
    },
    {
        "id": "11ab2cde8d51430e",
        "type": "change",
        "z": "bb544554b476310e",
        "name": "OFF",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "OFF",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1303,
        "y": 1125,
        "wires": [
            [
                "6bbf532584b7bd64"
            ]
        ]
    },
    {
        "id": "51c8978ad57482a2",
        "type": "change",
        "z": "bb544554b476310e",
        "name": "ON",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "ON",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1303,
        "y": 1214,
        "wires": [
            [
                "6bbf532584b7bd64"
            ]
        ]
    },
    {
        "id": "6bbf532584b7bd64",
        "type": "switch",
        "z": "bb544554b476310e",
        "name": "Heater1",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "neq",
                "v": "Heater1",
                "vt": "flow"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 1493,
        "y": 1215,
        "wires": [
            [
                "614b55ecd5e07b29",
                "61c1da6706e2daf1"
            ]
        ]
    },
    {
        "id": "614b55ecd5e07b29",
        "type": "mqtt out",
        "z": "bb544554b476310e",
        "name": "",
        "topic": "zigbee2mqtt/mainrelay/set/state_l3",
        "qos": "0",
        "retain": "false",
        "respTopic": "",
        "contentType": "",
        "userProps": "",
        "correl": "",
        "expiry": "",
        "broker": "5101c6e3.603738",
        "x": 1850,
        "y": 1230,
        "wires": []
    },
    {
        "id": "61c1da6706e2daf1",
        "type": "debug",
        "z": "bb544554b476310e",
        "name": "LivingRoom_Heater1_set",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 1865,
        "y": 1170,
        "wires": []
    },
    {
        "id": "dda8e384841201b6",
        "type": "mqtt in",
        "z": "bb544554b476310e",
        "name": "",
        "topic": "Openhab_VAR/LivingRoom/Heater1_on_set",
        "qos": "0",
        "datatype": "auto",
        "broker": "5101c6e3.603738",
        "inputs": 0,
        "x": 1199,
        "y": 1338,
        "wires": [
            [
                "6bbf532584b7bd64"
            ]
        ]
    },
    {
        "id": "3d56b344a3cd30fb",
        "type": "mqtt in",
        "z": "bb544554b476310e",
        "name": "",
        "topic": "zigbee2mqtt/LivingRoom_HT1/temperature",
        "qos": "2",
        "datatype": "auto",
        "broker": "5101c6e3.603738",
        "nl": false,
        "rap": true,
        "rh": 0,
        "inputs": 0,
        "x": 260,
        "y": 30,
        "wires": [
            [
                "52f03f3809bbff47"
            ]
        ]
    },
    {
        "id": "c7987ffcaff7bff2",
        "type": "mqtt in",
        "z": "bb544554b476310e",
        "name": "",
        "topic": "zigbee2mqtt/LivingRoom_HT1/humidity",
        "qos": "2",
        "datatype": "auto",
        "broker": "5101c6e3.603738",
        "nl": false,
        "rap": true,
        "rh": 0,
        "inputs": 0,
        "x": 265,
        "y": 90,
        "wires": [
            [
                "97354a9b7ca28778"
            ]
        ]
    },
    {
        "id": "988096a649ee134b",
        "type": "mqtt in",
        "z": "bb544554b476310e",
        "name": "",
        "topic": "zigbee2mqtt/LivingRoom_HT1/voltage",
        "qos": "2",
        "datatype": "auto",
        "broker": "5101c6e3.603738",
        "nl": false,
        "rap": true,
        "rh": 0,
        "inputs": 0,
        "x": 240,
        "y": 135,
        "wires": [
            [
                "b0f6257db679172d"
            ]
        ]
    },
    {
        "id": "7c1fa688486dc4b9",
        "type": "mqtt in",
        "z": "bb544554b476310e",
        "name": "",
        "topic": "zigbee2mqtt/LivingRoom_HT1/battery",
        "qos": "2",
        "datatype": "auto",
        "broker": "5101c6e3.603738",
        "nl": false,
        "rap": true,
        "rh": 0,
        "inputs": 0,
        "x": 240,
        "y": 180,
        "wires": [
            [
                "43322cded6973a5b"
            ]
        ]
    },
    {
        "id": "bad4addbefe2a783",
        "type": "mqtt in",
        "z": "bb544554b476310e",
        "name": "",
        "topic": "zigbee2mqtt/LivingRoom_HT1/linkquality",
        "qos": "2",
        "datatype": "auto",
        "broker": "5101c6e3.603738",
        "nl": false,
        "rap": true,
        "rh": 0,
        "inputs": 0,
        "x": 235,
        "y": 225,
        "wires": [
            [
                "dcce99f1e1743da3"
            ]
        ]
    },
    {
        "id": "f4848951ec483e44",
        "type": "mqtt in",
        "z": "bb544554b476310e",
        "name": "",
        "topic": "zigbee2mqtt/LivingRoom_CS1/contact",
        "qos": "2",
        "datatype": "auto",
        "broker": "5101c6e3.603738",
        "nl": false,
        "rap": true,
        "rh": 0,
        "inputs": 0,
        "x": 1155,
        "y": 45,
        "wires": [
            [
                "e3098fb86014f9bb"
            ]
        ]
    },
    {
        "id": "e3098fb86014f9bb",
        "type": "switch",
        "z": "bb544554b476310e",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "true",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "false",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 1375,
        "y": 45,
        "wires": [
            [
                "99b48d263082e883"
            ],
            [
                "20a57d579ea2b4f9"
            ]
        ]
    },
    {
        "id": "20a57d579ea2b4f9",
        "type": "change",
        "z": "bb544554b476310e",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "OPEN",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1540,
        "y": 60,
        "wires": [
            [
                "3f6ceda45eb44b2b"
            ]
        ]
    },
    {
        "id": "99b48d263082e883",
        "type": "change",
        "z": "bb544554b476310e",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "CLOSED",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1540,
        "y": 30,
        "wires": [
            [
                "3f6ceda45eb44b2b"
            ]
        ]
    },
    {
        "id": "226d0fb1b7dcc28e",
        "type": "mqtt in",
        "z": "bb544554b476310e",
        "name": "",
        "topic": "zigbee2mqtt/LivingRoom_CS1/voltage",
        "qos": "2",
        "datatype": "auto",
        "broker": "5101c6e3.603738",
        "nl": false,
        "rap": true,
        "rh": 0,
        "inputs": 0,
        "x": 1410,
        "y": 150,
        "wires": [
            [
                "509fe0dd58de8e2f"
            ]
        ]
    },
    {
        "id": "098f85c98f0542cc",
        "type": "mqtt in",
        "z": "bb544554b476310e",
        "name": "",
        "topic": "zigbee2mqtt/LivingRoom_CS1/battery",
        "qos": "2",
        "datatype": "auto",
        "broker": "5101c6e3.603738",
        "nl": false,
        "rap": true,
        "rh": 0,
        "inputs": 0,
        "x": 1425,
        "y": 195,
        "wires": [
            [
                "63b7335208255b9d"
            ]
        ]
    },
    {
        "id": "7c09335d861a9589",
        "type": "mqtt in",
        "z": "bb544554b476310e",
        "name": "",
        "topic": "zigbee2mqtt/LivingRoom_CS1/linkquality",
        "qos": "2",
        "datatype": "auto",
        "broker": "5101c6e3.603738",
        "nl": false,
        "rap": true,
        "rh": 0,
        "inputs": 0,
        "x": 1435,
        "y": 240,
        "wires": [
            [
                "e151ea317a799309"
            ]
        ]
    },
    {
        "id": "0e9954774d15452b",
        "type": "change",
        "z": "4158a0e7e28c57fc",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "Set_Temperature",
                "pt": "flow",
                "to": "$number(payload)",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 910,
        "y": 903,
        "wires": [
            [
                "b9a8abeda03b3b2b"
            ]
        ]
    },
    {
        "id": "2a3948fcae571a9a",
        "type": "mqtt out",
        "z": "4158a0e7e28c57fc",
        "name": "",
        "topic": "Openhab_VAR/Kitchen/Auto_Temperature",
        "qos": "2",
        "retain": "true",
        "broker": "5101c6e3.603738",
        "x": 1345,
        "y": 922,
        "wires": []
    },
    {
        "id": "e94638c91718b269",
        "type": "mqtt in",
        "z": "4158a0e7e28c57fc",
        "name": "",
        "topic": "Openhab_VAR/Kitchen/Set_Temperature",
        "qos": "0",
        "datatype": "auto",
        "broker": "5101c6e3.603738",
        "inputs": 0,
        "x": 220,
        "y": 855,
        "wires": [
            [
                "d55007672a659174"
            ]
        ]
    },
    {
        "id": "d55007672a659174",
        "type": "change",
        "z": "4158a0e7e28c57fc",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "Set_Temp",
                "pt": "flow",
                "to": "$number(payload)",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 510,
        "y": 855,
        "wires": [
            [
                "6d8f5cb8e80ea523"
            ]
        ]
    },
    {
        "id": "0bd9215931d58a71",
        "type": "change",
        "z": "4158a0e7e28c57fc",
        "name": "Set_Temp",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "Set_Temp",
                "tot": "flow"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 531,
        "y": 959,
        "wires": [
            [
                "6d8f5cb8e80ea523"
            ]
        ]
    },
    {
        "id": "ba446326123bdbcd",
        "type": "mqtt in",
        "z": "4158a0e7e28c57fc",
        "name": "",
        "topic": "Openhab_VAR/Home/Rejim",
        "qos": "0",
        "datatype": "auto",
        "broker": "5101c6e3.603738",
        "inputs": 0,
        "x": 180,
        "y": 960,
        "wires": [
            [
                "0bd9215931d58a71"
            ]
        ]
    },
    {
        "id": "3a3525f3f6f1efd9",
        "type": "inject",
        "z": "4158a0e7e28c57fc",
        "name": "",
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "1",
        "payloadType": "num",
        "x": 245,
        "y": 915,
        "wires": [
            [
                "0bd9215931d58a71"
            ]
        ]
    },
    {
        "id": "0dc20a66a5587b7d",
        "type": "mqtt in",
        "z": "4158a0e7e28c57fc",
        "name": "",
        "topic": "Openhab_VAR/Kitchen/Auto_Temperature",
        "qos": "2",
        "datatype": "auto",
        "broker": "5101c6e3.603738",
        "nl": false,
        "rap": false,
        "inputs": 0,
        "x": 205,
        "y": 690,
        "wires": [
            []
        ]
    },
    {
        "id": "b9a8abeda03b3b2b",
        "type": "switch",
        "z": "4158a0e7e28c57fc",
        "name": "FILTR",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "neq",
                "v": "Auto_Temperature",
                "vt": "flow"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 1100,
        "y": 903,
        "wires": [
            [
                "2a3948fcae571a9a",
                "78df85982b998105"
            ]
        ]
    },
    {
        "id": "78df85982b998105",
        "type": "debug",
        "z": "4158a0e7e28c57fc",
        "name": "Kitchen_Auto_Temperature",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "x": 1306,
        "y": 877,
        "wires": []
    },
    {
        "id": "ba2375ed64b51211",
        "type": "mqtt in",
        "z": "4158a0e7e28c57fc",
        "name": "",
        "topic": "Openhab_VAR/Home/T_Kof",
        "qos": "2",
        "datatype": "auto",
        "broker": "5101c6e3.603738",
        "inputs": 0,
        "x": 180,
        "y": 1020,
        "wires": [
            [
                "0bd9215931d58a71"
            ]
        ]
    },
    {
        "id": "6d8f5cb8e80ea523",
        "type": "function",
        "z": "4158a0e7e28c57fc",
        "name": "- T_Kof",
        "func": "var kof=global.get('T_Kof')\n\nvar Morning = global.get('Morning')\nvar Day = global.get('Day')\nvar Evening = global.get('Evening')\nvar Night = global.get('Night')\n\nvar SetT_Global = flow.get('SetT_Global')\n\nvar Morning_SetT = flow.get('Morning_SetT')\nvar Day_SetT = flow.get('Day_SetT')\nvar Night_SetT = flow.get('Night_SetT')\nvar Evening_SetT = flow.get('Evening_SetT')\n\n\n\nif (SetT_Global== 'ON') {\n    msg.payload = msg.payload  - kof;\n    }\n    \nelse {\n    if(Morning == 'true')\n    {\n      msg.payload =  Morning_SetT;  \n    }\n    else if (Day == 'true'){\n      msg.payload =  Day_SetT;    \n    }\n    else if (Evening == 'true'){\n      msg.payload =  Evening_SetT;    \n    }   \n    else if (Night == 'true'){\n      msg.payload =  Night_SetT;    \n    }    \n    else\n    {\n     msg.payload = msg.payload   \n    }\n}\n\nnode.status({fill:\"green\",shape:\"ring\",\"text\": msg.payload});\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 720,
        "y": 903,
        "wires": [
            [
                "0e9954774d15452b"
            ]
        ]
    },
    {
        "id": "3f243cb2df925b0b",
        "type": "function",
        "z": "4158a0e7e28c57fc",
        "name": "KitchenRoom_HTP1",
        "func": "var payload = msg.payload;\nvar data = JSON.parse(payload);\n//var data = payload.data;\n\nvar temp = null;\nvar humidity = null;\nvar pressure = null;\nvar voltage = null;\nvar linkquality=null;\nvar battery=null;\n\nnode.status({fill:\"grey\",shape:\"ring\",text:\"battery\"});\nif (data.temperature){\n    data.temperature = Number(data.temperature)\n    temp = {\"payload\": data.temperature};\n}\nif (data.humidity) {\n    data.humidity = Number(data.humidity)\n    humidity = {\"payload\": data.humidity};\n    \n}\nif (data.pressure) {\n    data.pressure = Number(Math.round(data.pressure * 0.750063755419211));\n    pressure = {\"payload\": data.pressure};\n}\nif (data.voltage) {\n    voltage = {\"payload\": data.voltage};\n}\n\nif (data.battery) {\n    battery = {\"payload\": data.battery};\n}\n\nif (data.linkquality) {\n    if (data.linkquality > 100){\n    linkquality = {\"payload\": 4};\n    }\n    else if (data.linkquality > 80){\n    linkquality = {\"payload\": 3};\n    }\n    else if (data.linkquality > 50){\n    linkquality = {\"payload\": 2};\n    }\n    else if (data.linkquality > 30){\n    linkquality = {\"payload\": 1};\n    }\n    else {\n    linkquality = {\"payload\": 0};\n    }\n}\nif (data.voltage) {\n    if (data.voltage < 2500) {\n        node.status({fill:\"red\",shape:\"dot\",text:data.voltage});\n    } \n    else if (data.voltage < 2900) {\n        node.status({fill:\"yellow\",shape:\"dot\",text:data.voltage});\n    } \n    else {\n        node.status({fill:\"green\",shape:\"dot\",text:data.voltage});\n    }\n}\n\nnode.send([temp, humidity, pressure, voltage, linkquality,battery]);",
        "outputs": 6,
        "noerr": 0,
        "x": 940,
        "y": 60,
        "wires": [
            [],
            [],
            [],
            [],
            [],
            []
        ]
    },
    {
        "id": "bb7bdb1300d4862f",
        "type": "mqtt out",
        "z": "4158a0e7e28c57fc",
        "name": "",
        "topic": "Openhab_VAR/Kitchen/Temperature",
        "qos": "0",
        "retain": "true",
        "broker": "5101c6e3.603738",
        "x": 660,
        "y": 30,
        "wires": []
    },
    {
        "id": "f0673725e131b46e",
        "type": "mqtt out",
        "z": "4158a0e7e28c57fc",
        "name": "",
        "topic": "Openhab_VAR/Kitchen/Humidity",
        "qos": "0",
        "retain": "true",
        "broker": "5101c6e3.603738",
        "x": 640,
        "y": 75,
        "wires": []
    },
    {
        "id": "def11fb7702e565a",
        "type": "mqtt out",
        "z": "4158a0e7e28c57fc",
        "name": "",
        "topic": "Openhab_VAR/Kitchen/Pressure",
        "qos": "0",
        "retain": "true",
        "broker": "5101c6e3.603738",
        "x": 625,
        "y": 120,
        "wires": []
    },
    {
        "id": "fb3ee20df206bf95",
        "type": "mqtt out",
        "z": "4158a0e7e28c57fc",
        "name": "",
        "topic": "Xiaomi/KitchenRoom_HTP1/voltage",
        "qos": "0",
        "retain": "true",
        "broker": "5101c6e3.603738",
        "x": 620,
        "y": 165,
        "wires": []
    },
    {
        "id": "a7369d726da490da",
        "type": "mqtt out",
        "z": "4158a0e7e28c57fc",
        "name": "",
        "topic": "Xiaomi/KitchenRoom_HTP1/linkquality",
        "qos": "0",
        "retain": "true",
        "broker": "5101c6e3.603738",
        "x": 630,
        "y": 255,
        "wires": []
    },
    {
        "id": "d87c222b91ac35d7",
        "type": "mqtt out",
        "z": "4158a0e7e28c57fc",
        "name": "",
        "topic": "Xiaomi/KitchenRoom_HTP1/battery",
        "qos": "0",
        "retain": "true",
        "broker": "5101c6e3.603738",
        "x": 620,
        "y": 210,
        "wires": []
    },
    {
        "id": "4a5888eb69b8c5e4",
        "type": "mqtt out",
        "z": "4158a0e7e28c57fc",
        "name": "",
        "topic": "Xiaomi/KitchenRoom_CS1/voltage",
        "qos": "0",
        "retain": "true",
        "broker": "5101c6e3.603738",
        "x": 1760,
        "y": 225,
        "wires": []
    },
    {
        "id": "c5f70bf4a647d7e7",
        "type": "mqtt out",
        "z": "4158a0e7e28c57fc",
        "name": "",
        "topic": "Xiaomi/KitchenRoom_CS1/linkquality",
        "qos": "0",
        "retain": "true",
        "broker": "5101c6e3.603738",
        "x": 1770,
        "y": 315,
        "wires": []
    },
    {
        "id": "32a23358177dbffd",
        "type": "mqtt out",
        "z": "4158a0e7e28c57fc",
        "name": "",
        "topic": "Xiaomi/KitchenRoom_CS1/battery",
        "qos": "0",
        "retain": "true",
        "broker": "5101c6e3.603738",
        "x": 1760,
        "y": 270,
        "wires": []
    },
    {
        "id": "e62323b62725a15e",
        "type": "mqtt out",
        "z": "4158a0e7e28c57fc",
        "name": "",
        "topic": "Openhab_VAR/Kitchen/Window",
        "qos": "0",
        "retain": "true",
        "broker": "5101c6e3.603738",
        "x": 2065,
        "y": 75,
        "wires": []
    },
    {
        "id": "5d81a033d3a43d52",
        "type": "mqtt in",
        "z": "4158a0e7e28c57fc",
        "name": "",
        "topic": "Openhab_VAR/Kitchen/SetT_Global",
        "qos": "2",
        "datatype": "auto",
        "broker": "5101c6e3.603738",
        "inputs": 0,
        "x": 185,
        "y": 575,
        "wires": [
            [
                "33f06599e4ba9382"
            ]
        ]
    },
    {
        "id": "c0d5c5eab03cfaef",
        "type": "mqtt in",
        "z": "4158a0e7e28c57fc",
        "name": "",
        "topic": "Openhab_VAR/Kitchen/Morning_SetT",
        "qos": "2",
        "datatype": "auto",
        "broker": "5101c6e3.603738",
        "inputs": 0,
        "x": 195,
        "y": 635,
        "wires": [
            [
                "f8bbe44d141f4cd6"
            ]
        ]
    },
    {
        "id": "d663d9f701785e66",
        "type": "mqtt in",
        "z": "4158a0e7e28c57fc",
        "name": "",
        "topic": "Openhab_VAR/Kitchen/Day_SetT",
        "qos": "2",
        "datatype": "auto",
        "broker": "5101c6e3.603738",
        "inputs": 0,
        "x": 995,
        "y": 582,
        "wires": [
            [
                "cd0cc330d8b280d8"
            ]
        ]
    },
    {
        "id": "3cb678ecf052a437",
        "type": "mqtt in",
        "z": "4158a0e7e28c57fc",
        "name": "",
        "topic": "Openhab_VAR/Kitchen/Evening_SetT",
        "qos": "2",
        "datatype": "auto",
        "broker": "5101c6e3.603738",
        "inputs": 0,
        "x": 1013,
        "y": 702,
        "wires": [
            [
                "09f44ef0329c0a6a"
            ]
        ]
    },
    {
        "id": "8184556352061b48",
        "type": "mqtt in",
        "z": "4158a0e7e28c57fc",
        "name": "",
        "topic": "Openhab_VAR/Kitchen/Night_SetT",
        "qos": "2",
        "datatype": "auto",
        "broker": "5101c6e3.603738",
        "inputs": 0,
        "x": 1003,
        "y": 642,
        "wires": [
            [
                "7cf6e3bab097daf5"
            ]
        ]
    },
    {
        "id": "09f44ef0329c0a6a",
        "type": "change",
        "z": "4158a0e7e28c57fc",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "Evening_SetT",
                "pt": "flow",
                "to": "$number(payload)",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1335,
        "y": 702,
        "wires": [
            []
        ]
    },
    {
        "id": "7cf6e3bab097daf5",
        "type": "change",
        "z": "4158a0e7e28c57fc",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "Night_SetT",
                "pt": "flow",
                "to": "$number(payload)",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1328,
        "y": 642,
        "wires": [
            []
        ]
    },
    {
        "id": "cd0cc330d8b280d8",
        "type": "change",
        "z": "4158a0e7e28c57fc",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "Day_SetT",
                "pt": "flow",
                "to": "$number(payload)",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1333,
        "y": 582,
        "wires": [
            []
        ]
    },
    {
        "id": "f8bbe44d141f4cd6",
        "type": "change",
        "z": "4158a0e7e28c57fc",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "Morning_SetT",
                "pt": "flow",
                "to": "$number(payload)",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 523,
        "y": 635,
        "wires": [
            []
        ]
    },
    {
        "id": "33f06599e4ba9382",
        "type": "change",
        "z": "4158a0e7e28c57fc",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "SetT_Global",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 525,
        "y": 575,
        "wires": [
            []
        ]
    },
    {
        "id": "37312189feeed21f",
        "type": "mqtt in",
        "z": "4158a0e7e28c57fc",
        "name": "",
        "topic": "Openhab_VAR/Kitchen/Night_Boiler",
        "qos": "0",
        "datatype": "auto",
        "broker": "5101c6e3.603738",
        "inputs": 0,
        "x": 155,
        "y": 2160,
        "wires": [
            [
                "152b2672c11e51e0"
            ]
        ]
    },
    {
        "id": "318067630dd962c9",
        "type": "mqtt out",
        "z": "4158a0e7e28c57fc",
        "name": "",
        "topic": "mainrelay1/switch/relay_8/command",
        "qos": "0",
        "retain": "false",
        "broker": "5101c6e3.603738",
        "x": 840,
        "y": 2295,
        "wires": []
    },
    {
        "id": "98ca66fefa0d368f",
        "type": "mqtt in",
        "z": "4158a0e7e28c57fc",
        "name": "",
        "topic": "Openhab_VAR/Kitchen/Boiler_on_set",
        "qos": "0",
        "datatype": "auto",
        "broker": "5101c6e3.603738",
        "inputs": 0,
        "x": 195,
        "y": 2640,
        "wires": [
            [
                "1cfe0c09e98d090c"
            ]
        ]
    },
    {
        "id": "2cb08c731c68681c",
        "type": "mqtt out",
        "z": "4158a0e7e28c57fc",
        "name": "",
        "topic": "Openhab_VAR/Kitchen/Boiler_on",
        "qos": "2",
        "retain": "false",
        "broker": "5101c6e3.603738",
        "x": 845,
        "y": 2220,
        "wires": []
    },
    {
        "id": "152b2672c11e51e0",
        "type": "change",
        "z": "4158a0e7e28c57fc",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "Nigt_Boiler_On",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 425,
        "y": 2160,
        "wires": [
            []
        ]
    },
    {
        "id": "96f871cbb4f5cb1c",
        "type": "debug",
        "z": "4158a0e7e28c57fc",
        "name": "ESP_Kitchen_Boiler_set",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 1580,
        "y": 2520,
        "wires": []
    },
    {
        "id": "3ac0beed8a92502e",
        "type": "change",
        "z": "4158a0e7e28c57fc",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "Boiler_On",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 585,
        "y": 2220,
        "wires": [
            [
                "2cb08c731c68681c"
            ]
        ]
    },
    {
        "id": "1cfe0c09e98d090c",
        "type": "change",
        "z": "4158a0e7e28c57fc",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "Boiler_On_Man",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 980,
        "y": 2640,
        "wires": [
            [
                "7a934130fb29fa33"
            ]
        ]
    },
    {
        "id": "7a934130fb29fa33",
        "type": "switch",
        "z": "4158a0e7e28c57fc",
        "name": "FILTR",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "neq",
                "v": "Boiler_On",
                "vt": "flow"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 1145,
        "y": 2550,
        "wires": [
            [
                "96f871cbb4f5cb1c",
                "98273abecdd9f9af"
            ]
        ]
    },
    {
        "id": "905e965c10e6fca6",
        "type": "function",
        "z": "4158a0e7e28c57fc",
        "name": "filtr-ON-OFF",
        "func": "var state=flow.get('Boiler_On')\n\nif(state == \"ON\")\n{\n    node.status({fill:\"red\",shape:\"dot\" ,text: \"OFF\" });\n    return {\"payload\": \"OFF\"};\n}\nelse {\n    node.status({fill:\"green\",shape:\"dot\" ,text: \"ON\" });\n    return {\"payload\": \"ON\"};\n    }\n\n\n\n\n\n\n\n\n\n\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 747,
        "y": 2719,
        "wires": [
            [
                "1cfe0c09e98d090c"
            ]
        ]
    },
    {
        "id": "a7d4ed062699d390",
        "type": "mqtt in",
        "z": "4158a0e7e28c57fc",
        "name": "",
        "topic": "zigbee2mqtt/mainrelay/state_l8",
        "qos": "0",
        "datatype": "auto",
        "broker": "5101c6e3.603738",
        "nl": false,
        "rap": false,
        "inputs": 0,
        "x": 145,
        "y": 2266,
        "wires": [
            [
                "3ac0beed8a92502e",
                "22df58bca90bb0b5"
            ]
        ]
    },
    {
        "id": "23edce5f267ac305",
        "type": "switch",
        "z": "4158a0e7e28c57fc",
        "name": "DISABLE_AUTO",
        "property": "Auto_Heater",
        "propertyType": "flow",
        "rules": [
            {
                "t": "eq",
                "v": "OFF",
                "vt": "str"
            }
        ],
        "checkall": "false",
        "repair": false,
        "outputs": 1,
        "x": 743,
        "y": 1265,
        "wires": [
            [
                "6f1f7ee231e8f78e"
            ]
        ]
    },
    {
        "id": "ccf7019dcf72b889",
        "type": "change",
        "z": "4158a0e7e28c57fc",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "Auto_Heater",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 478,
        "y": 1265,
        "wires": [
            [
                "02d31fbc7042b070",
                "23edce5f267ac305"
            ]
        ]
    },
    {
        "id": "6f1f7ee231e8f78e",
        "type": "change",
        "z": "4158a0e7e28c57fc",
        "name": "OFF",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "OFF",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1115,
        "y": 1260,
        "wires": [
            [
                "bf8dc302f845a811"
            ]
        ]
    },
    {
        "id": "02d31fbc7042b070",
        "type": "switch",
        "z": "4158a0e7e28c57fc",
        "name": "ENABLE_AUTO",
        "property": "Auto_Heater",
        "propertyType": "flow",
        "rules": [
            {
                "t": "eq",
                "v": "OFF",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "ON",
                "vt": "str"
            }
        ],
        "checkall": "false",
        "repair": false,
        "outputs": 2,
        "x": 740,
        "y": 1345,
        "wires": [
            [],
            [
                "2acf186bf76e7ec8"
            ]
        ]
    },
    {
        "id": "b7bd29cc0bd6dd99",
        "type": "mqtt in",
        "z": "4158a0e7e28c57fc",
        "name": "",
        "topic": "Openhab_VAR/Kitchen/Auto_Heater",
        "qos": "0",
        "datatype": "auto",
        "broker": "5101c6e3.603738",
        "inputs": 0,
        "x": 189,
        "y": 1265,
        "wires": [
            [
                "ccf7019dcf72b889"
            ]
        ]
    },
    {
        "id": "040c95becaa82836",
        "type": "switch",
        "z": "4158a0e7e28c57fc",
        "name": "REGULATOR",
        "property": "Temperature",
        "propertyType": "flow",
        "rules": [
            {
                "t": "gte",
                "v": "Set_Temperature",
                "vt": "flow"
            },
            {
                "t": "lt",
                "v": "Set_Temperature",
                "vt": "flow"
            }
        ],
        "checkall": "false",
        "repair": false,
        "outputs": 2,
        "x": 1153,
        "y": 1352,
        "wires": [
            [
                "6f1f7ee231e8f78e"
            ],
            [
                "568811c8798b90d1"
            ]
        ]
    },
    {
        "id": "bf8dc302f845a811",
        "type": "switch",
        "z": "4158a0e7e28c57fc",
        "name": "Heater1",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "neq",
                "v": "Heater1",
                "vt": "flow"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 1519,
        "y": 1360,
        "wires": [
            [
                "f402673c471e2267",
                "c653c6a488b57432"
            ]
        ]
    },
    {
        "id": "4f8d99a91a6b4e30",
        "type": "switch",
        "z": "4158a0e7e28c57fc",
        "name": "Window_OPEN",
        "property": "Window",
        "propertyType": "flow",
        "rules": [
            {
                "t": "eq",
                "v": "OPEN",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 693,
        "y": 1184,
        "wires": [
            [
                "6f1f7ee231e8f78e"
            ]
        ]
    },
    {
        "id": "e59225b2d3a43d40",
        "type": "change",
        "z": "4158a0e7e28c57fc",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "Temperature",
                "pt": "flow",
                "to": "$number(payload)",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 478,
        "y": 1405,
        "wires": [
            [
                "02d31fbc7042b070"
            ]
        ]
    },
    {
        "id": "2acf186bf76e7ec8",
        "type": "switch",
        "z": "4158a0e7e28c57fc",
        "name": "Window_CLOSED",
        "property": "Window",
        "propertyType": "flow",
        "rules": [
            {
                "t": "eq",
                "v": "CLOSED",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 953,
        "y": 1352,
        "wires": [
            [
                "040c95becaa82836"
            ]
        ]
    },
    {
        "id": "347c73d35fa1de8a",
        "type": "change",
        "z": "4158a0e7e28c57fc",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "Heater1",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 478,
        "y": 1485,
        "wires": [
            [
                "02d31fbc7042b070",
                "23ed0dc211482ea5"
            ]
        ]
    },
    {
        "id": "5addec9a036b14a2",
        "type": "mqtt in",
        "z": "4158a0e7e28c57fc",
        "name": "",
        "topic": "Openhab_VAR/Kitchen/Auto_Temperature",
        "qos": "2",
        "datatype": "auto",
        "broker": "5101c6e3.603738",
        "inputs": 0,
        "x": 206,
        "y": 1345,
        "wires": [
            [
                "02d31fbc7042b070"
            ]
        ]
    },
    {
        "id": "02c3c6f6fec3ed5f",
        "type": "change",
        "z": "4158a0e7e28c57fc",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "Window",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 455,
        "y": 1185,
        "wires": [
            [
                "4f8d99a91a6b4e30",
                "02d31fbc7042b070"
            ]
        ]
    },
    {
        "id": "568811c8798b90d1",
        "type": "change",
        "z": "4158a0e7e28c57fc",
        "name": "ON",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "ON",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1318,
        "y": 1359,
        "wires": [
            [
                "bf8dc302f845a811"
            ]
        ]
    },
    {
        "id": "f14498ef8d9319ab",
        "type": "mqtt in",
        "z": "4158a0e7e28c57fc",
        "name": "",
        "topic": "Openhab_VAR/Kitchen/Heater1_on_set",
        "qos": "0",
        "datatype": "auto",
        "broker": "5101c6e3.603738",
        "inputs": 0,
        "x": 1080,
        "y": 1485,
        "wires": [
            [
                "96294328443b3a0a"
            ]
        ]
    },
    {
        "id": "c653c6a488b57432",
        "type": "mqtt out",
        "z": "4158a0e7e28c57fc",
        "name": "",
        "topic": "zigbee2mqtt/mainrelay/set/state_l1",
        "qos": "0",
        "retain": "false",
        "respTopic": "",
        "contentType": "",
        "userProps": "",
        "correl": "",
        "expiry": "",
        "broker": "5101c6e3.603738",
        "x": 1835,
        "y": 1455,
        "wires": []
    },
    {
        "id": "f402673c471e2267",
        "type": "debug",
        "z": "4158a0e7e28c57fc",
        "name": "Kitchen_Heater1_set",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 1840,
        "y": 1320,
        "wires": []
    },
    {
        "id": "ab021a08cb900584",
        "type": "mqtt in",
        "z": "4158a0e7e28c57fc",
        "name": "",
        "topic": "Openhab_VAR/Kitchen/Temperature",
        "qos": "0",
        "datatype": "auto",
        "broker": "5101c6e3.603738",
        "inputs": 0,
        "x": 186,
        "y": 1405,
        "wires": [
            [
                "e59225b2d3a43d40"
            ]
        ]
    },
    {
        "id": "23ed0dc211482ea5",
        "type": "mqtt out",
        "z": "4158a0e7e28c57fc",
        "name": "",
        "topic": "Openhab_VAR/Kitchen/Heater1_on",
        "qos": "2",
        "retain": "true",
        "broker": "5101c6e3.603738",
        "x": 763,
        "y": 1485,
        "wires": []
    },
    {
        "id": "56e9e2bd6ea8de75",
        "type": "mqtt in",
        "z": "4158a0e7e28c57fc",
        "name": "",
        "topic": "zigbee2mqtt/mainrelay/state_l1",
        "qos": "0",
        "datatype": "auto",
        "broker": "5101c6e3.603738",
        "nl": false,
        "rap": false,
        "inputs": 0,
        "x": 176,
        "y": 1485,
        "wires": [
            [
                "347c73d35fa1de8a"
            ]
        ]
    },
    {
        "id": "3be66bf3e16e19a2",
        "type": "mqtt in",
        "z": "4158a0e7e28c57fc",
        "name": "",
        "topic": "Openhab_VAR/Kitchen/Window",
        "qos": "2",
        "datatype": "auto",
        "broker": "5101c6e3.603738",
        "inputs": 0,
        "x": 176,
        "y": 1185,
        "wires": [
            [
                "02c3c6f6fec3ed5f"
            ]
        ]
    },
    {
        "id": "e80cd041b3eaf971",
        "type": "change",
        "z": "4158a0e7e28c57fc",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "Heater2",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 479,
        "y": 1942,
        "wires": [
            [
                "b36c66d8879eb243",
                "a132d29cc29f3a3b"
            ]
        ]
    },
    {
        "id": "b36c66d8879eb243",
        "type": "switch",
        "z": "4158a0e7e28c57fc",
        "name": "ENABLE_AUTO",
        "property": "Auto_Heater",
        "propertyType": "flow",
        "rules": [
            {
                "t": "eq",
                "v": "OFF",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "ON",
                "vt": "str"
            }
        ],
        "checkall": "false",
        "repair": false,
        "outputs": 2,
        "x": 741,
        "y": 1802,
        "wires": [
            [],
            [
                "745784ee6e9b8489"
            ]
        ]
    },
    {
        "id": "a132d29cc29f3a3b",
        "type": "mqtt out",
        "z": "4158a0e7e28c57fc",
        "name": "",
        "topic": "Openhab_VAR/Kitchen/Heater2_on",
        "qos": "2",
        "retain": "true",
        "broker": "5101c6e3.603738",
        "x": 764,
        "y": 1942,
        "wires": []
    },
    {
        "id": "b4e44a6f600bc7af",
        "type": "mqtt in",
        "z": "4158a0e7e28c57fc",
        "name": "",
        "topic": "zigbee2mqtt/mainrelay/state_l2",
        "qos": "0",
        "datatype": "auto",
        "broker": "5101c6e3.603738",
        "nl": false,
        "rap": false,
        "inputs": 0,
        "x": 177,
        "y": 1942,
        "wires": [
            [
                "e80cd041b3eaf971"
            ]
        ]
    },
    {
        "id": "2d192071670e6098",
        "type": "change",
        "z": "4158a0e7e28c57fc",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "Auto_Heater",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 479,
        "y": 1722,
        "wires": [
            [
                "b36c66d8879eb243",
                "846574ea8f31ca8d"
            ]
        ]
    },
    {
        "id": "745784ee6e9b8489",
        "type": "switch",
        "z": "4158a0e7e28c57fc",
        "name": "Window_CLOSED",
        "property": "Window",
        "propertyType": "flow",
        "rules": [
            {
                "t": "eq",
                "v": "CLOSED",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 954,
        "y": 1809,
        "wires": [
            [
                "89cfa42ca80f5780"
            ]
        ]
    },
    {
        "id": "2e91b082f728aa90",
        "type": "change",
        "z": "4158a0e7e28c57fc",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "Temperature",
                "pt": "flow",
                "to": "$number(payload)",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 479,
        "y": 1862,
        "wires": [
            [
                "b36c66d8879eb243"
            ]
        ]
    },
    {
        "id": "be0114f04c6d4d20",
        "type": "mqtt in",
        "z": "4158a0e7e28c57fc",
        "name": "",
        "topic": "Openhab_VAR/Kitchen/Auto_Temperature",
        "qos": "2",
        "datatype": "auto",
        "broker": "5101c6e3.603738",
        "inputs": 0,
        "x": 207,
        "y": 1802,
        "wires": [
            [
                "b36c66d8879eb243"
            ]
        ]
    },
    {
        "id": "667a058de0ffa07a",
        "type": "change",
        "z": "4158a0e7e28c57fc",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "Window",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 456,
        "y": 1642,
        "wires": [
            [
                "e4631fd58c0857bd",
                "b36c66d8879eb243"
            ]
        ]
    },
    {
        "id": "846574ea8f31ca8d",
        "type": "switch",
        "z": "4158a0e7e28c57fc",
        "name": "DISABLE_AUTO",
        "property": "Auto_Heater",
        "propertyType": "flow",
        "rules": [
            {
                "t": "eq",
                "v": "OFF",
                "vt": "str"
            }
        ],
        "checkall": "false",
        "repair": false,
        "outputs": 1,
        "x": 744,
        "y": 1722,
        "wires": [
            [
                "94b04a284d5f1ce0"
            ]
        ]
    },
    {
        "id": "d40ef3266a0b69f9",
        "type": "mqtt in",
        "z": "4158a0e7e28c57fc",
        "name": "",
        "topic": "Openhab_VAR/Kitchen/Auto_Heater",
        "qos": "0",
        "datatype": "auto",
        "broker": "5101c6e3.603738",
        "inputs": 0,
        "x": 190,
        "y": 1722,
        "wires": [
            [
                "2d192071670e6098"
            ]
        ]
    },
    {
        "id": "89cfa42ca80f5780",
        "type": "switch",
        "z": "4158a0e7e28c57fc",
        "name": "REGULATOR",
        "property": "Temperature",
        "propertyType": "flow",
        "rules": [
            {
                "t": "gte",
                "v": "Set_Temperature",
                "vt": "flow"
            },
            {
                "t": "lt",
                "v": "Set_Temperature",
                "vt": "flow"
            }
        ],
        "checkall": "false",
        "repair": false,
        "outputs": 2,
        "x": 1154,
        "y": 1809,
        "wires": [
            [
                "94b04a284d5f1ce0"
            ],
            [
                "f266b7bb72251eb9"
            ]
        ]
    },
    {
        "id": "b74bd55426f04e95",
        "type": "mqtt in",
        "z": "4158a0e7e28c57fc",
        "name": "",
        "topic": "Openhab_VAR/Kitchen/Temperature",
        "qos": "0",
        "datatype": "auto",
        "broker": "5101c6e3.603738",
        "inputs": 0,
        "x": 187,
        "y": 1862,
        "wires": [
            [
                "2e91b082f728aa90"
            ]
        ]
    },
    {
        "id": "e4631fd58c0857bd",
        "type": "switch",
        "z": "4158a0e7e28c57fc",
        "name": "Window_OPEN",
        "property": "Window",
        "propertyType": "flow",
        "rules": [
            {
                "t": "eq",
                "v": "OPEN",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 694,
        "y": 1641,
        "wires": [
            [
                "94b04a284d5f1ce0"
            ]
        ]
    },
    {
        "id": "7bbd8ed76db38f75",
        "type": "mqtt in",
        "z": "4158a0e7e28c57fc",
        "name": "",
        "topic": "Openhab_VAR/Kitchen/Window",
        "qos": "2",
        "datatype": "auto",
        "broker": "5101c6e3.603738",
        "inputs": 0,
        "x": 177,
        "y": 1642,
        "wires": [
            [
                "667a058de0ffa07a"
            ]
        ]
    },
    {
        "id": "94b04a284d5f1ce0",
        "type": "change",
        "z": "4158a0e7e28c57fc",
        "name": "OFF",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "OFF",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1085,
        "y": 1710,
        "wires": [
            [
                "187493f6f17f232c"
            ]
        ]
    },
    {
        "id": "f266b7bb72251eb9",
        "type": "change",
        "z": "4158a0e7e28c57fc",
        "name": "ON",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "ON",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1319,
        "y": 1816,
        "wires": [
            [
                "187493f6f17f232c"
            ]
        ]
    },
    {
        "id": "187493f6f17f232c",
        "type": "switch",
        "z": "4158a0e7e28c57fc",
        "name": "Heater2",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "neq",
                "v": "Heater2",
                "vt": "flow"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 1509,
        "y": 1817,
        "wires": [
            [
                "b19fed4d61813f79",
                "d9dc623b346675df"
            ]
        ]
    },
    {
        "id": "d9dc623b346675df",
        "type": "mqtt out",
        "z": "4158a0e7e28c57fc",
        "name": "",
        "topic": "zigbee2mqtt/mainrelay/set/state_l2",
        "qos": "0",
        "retain": "false",
        "respTopic": "",
        "contentType": "",
        "userProps": "",
        "correl": "",
        "expiry": "",
        "broker": "5101c6e3.603738",
        "x": 1940,
        "y": 1890,
        "wires": []
    },
    {
        "id": "b19fed4d61813f79",
        "type": "debug",
        "z": "4158a0e7e28c57fc",
        "name": "Kitchen_Heater2_set",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 1900,
        "y": 1770,
        "wires": []
    },
    {
        "id": "d096713dc4a9783b",
        "type": "mqtt in",
        "z": "4158a0e7e28c57fc",
        "name": "",
        "topic": "Openhab_VAR/Kitchen/Heater2_on_set",
        "qos": "0",
        "datatype": "auto",
        "broker": "5101c6e3.603738",
        "inputs": 0,
        "x": 1065,
        "y": 1942,
        "wires": [
            [
                "6e4c9728cc4ad839"
            ]
        ]
    },
    {
        "id": "22df58bca90bb0b5",
        "type": "trigger",
        "z": "4158a0e7e28c57fc",
        "name": "",
        "op1": "",
        "op2": "OFF",
        "op1type": "nul",
        "op2type": "str",
        "duration": "12",
        "extend": false,
        "overrideDelay": false,
        "units": "hr",
        "reset": "OFF",
        "bytopic": "all",
        "topic": "topic",
        "outputs": 1,
        "x": 565,
        "y": 2295,
        "wires": [
            [
                "318067630dd962c9",
                "29ce8a79ed2d4ab9"
            ]
        ]
    },
    {
        "id": "fdc4f38dc72e2155",
        "type": "mqtt out",
        "z": "4158a0e7e28c57fc",
        "name": "",
        "topic": "Openhab_VAR/Kitchen/Window1",
        "qos": "0",
        "retain": "true",
        "broker": "5101c6e3.603738",
        "x": 2060,
        "y": 135,
        "wires": []
    },
    {
        "id": "9b749cda58820d7d",
        "type": "mqtt out",
        "z": "4158a0e7e28c57fc",
        "name": "",
        "topic": "Openhab_VAR/Kitchen/Window2",
        "qos": "0",
        "retain": "true",
        "broker": "5101c6e3.603738",
        "x": 2060,
        "y": 180,
        "wires": []
    },
    {
        "id": "96a4e573b02a821d",
        "type": "time-switch",
        "z": "4158a0e7e28c57fc",
        "name": "",
        "lat": "42.74377283671802",
        "lon": "133.1237630957936",
        "startTime": "00:00",
        "endTime": "06:00",
        "startOffset": 0,
        "endOffset": "0",
        "x": 195,
        "y": 2505,
        "wires": [
            [
                "d9a23581f339cf2d"
            ],
            [
                "16913fa83c8693b8",
                "25558bd08579cf4e"
            ]
        ]
    },
    {
        "id": "d9a23581f339cf2d",
        "type": "switch",
        "z": "4158a0e7e28c57fc",
        "name": "FILTR",
        "property": "Boiler_On",
        "propertyType": "flow",
        "rules": [
            {
                "t": "eq",
                "v": "OFF",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 455,
        "y": 2490,
        "wires": [
            [
                "4f63f8303f012bf9"
            ]
        ]
    },
    {
        "id": "4f63f8303f012bf9",
        "type": "switch",
        "z": "4158a0e7e28c57fc",
        "name": "Nigt_Boiler_On",
        "property": "Nigt_Boiler_On",
        "propertyType": "flow",
        "rules": [
            {
                "t": "eq",
                "v": "ON",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 612,
        "y": 2513,
        "wires": [
            [
                "c6d8df99bdfaa579"
            ]
        ]
    },
    {
        "id": "1f53659266bbfce8",
        "type": "function",
        "z": "4158a0e7e28c57fc",
        "name": "filtr-ON-OFF",
        "func": "var state=flow.get('Boiler_On')\n\nif(state == \"ON\")\n{\n    node.status({fill:\"red\",shape:\"dot\" ,text: \"OFF\" });\n    return {\"payload\": \"OFF\"};\n}\nelse {\n    node.status({fill:\"green\",shape:\"dot\" ,text: \"ON\" });\n    return {\"payload\": \"ON\"};\n    }\n\n\n\n\n\n\n\n\n\n\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 985,
        "y": 2544,
        "wires": [
            [
                "7a934130fb29fa33"
            ]
        ]
    },
    {
        "id": "16913fa83c8693b8",
        "type": "switch",
        "z": "4158a0e7e28c57fc",
        "name": "FILTR",
        "property": "Boiler_On",
        "propertyType": "flow",
        "rules": [
            {
                "t": "eq",
                "v": "ON",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 455,
        "y": 2535,
        "wires": [
            [
                "4f63f8303f012bf9"
            ]
        ]
    },
    {
        "id": "c6d8df99bdfaa579",
        "type": "switch",
        "z": "4158a0e7e28c57fc",
        "name": "Boiler_On_Man",
        "property": "Boiler_On_Man",
        "propertyType": "flow",
        "rules": [
            {
                "t": "eq",
                "v": "OFF",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 795,
        "y": 2513,
        "wires": [
            [
                "1f53659266bbfce8"
            ]
        ]
    },
    {
        "id": "404a142133e30d4c",
        "type": "inject",
        "z": "4158a0e7e28c57fc",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 60,
        "y": 2505,
        "wires": [
            [
                "96a4e573b02a821d"
            ]
        ],
        "icon": "node-red/timer.svg",
        "l": false
    },
    {
        "id": "25558bd08579cf4e",
        "type": "switch",
        "z": "4158a0e7e28c57fc",
        "name": "FILTR",
        "property": "Boiler_On",
        "propertyType": "flow",
        "rules": [
            {
                "t": "eq",
                "v": "OFF",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 455,
        "y": 2580,
        "wires": [
            [
                "ac98c9f0153087a2"
            ]
        ]
    },
    {
        "id": "ac98c9f0153087a2",
        "type": "switch",
        "z": "4158a0e7e28c57fc",
        "name": "Boiler_On_Man",
        "property": "Boiler_On_Man",
        "propertyType": "flow",
        "rules": [
            {
                "t": "eq",
                "v": "ON",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 799,
        "y": 2580,
        "wires": [
            [
                "1f53659266bbfce8"
            ]
        ]
    },
    {
        "id": "98273abecdd9f9af",
        "type": "mqtt out",
        "z": "4158a0e7e28c57fc",
        "name": "",
        "topic": "zigbee2mqtt/mainrelay/set/state_l8",
        "qos": "0",
        "retain": "false",
        "respTopic": "",
        "contentType": "",
        "userProps": "",
        "correl": "",
        "expiry": "",
        "broker": "5101c6e3.603738",
        "x": 1625,
        "y": 2610,
        "wires": []
    },
    {
        "id": "29ce8a79ed2d4ab9",
        "type": "change",
        "z": "4158a0e7e28c57fc",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "Boiler_On_Man",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 800,
        "y": 2355,
        "wires": [
            []
        ]
    },
    {
        "id": "4540ba8f28f0820d",
        "type": "mqtt in",
        "z": "4158a0e7e28c57fc",
        "name": "",
        "topic": "Openhab_VAR/Kitchen/Lamp1ON",
        "qos": "2",
        "datatype": "auto",
        "broker": "5101c6e3.603738",
        "inputs": 0,
        "x": 155,
        "y": 375,
        "wires": [
            [
                "9db692f00606205e"
            ]
        ]
    },
    {
        "id": "9db692f00606205e",
        "type": "mqtt out",
        "z": "4158a0e7e28c57fc",
        "name": "",
        "topic": "Openhab_VAR/Kitchen/Lamp1",
        "qos": "0",
        "retain": "true",
        "broker": "5101c6e3.603738",
        "x": 535,
        "y": 375,
        "wires": []
    },
    {
        "id": "f69c899d83924b2f",
        "type": "mqtt in",
        "z": "4158a0e7e28c57fc",
        "name": "",
        "topic": "Openhab_VAR/Kitchen/Lamp2ON",
        "qos": "2",
        "datatype": "auto",
        "broker": "5101c6e3.603738",
        "inputs": 0,
        "x": 160,
        "y": 435,
        "wires": [
            [
                "22b32e475d20b3b9"
            ]
        ]
    },
    {
        "id": "22b32e475d20b3b9",
        "type": "mqtt out",
        "z": "4158a0e7e28c57fc",
        "name": "",
        "topic": "Openhab_VAR/Kitchen/Lamp2",
        "qos": "0",
        "retain": "true",
        "broker": "5101c6e3.603738",
        "x": 540,
        "y": 435,
        "wires": []
    },
    {
        "id": "96294328443b3a0a",
        "type": "change",
        "z": "4158a0e7e28c57fc",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "Heater1_on_manual",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1393,
        "y": 1485,
        "wires": [
            [
                "bf8dc302f845a811"
            ]
        ]
    },
    {
        "id": "6e4c9728cc4ad839",
        "type": "change",
        "z": "4158a0e7e28c57fc",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "Heater2_on_manual",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1377,
        "y": 1943,
        "wires": [
            [
                "187493f6f17f232c"
            ]
        ]
    },
    {
        "id": "fa5fbcf0f59a1836",
        "type": "mqtt in",
        "z": "4158a0e7e28c57fc",
        "name": "",
        "topic": "zigbee2mqtt/Kitchen_CS1/contact",
        "qos": "2",
        "datatype": "auto",
        "broker": "5101c6e3.603738",
        "nl": false,
        "rap": true,
        "rh": 0,
        "inputs": 0,
        "x": 1280,
        "y": 150,
        "wires": [
            [
                "8f4f741a47660314"
            ]
        ]
    },
    {
        "id": "8f4f741a47660314",
        "type": "switch",
        "z": "4158a0e7e28c57fc",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "true",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "false",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 1510,
        "y": 150,
        "wires": [
            [
                "de8deb9c5cfe26cd"
            ],
            [
                "e3615c72dc952e54"
            ]
        ]
    },
    {
        "id": "e3615c72dc952e54",
        "type": "change",
        "z": "4158a0e7e28c57fc",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "OPEN",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1675,
        "y": 165,
        "wires": [
            [
                "fdc4f38dc72e2155",
                "9b749cda58820d7d",
                "e62323b62725a15e"
            ]
        ]
    },
    {
        "id": "de8deb9c5cfe26cd",
        "type": "change",
        "z": "4158a0e7e28c57fc",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "CLOSED",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1675,
        "y": 135,
        "wires": [
            [
                "fdc4f38dc72e2155",
                "9b749cda58820d7d",
                "e62323b62725a15e"
            ]
        ]
    },
    {
        "id": "a1558f674caa24b9",
        "type": "mqtt in",
        "z": "4158a0e7e28c57fc",
        "name": "",
        "topic": "zigbee2mqtt/Kitchen_CS1/voltage",
        "qos": "2",
        "datatype": "auto",
        "broker": "5101c6e3.603738",
        "nl": false,
        "rap": true,
        "rh": 0,
        "inputs": 0,
        "x": 1295,
        "y": 225,
        "wires": [
            [
                "4a5888eb69b8c5e4"
            ]
        ]
    },
    {
        "id": "dc4b4ab2e5c93cc1",
        "type": "mqtt in",
        "z": "4158a0e7e28c57fc",
        "name": "",
        "topic": "zigbee2mqtt/Kitchen_CS1/battery",
        "qos": "2",
        "datatype": "auto",
        "broker": "5101c6e3.603738",
        "nl": false,
        "rap": true,
        "rh": 0,
        "inputs": 0,
        "x": 1300,
        "y": 270,
        "wires": [
            [
                "32a23358177dbffd"
            ]
        ]
    },
    {
        "id": "e224c5d8779d84ee",
        "type": "mqtt in",
        "z": "4158a0e7e28c57fc",
        "name": "",
        "topic": "zigbee2mqtt/Kitchen_CS1/linkquality",
        "qos": "2",
        "datatype": "auto",
        "broker": "5101c6e3.603738",
        "nl": false,
        "rap": true,
        "rh": 0,
        "inputs": 0,
        "x": 1310,
        "y": 315,
        "wires": [
            [
                "c5f70bf4a647d7e7"
            ]
        ]
    },
    {
        "id": "9bc4a551a42c88b5",
        "type": "mqtt in",
        "z": "4158a0e7e28c57fc",
        "name": "",
        "topic": "zigbee2mqtt/Kitchen_HTP1/temperature",
        "qos": "2",
        "datatype": "auto",
        "broker": "5101c6e3.603738",
        "nl": false,
        "rap": true,
        "rh": 0,
        "inputs": 0,
        "x": 225,
        "y": 30,
        "wires": [
            [
                "bb7bdb1300d4862f"
            ]
        ]
    },
    {
        "id": "f2c56f61c9e8a24e",
        "type": "mqtt in",
        "z": "4158a0e7e28c57fc",
        "name": "",
        "topic": "zigbee2mqtt/Kitchen_HTP1/humidity",
        "qos": "2",
        "datatype": "auto",
        "broker": "5101c6e3.603738",
        "nl": false,
        "rap": true,
        "rh": 0,
        "inputs": 0,
        "x": 215,
        "y": 75,
        "wires": [
            []
        ]
    },
    {
        "id": "15f79776135eafed",
        "type": "mqtt in",
        "z": "4158a0e7e28c57fc",
        "name": "",
        "topic": "zigbee2mqtt/Kitchen_HTP1/voltage",
        "qos": "2",
        "datatype": "auto",
        "broker": "5101c6e3.603738",
        "nl": false,
        "rap": true,
        "rh": 0,
        "inputs": 0,
        "x": 170,
        "y": 165,
        "wires": [
            [
                "fb3ee20df206bf95"
            ]
        ]
    },
    {
        "id": "d2d1c63809f2cdde",
        "type": "mqtt in",
        "z": "4158a0e7e28c57fc",
        "name": "",
        "topic": "zigbee2mqtt/Kitchen_HTP1/battery",
        "qos": "2",
        "datatype": "auto",
        "broker": "5101c6e3.603738",
        "nl": false,
        "rap": true,
        "rh": 0,
        "inputs": 0,
        "x": 170,
        "y": 210,
        "wires": [
            [
                "d87c222b91ac35d7"
            ]
        ]
    },
    {
        "id": "ea75ab7c2afbb4cc",
        "type": "mqtt in",
        "z": "4158a0e7e28c57fc",
        "name": "",
        "topic": "zigbee2mqtt/Kitchen_HTP1/linkquality",
        "qos": "2",
        "datatype": "auto",
        "broker": "5101c6e3.603738",
        "nl": false,
        "rap": true,
        "rh": 0,
        "inputs": 0,
        "x": 165,
        "y": 255,
        "wires": [
            [
                "a7369d726da490da"
            ]
        ]
    },
    {
        "id": "7789f44e1eb7cb70",
        "type": "mqtt in",
        "z": "4158a0e7e28c57fc",
        "name": "",
        "topic": "zigbee2mqtt/Kitchen_HTP1/pressure",
        "qos": "2",
        "datatype": "auto",
        "broker": "5101c6e3.603738",
        "nl": false,
        "rap": true,
        "rh": 0,
        "inputs": 0,
        "x": 215,
        "y": 120,
        "wires": [
            [
                "def11fb7702e565a"
            ]
        ]
    },
    {
        "id": "5361819478dc37a9",
        "type": "mqtt in",
        "z": "4158a0e7e28c57fc",
        "name": "",
        "topic": "zigbee2mqtt/BathRoom_Sw1/click",
        "qos": "2",
        "datatype": "auto",
        "broker": "5101c6e3.603738",
        "nl": false,
        "rap": true,
        "rh": 0,
        "inputs": 0,
        "x": 155,
        "y": 2745,
        "wires": [
            [
                "df00151d09c1865d"
            ]
        ]
    },
    {
        "id": "df00151d09c1865d",
        "type": "switch",
        "z": "4158a0e7e28c57fc",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "long_release",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 380,
        "y": 2745,
        "wires": [
            [
                "905e965c10e6fca6"
            ]
        ]
    },
    {
        "id": "8af67d2c41a46ab0",
        "type": "inject",
        "z": "4158a0e7e28c57fc",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "25",
        "payload": "25",
        "payloadType": "num",
        "x": 250,
        "y": 750,
        "wires": [
            [
                "4c1bf60f46115b48"
            ]
        ]
    },
    {
        "id": "4c1bf60f46115b48",
        "type": "change",
        "z": "4158a0e7e28c57fc",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "Auto_Temperature",
                "pt": "flow",
                "to": "25",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 630,
        "y": 760,
        "wires": [
            []
        ]
    },
    {
        "id": "7b7eae226ce61bbf",
        "type": "mqtt out",
        "z": "edc94db569fd3e9b",
        "name": "",
        "topic": "Xiaomi/Bathroom_Switch/voltage",
        "qos": "0",
        "retain": "true",
        "respTopic": "",
        "contentType": "",
        "userProps": "",
        "correl": "",
        "expiry": "",
        "broker": "5101c6e3.603738",
        "x": 605,
        "y": 30,
        "wires": []
    },
    {
        "id": "3363ae12cf9b0318",
        "type": "mqtt out",
        "z": "edc94db569fd3e9b",
        "name": "",
        "topic": "Xiaomi/Bathroom_Switch/linkquality",
        "qos": "0",
        "retain": "true",
        "respTopic": "",
        "contentType": "",
        "userProps": "",
        "correl": "",
        "expiry": "",
        "broker": "5101c6e3.603738",
        "x": 605,
        "y": 150,
        "wires": []
    },
    {
        "id": "8a9e94725eb2cdf3",
        "type": "mqtt out",
        "z": "edc94db569fd3e9b",
        "name": "",
        "topic": "Xiaomi/Bathroom_Switch/battery",
        "qos": "0",
        "retain": "true",
        "respTopic": "",
        "contentType": "",
        "userProps": "",
        "correl": "",
        "expiry": "",
        "broker": "5101c6e3.603738",
        "x": 595,
        "y": 105,
        "wires": []
    },
    {
        "id": "bde467103bae7ea0",
        "type": "mqtt out",
        "z": "edc94db569fd3e9b",
        "name": "",
        "topic": "Openhab_VAR/Bathroom/Temperature",
        "qos": "0",
        "retain": "true",
        "respTopic": "",
        "contentType": "",
        "userProps": "",
        "correl": "",
        "expiry": "",
        "broker": "5101c6e3.603738",
        "x": 2505,
        "y": 60,
        "wires": []
    },
    {
        "id": "97622464469e1297",
        "type": "mqtt out",
        "z": "edc94db569fd3e9b",
        "name": "",
        "topic": "Openhab_VAR/Bathroom/Humidity",
        "qos": "0",
        "retain": "true",
        "respTopic": "",
        "contentType": "",
        "userProps": "",
        "correl": "",
        "expiry": "",
        "broker": "5101c6e3.603738",
        "x": 2510,
        "y": 120,
        "wires": []
    },
    {
        "id": "14822aa838b3c46f",
        "type": "mqtt out",
        "z": "edc94db569fd3e9b",
        "name": "",
        "topic": "Xiaomi/Bathroom_HT1/voltage",
        "qos": "0",
        "retain": "true",
        "respTopic": "",
        "contentType": "",
        "userProps": "",
        "correl": "",
        "expiry": "",
        "broker": "5101c6e3.603738",
        "x": 2515,
        "y": 255,
        "wires": []
    },
    {
        "id": "4aa7bd442c08497b",
        "type": "mqtt out",
        "z": "edc94db569fd3e9b",
        "name": "",
        "topic": "Xiaomi/Bathroom_HT1/linkquality",
        "qos": "0",
        "retain": "true",
        "respTopic": "",
        "contentType": "",
        "userProps": "",
        "correl": "",
        "expiry": "",
        "broker": "5101c6e3.603738",
        "x": 2525,
        "y": 210,
        "wires": []
    },
    {
        "id": "2a61ebb822a0fede",
        "type": "mqtt out",
        "z": "edc94db569fd3e9b",
        "name": "",
        "topic": "Xiaomi/Bathroom_HT1/battery",
        "qos": "0",
        "retain": "true",
        "respTopic": "",
        "contentType": "",
        "userProps": "",
        "correl": "",
        "expiry": "",
        "broker": "5101c6e3.603738",
        "x": 2500,
        "y": 315,
        "wires": []
    },
    {
        "id": "5cc1fd4f762cad8b",
        "type": "mqtt out",
        "z": "edc94db569fd3e9b",
        "name": "",
        "topic": "bathroom1/switch/relay_1/command",
        "qos": "0",
        "retain": "true",
        "broker": "5101c6e3.603738",
        "x": 1740,
        "y": 645,
        "wires": []
    },
    {
        "id": "b49f9e6f99128fdf",
        "type": "mqtt out",
        "z": "edc94db569fd3e9b",
        "name": "",
        "topic": "bathroom1/switch/relay_2/command",
        "qos": "0",
        "retain": "true",
        "broker": "5101c6e3.603738",
        "x": 1530,
        "y": 1025,
        "wires": []
    },
    {
        "id": "d67533036aa6541a",
        "type": "comment",
        "z": "edc94db569fd3e9b",
        "name": "вентиялтор relay_1",
        "info": "",
        "x": 1780,
        "y": 605,
        "wires": []
    },
    {
        "id": "5df20375be01f59f",
        "type": "comment",
        "z": "edc94db569fd3e9b",
        "name": "Свет на зеркале relay_2",
        "info": "",
        "x": 1600,
        "y": 985,
        "wires": []
    },
    {
        "id": "43cc6f855294aa3b",
        "type": "mqtt in",
        "z": "edc94db569fd3e9b",
        "name": "",
        "topic": "Openhab_VAR/Bathroom/Lamp1_on_set",
        "qos": "2",
        "datatype": "auto",
        "broker": "5101c6e3.603738",
        "inputs": 0,
        "x": 620,
        "y": 1025,
        "wires": [
            [
                "ec707d4df0f6023a",
                "60ee733e55491823"
            ]
        ]
    },
    {
        "id": "2dbc3239bc5635fb",
        "type": "mqtt in",
        "z": "edc94db569fd3e9b",
        "name": "",
        "topic": "Openhab_VAR/Bathroom/Blower_on_set",
        "qos": "2",
        "datatype": "auto",
        "broker": "5101c6e3.603738",
        "inputs": 0,
        "x": 890,
        "y": 545,
        "wires": [
            [
                "5cc1fd4f762cad8b"
            ]
        ]
    },
    {
        "id": "d6da35b4ab39d7fb",
        "type": "mqtt out",
        "z": "edc94db569fd3e9b",
        "name": "",
        "topic": "bathroom2/switch/relay_1/command",
        "qos": "0",
        "retain": "true",
        "broker": "5101c6e3.603738",
        "x": 1530,
        "y": 1105,
        "wires": []
    },
    {
        "id": "271785597214c0c4",
        "type": "switch",
        "z": "edc94db569fd3e9b",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "ON",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "OFF",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 520,
        "y": 1195,
        "wires": [
            [
                "68c5836c85ba9b81",
                "aa93bf7c1951655c"
            ],
            [
                "aa93bf7c1951655c"
            ]
        ]
    },
    {
        "id": "d68fdf5ced816c72",
        "type": "mqtt out",
        "z": "edc94db569fd3e9b",
        "name": "",
        "topic": "Openhab_VAR/Bathroom/Auto_Lamp",
        "qos": "0",
        "retain": "true",
        "broker": "5101c6e3.603738",
        "x": 560,
        "y": 645,
        "wires": []
    },
    {
        "id": "68c5836c85ba9b81",
        "type": "switch",
        "z": "edc94db569fd3e9b",
        "name": "Auto_Lamp",
        "property": "Auto_Lamp",
        "propertyType": "flow",
        "rules": [
            {
                "t": "eq",
                "v": "ON",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 720,
        "y": 1185,
        "wires": [
            [
                "415d8d18f5aa52a0"
            ]
        ]
    },
    {
        "id": "2b091b8b916ca3be",
        "type": "mqtt in",
        "z": "edc94db569fd3e9b",
        "name": "",
        "topic": "Openhab_VAR/Bathroom/Lamp2_on_set",
        "qos": "2",
        "datatype": "auto",
        "broker": "5101c6e3.603738",
        "inputs": 0,
        "x": 620,
        "y": 1102,
        "wires": [
            [
                "ec707d4df0f6023a",
                "f363ebe22c64fc9b"
            ]
        ]
    },
    {
        "id": "eba9aa6beae03141",
        "type": "function",
        "z": "edc94db569fd3e9b",
        "name": "func buton on-off",
        "func": "var lamp1=flow.get('relay_2')\nvar lamp2=flow.get('relay_21')\nvar payload = msg.payload;\n\n\nif((lamp2 == \"OFF\")&&(lamp1 == \"OFF\")) {\n    node.status({fill:\"green\",shape:\"dot\" ,text: \"ON\" });\n    return  {\"payload\": \"ON\"};\n}\nelse {\n     node.status({fill:\"red\",shape:\"dot\" ,text: \"OFF\" });\n    return  {\"payload\": \"OFF\"};\n    }\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 580,
        "y": 865,
        "wires": [
            [
                "ec707d4df0f6023a",
                "60ee733e55491823",
                "f363ebe22c64fc9b"
            ]
        ]
    },
    {
        "id": "d7293aaf6e04af95",
        "type": "debug",
        "z": "edc94db569fd3e9b",
        "name": "manual_lamp_on",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "x": 1090,
        "y": 945,
        "wires": []
    },
    {
        "id": "ec707d4df0f6023a",
        "type": "function",
        "z": "edc94db569fd3e9b",
        "name": "set flow manual_lamp_on",
        "func": "var lamp1=flow.get('relay_2')\nvar lamp2=flow.get('relay_21')\nvar topic = msg.topic;\nvar payload = msg.payload;\n\n\nif(payload == \"ON\")\n{       \n    node.status({fill:\"green\",shape:\"dot\" ,text: \"ON\" });\n    flow.set(\"manual_lamp_on\", \"ON\")\n    return {\"payload\": \"ON\"};\n}\nelse if(payload == \"OFF\")\n    {\n        if(topic == \"Openhab_VAR/Bathroom/Lamp1_on_set\" && lamp2 == \"OFF\")        \n        {   \n            node.status({fill:\"red\",shape:\"dot\" ,text: \"OFF\" });\n            flow.set(\"manual_lamp_on\", \"OFF\")\n            return {\"payload\": \"OFF\"};\n        }\n        else if(topic == \"Openhab_VAR/Bathroom/Lamp2_on_set\" && lamp1 == \"OFF\")\n        {\n            node.status({fill:\"red\",shape:\"dot\" ,text: \"OFF\" });\n            flow.set(\"manual_lamp_on\", \"OFF\")\n            return {\"payload\": \"OFF\"};\n        }\n        else if (topic !== \"Openhab_VAR/Bathroom/Lamp2_on_set\" && topic !== \"Openhab_VAR/Bathroom/Lamp1_on_set\")\n        {\n            node.status({fill:\"red\",shape:\"dot\" ,text: \"OFF\" });\n            flow.set(\"manual_lamp_on\", \"OFF\")\n            return {\"payload\": \"OFF\"};\n        }\n    }\n\n\n\n\n\n\n\n\n\n\n\n",
        "outputs": 1,
        "noerr": 0,
        "x": 1000,
        "y": 865,
        "wires": [
            [
                "d7293aaf6e04af95",
                "233068867a36a1db",
                "730718c2a26d4fa5"
            ]
        ]
    },
    {
        "id": "9658cc6ad1a31007",
        "type": "function",
        "z": "edc94db569fd3e9b",
        "name": "filtr-ON-OFF",
        "func": "var state=flow.get('Auto_Lamp')\n\nif(state == \"ON\")\n{\n    node.status({fill:\"red\",shape:\"dot\" ,text: \"OFF\" });\n    return {\"payload\": \"OFF\"};\n}\nelse {\n    node.status({fill:\"green\",shape:\"dot\" ,text: \"ON\" });\n    return {\"payload\": \"ON\"};\n    }\n\n\n\n\n\n\n\n\n\n\n",
        "outputs": 1,
        "noerr": 0,
        "x": 320,
        "y": 645,
        "wires": [
            [
                "d68fdf5ced816c72"
            ]
        ]
    },
    {
        "id": "2b0c6daede43d70a",
        "type": "function",
        "z": "edc94db569fd3e9b",
        "name": "filtr-ON-OFF",
        "func": "var state=flow.get('relay_1')\n\nif(state == \"ON\")\n{\n    node.status({fill:\"red\",shape:\"dot\" ,text: \"OFF\" });\n    return {\"payload\": \"OFF\"};\n}\nelse {\n    node.status({fill:\"green\",shape:\"dot\" ,text: \"ON\" });\n    return {\"payload\": \"ON\"};\n    }\n\n\n\n\n\n\n\n\n\n\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 1350,
        "y": 645,
        "wires": [
            [
                "5cc1fd4f762cad8b"
            ]
        ]
    },
    {
        "id": "60ee733e55491823",
        "type": "function",
        "z": "edc94db569fd3e9b",
        "name": "ON-OFF",
        "func": "var payload = msg.payload;\n\nif(payload !== \"ON\")\n{\n    node.status({fill:\"red\",shape:\"dot\",text: \"OFF\" });\n    return {\"payload\": \"OFF\"};\n}\nelse {\n    node.status({fill:\"green\",shape:\"dot\",text: \"ON\" });\n    return {\"payload\": \"ON\"};\n    }\n\n\n\n\n\n\n\n\n\n\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1110,
        "y": 1025,
        "wires": [
            [
                "a3b770342459505b"
            ]
        ]
    },
    {
        "id": "84bb8cc01133804f",
        "type": "function",
        "z": "edc94db569fd3e9b",
        "name": "cool func",
        "func": "var payload = msg.payload;\nvar topic = msg.topic;\nvar state;\nvar text;\n\nif (topic == \"Openhab_VAR/Bathroom/AutoHumidity\")\n{\n    state = flow.get(\"AutoHumidity\")\n    if (state !== payload)\n    {\n        flow.set('AutoHumidity',payload);\n        text = \"1 : \" +payload;\n        node.status({text: text });\n        return [ msg, null, null ,null,null ];\n    }\n}\n\n\nif (topic == \"Openhab_VAR/Bathroom/Auto_Lamp\")\n{\n    state = flow.get(\"Auto_Lamp\")\n    if (state !== payload)\n    {\n        flow.set('Auto_Lamp',payload);\n        text = \"2 : \" +payload;\n        node.status({text: text });\n        return [ null , msg, null ,null,null ];\n    }\n}\n\nif (topic == \"bathroom1/switch/relay_1/state\")\n{\n    state = flow.get(\"relay_1\")\n    if (state !== payload)\n    {\n        flow.set('relay_1',payload);\n        text = \"3 : \" +payload;\n        node.status({text: text });\n        return [ null ,null, msg, null,null ];\n    }\n}\n\nif (topic == \"bathroom1/switch/relay_2/state\")\n{\n    state = flow.get(\"relay_2\")\n    if (state !== payload)\n    {\n        flow.set('relay_2',payload);\n        text = \"4 : \" +payload;\n        node.status({text: text });\n        return [ null ,null, null, msg,null ];\n    }\n}\n\nif (topic == \"bathroom2/switch/relay_1/state\")\n{\n    state = flow.get(\"relay_21\")\n    if (state !== payload)\n    {\n        flow.set('relay_21',payload);\n        text = \"5 : \" +payload;\n        node.status({text: text });\n        return [ null ,null, null, null,msg ];\n    }\n}\n\n\n\n",
        "outputs": 5,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 1290,
        "y": 135,
        "wires": [
            [],
            [],
            [
                "62d6926a16fc294a"
            ],
            [
                "6a8c5ce4daada3f7"
            ],
            [
                "7c2d7a9a405ef259"
            ]
        ],
        "outputLabels": [
            "AutoHumidity",
            "Auto_Lamp",
            "relay_1",
            "relay_2",
            "relay_21"
        ]
    },
    {
        "id": "0e85cb19fc8aec88",
        "type": "mqtt in",
        "z": "edc94db569fd3e9b",
        "name": "",
        "topic": "bathroom1/switch/relay_1/state",
        "qos": "0",
        "datatype": "auto",
        "broker": "5101c6e3.603738",
        "inputs": 0,
        "x": 980,
        "y": 95,
        "wires": [
            [
                "84bb8cc01133804f"
            ]
        ]
    },
    {
        "id": "fc7908e1307dde12",
        "type": "mqtt in",
        "z": "edc94db569fd3e9b",
        "name": "",
        "topic": "bathroom1/switch/relay_2/state",
        "qos": "0",
        "datatype": "auto",
        "broker": "5101c6e3.603738",
        "inputs": 0,
        "x": 980,
        "y": 135,
        "wires": [
            [
                "84bb8cc01133804f"
            ]
        ]
    },
    {
        "id": "62d6926a16fc294a",
        "type": "mqtt out",
        "z": "edc94db569fd3e9b",
        "name": "",
        "topic": "Openhab_VAR/Bathroom/Blower_on",
        "qos": "0",
        "retain": "true",
        "broker": "5101c6e3.603738",
        "x": 1600,
        "y": 95,
        "wires": []
    },
    {
        "id": "6a8c5ce4daada3f7",
        "type": "mqtt out",
        "z": "edc94db569fd3e9b",
        "name": "",
        "topic": "Openhab_VAR/Bathroom/Lamp1_on",
        "qos": "0",
        "retain": "true",
        "broker": "5101c6e3.603738",
        "x": 1600,
        "y": 135,
        "wires": []
    },
    {
        "id": "9b8caaa8cc951869",
        "type": "mqtt in",
        "z": "edc94db569fd3e9b",
        "name": "",
        "topic": "bathroom2/switch/relay_1/state",
        "qos": "0",
        "datatype": "auto",
        "broker": "5101c6e3.603738",
        "inputs": 0,
        "x": 980,
        "y": 175,
        "wires": [
            [
                "84bb8cc01133804f"
            ]
        ]
    },
    {
        "id": "1fab28a150e9845c",
        "type": "mqtt in",
        "z": "edc94db569fd3e9b",
        "name": "",
        "topic": "Openhab_VAR/Bathroom/Auto_Lamp",
        "qos": "2",
        "datatype": "auto",
        "broker": "5101c6e3.603738",
        "inputs": 0,
        "x": 1000,
        "y": 55,
        "wires": [
            [
                "84bb8cc01133804f"
            ]
        ]
    },
    {
        "id": "7c2d7a9a405ef259",
        "type": "mqtt out",
        "z": "edc94db569fd3e9b",
        "name": "",
        "topic": "Openhab_VAR/Bathroom/Lamp2_on",
        "qos": "0",
        "retain": "true",
        "broker": "5101c6e3.603738",
        "x": 1600,
        "y": 175,
        "wires": []
    },
    {
        "id": "2440e52db72b243b",
        "type": "mqtt in",
        "z": "edc94db569fd3e9b",
        "name": "",
        "topic": "Openhab_VAR/Bathroom/AutoHumidity",
        "qos": "2",
        "datatype": "auto",
        "broker": "5101c6e3.603738",
        "inputs": 0,
        "x": 1000,
        "y": 15,
        "wires": [
            [
                "84bb8cc01133804f"
            ]
        ]
    },
    {
        "id": "07a0c486c999fd5c",
        "type": "inject",
        "z": "edc94db569fd3e9b",
        "name": "switch",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 140,
        "y": 635,
        "wires": [
            [
                "9658cc6ad1a31007"
            ]
        ]
    },
    {
        "id": "f363ebe22c64fc9b",
        "type": "function",
        "z": "edc94db569fd3e9b",
        "name": "ON-OFF",
        "func": "var payload = msg.payload;\n\nif(payload !== \"ON\")\n{\n    node.status({fill:\"red\",shape:\"dot\",text: \"OFF\" });\n    return {\"payload\": \"OFF\"};\n}\nelse {\n    node.status({fill:\"green\",shape:\"dot\",text: \"ON\" });\n    return {\"payload\": \"ON\"};\n    }\n\n\n\n\n\n\n\n\n\n\n",
        "outputs": 1,
        "noerr": 0,
        "x": 1110,
        "y": 1105,
        "wires": [
            [
                "acf9d3af96fa84e5"
            ]
        ]
    },
    {
        "id": "a3b770342459505b",
        "type": "rbe",
        "z": "edc94db569fd3e9b",
        "name": "",
        "func": "rbe",
        "gap": "",
        "start": "",
        "inout": "out",
        "property": "payload",
        "x": 1305,
        "y": 1025,
        "wires": [
            [
                "b49f9e6f99128fdf",
                "2adb97337502aa07"
            ]
        ],
        "l": false
    },
    {
        "id": "2adb97337502aa07",
        "type": "debug",
        "z": "edc94db569fd3e9b",
        "name": "Lamp-1",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "x": 1390,
        "y": 985,
        "wires": []
    },
    {
        "id": "acf9d3af96fa84e5",
        "type": "rbe",
        "z": "edc94db569fd3e9b",
        "name": "",
        "func": "rbe",
        "gap": "",
        "start": "",
        "inout": "out",
        "property": "payload",
        "x": 1325,
        "y": 1105,
        "wires": [
            [
                "45cbd49606eb71d9",
                "d6da35b4ab39d7fb"
            ]
        ],
        "l": false
    },
    {
        "id": "45cbd49606eb71d9",
        "type": "debug",
        "z": "edc94db569fd3e9b",
        "name": "Lamp-2",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "x": 1390,
        "y": 1145,
        "wires": []
    },
    {
        "id": "233068867a36a1db",
        "type": "mqtt out",
        "z": "edc94db569fd3e9b",
        "name": "",
        "topic": "Openhab_VAR/Bathroom/manual_lamp_on",
        "qos": "0",
        "retain": "true",
        "broker": "5101c6e3.603738",
        "x": 1360,
        "y": 865,
        "wires": []
    },
    {
        "id": "83bbc5f889b78b86",
        "type": "switch",
        "z": "edc94db569fd3e9b",
        "name": "Auto_Lamp",
        "property": "manual_lamp_on",
        "propertyType": "flow",
        "rules": [
            {
                "t": "neq",
                "v": "ON",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 910,
        "y": 1185,
        "wires": [
            [
                "60ee733e55491823",
                "f363ebe22c64fc9b"
            ]
        ]
    },
    {
        "id": "592d0c61bc83823a",
        "type": "mqtt out",
        "z": "edc94db569fd3e9b",
        "name": "",
        "topic": "Xiaomi/Bathroom_MS/voltage",
        "qos": "0",
        "retain": "true",
        "respTopic": "",
        "contentType": "",
        "userProps": "",
        "correl": "",
        "expiry": "",
        "broker": "5101c6e3.603738",
        "x": 610,
        "y": 240,
        "wires": []
    },
    {
        "id": "c4a93af246fc47fb",
        "type": "mqtt out",
        "z": "edc94db569fd3e9b",
        "name": "",
        "topic": "Xiaomi/Bathroom_MS/linkquality",
        "qos": "0",
        "retain": "true",
        "respTopic": "",
        "contentType": "",
        "userProps": "",
        "correl": "",
        "expiry": "",
        "broker": "5101c6e3.603738",
        "x": 595,
        "y": 195,
        "wires": []
    },
    {
        "id": "3bf5604ff88398f8",
        "type": "mqtt out",
        "z": "edc94db569fd3e9b",
        "name": "",
        "topic": "Xiaomi/Bathroom_MS/battery",
        "qos": "0",
        "retain": "true",
        "respTopic": "",
        "contentType": "",
        "userProps": "",
        "correl": "",
        "expiry": "",
        "broker": "5101c6e3.603738",
        "x": 600,
        "y": 285,
        "wires": []
    },
    {
        "id": "3ce9e00d65e4148b",
        "type": "inject",
        "z": "edc94db569fd3e9b",
        "name": "switch",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 1030,
        "y": 605,
        "wires": [
            [
                "2b0c6daede43d70a"
            ]
        ]
    },
    {
        "id": "aa93bf7c1951655c",
        "type": "trigger",
        "z": "edc94db569fd3e9b",
        "name": "",
        "op1": "",
        "op2": "OFF",
        "op1type": "nul",
        "op2type": "str",
        "duration": "60",
        "extend": false,
        "units": "s",
        "reset": "ON",
        "bytopic": "all",
        "outputs": 1,
        "x": 640,
        "y": 1285,
        "wires": [
            [
                "68c5836c85ba9b81"
            ]
        ]
    },
    {
        "id": "730718c2a26d4fa5",
        "type": "switch",
        "z": "edc94db569fd3e9b",
        "name": "AutoHumidity",
        "property": "AutoHumidity",
        "propertyType": "flow",
        "rules": [
            {
                "t": "eq",
                "v": "ON",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 750,
        "y": 745,
        "wires": [
            [
                "7abb681e4f0fe987"
            ]
        ]
    },
    {
        "id": "527b70b6b3848535",
        "type": "trigger",
        "z": "edc94db569fd3e9b",
        "name": "",
        "op1": "",
        "op2": "OFF",
        "op1type": "nul",
        "op2type": "str",
        "duration": "10",
        "extend": false,
        "units": "min",
        "reset": "",
        "bytopic": "all",
        "outputs": 1,
        "x": 1500,
        "y": 745,
        "wires": [
            [
                "5cc1fd4f762cad8b",
                "f2f455dff620ff40"
            ]
        ]
    },
    {
        "id": "f2f455dff620ff40",
        "type": "debug",
        "z": "edc94db569fd3e9b",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "x": 1780,
        "y": 765,
        "wires": []
    },
    {
        "id": "7abb681e4f0fe987",
        "type": "switch",
        "z": "edc94db569fd3e9b",
        "name": "OFF",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "OFF",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 920,
        "y": 745,
        "wires": [
            [
                "5081c35993627333"
            ]
        ]
    },
    {
        "id": "2eafb7049b81e9fd",
        "type": "change",
        "z": "edc94db569fd3e9b",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "ON",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1280,
        "y": 745,
        "wires": [
            [
                "527b70b6b3848535",
                "5cc1fd4f762cad8b"
            ]
        ]
    },
    {
        "id": "078e92302d17cf39",
        "type": "change",
        "z": "edc94db569fd3e9b",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "BathroomHumidity",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2505,
        "y": 165,
        "wires": [
            []
        ]
    },
    {
        "id": "240f63695284c082",
        "type": "mqtt in",
        "z": "edc94db569fd3e9b",
        "name": "",
        "topic": "Openhab_VAR/Bathroom/Set_Humidity",
        "qos": "2",
        "datatype": "auto",
        "broker": "5101c6e3.603738",
        "inputs": 0,
        "x": 1065,
        "y": 455,
        "wires": [
            [
                "f15f98e1136e6052"
            ]
        ]
    },
    {
        "id": "f15f98e1136e6052",
        "type": "change",
        "z": "edc94db569fd3e9b",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "BathroomSet_Humidity",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1375,
        "y": 455,
        "wires": [
            []
        ]
    },
    {
        "id": "5081c35993627333",
        "type": "switch",
        "z": "edc94db569fd3e9b",
        "name": "AutoHumidity",
        "property": "BathroomHumidity",
        "propertyType": "flow",
        "rules": [
            {
                "t": "gte",
                "v": "BathroomSet_Humidity",
                "vt": "flow"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 1080,
        "y": 745,
        "wires": [
            [
                "2eafb7049b81e9fd"
            ]
        ]
    },
    {
        "id": "12ee40d70dfdac60",
        "type": "comment",
        "z": "edc94db569fd3e9b",
        "name": "Свет на входе",
        "info": "",
        "x": 1570,
        "y": 1065,
        "wires": []
    },
    {
        "id": "415d8d18f5aa52a0",
        "type": "delay",
        "z": "edc94db569fd3e9b",
        "name": "",
        "pauseType": "delay",
        "timeout": "100",
        "timeoutUnits": "milliseconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 875,
        "y": 1310,
        "wires": [
            [
                "83bbc5f889b78b86"
            ]
        ]
    },
    {
        "id": "5c05ebfe7212f068",
        "type": "mqtt in",
        "z": "edc94db569fd3e9b",
        "name": "",
        "topic": "zigbee2mqtt/BathRoom_HT1/temperature",
        "qos": "2",
        "datatype": "auto",
        "broker": "5101c6e3.603738",
        "nl": false,
        "rap": true,
        "rh": 0,
        "inputs": 0,
        "x": 2080,
        "y": 75,
        "wires": [
            [
                "bde467103bae7ea0"
            ]
        ]
    },
    {
        "id": "7360f6735aa73631",
        "type": "mqtt in",
        "z": "edc94db569fd3e9b",
        "name": "",
        "topic": "zigbee2mqtt/BathRoom_HT1/humidity",
        "qos": "2",
        "datatype": "auto",
        "broker": "5101c6e3.603738",
        "nl": false,
        "rap": true,
        "rh": 0,
        "inputs": 0,
        "x": 2055,
        "y": 135,
        "wires": [
            [
                "97622464469e1297",
                "078e92302d17cf39"
            ]
        ]
    },
    {
        "id": "b45cf17c1ec85d02",
        "type": "mqtt in",
        "z": "edc94db569fd3e9b",
        "name": "",
        "topic": "zigbee2mqtt/BathRoom_HT1/linkquality",
        "qos": "2",
        "datatype": "auto",
        "broker": "5101c6e3.603738",
        "nl": false,
        "rap": true,
        "rh": 0,
        "inputs": 0,
        "x": 2070,
        "y": 180,
        "wires": [
            [
                "4aa7bd442c08497b"
            ]
        ]
    },
    {
        "id": "5587e50207ef2cf1",
        "type": "mqtt in",
        "z": "edc94db569fd3e9b",
        "name": "",
        "topic": "zigbee2mqtt/BathRoom_HT1/voltage",
        "qos": "2",
        "datatype": "auto",
        "broker": "5101c6e3.603738",
        "nl": false,
        "rap": true,
        "rh": 0,
        "inputs": 0,
        "x": 2060,
        "y": 225,
        "wires": [
            [
                "14822aa838b3c46f"
            ]
        ]
    },
    {
        "id": "8128e9cf9d00e7de",
        "type": "mqtt in",
        "z": "edc94db569fd3e9b",
        "name": "",
        "topic": "zigbee2mqtt/BathRoom_HT1/battery",
        "qos": "2",
        "datatype": "auto",
        "broker": "5101c6e3.603738",
        "nl": false,
        "rap": true,
        "rh": 0,
        "inputs": 0,
        "x": 2060,
        "y": 270,
        "wires": [
            [
                "2a61ebb822a0fede"
            ]
        ]
    },
    {
        "id": "f19854efc366cdec",
        "type": "function",
        "z": "edc94db569fd3e9b",
        "name": "Motion_sensor",
        "func": "\nif(msg.payload == \"true\")\n{\n    node.status({fill:\"red\",shape:\"dot\",text: \"OFF\" });\n    return {\"payload\": \"ON\"};\n}\nif(msg.payload == \"false\") {\n    node.status({fill:\"green\",shape:\"dot\",text: \"ON\" });\n    return {\"payload\": \"OFF\"};\n    }\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 350,
        "y": 1205,
        "wires": [
            [
                "271785597214c0c4"
            ]
        ],
        "outputLabels": [
            "voltage"
        ]
    },
    {
        "id": "7138208d447384ea",
        "type": "mqtt in",
        "z": "edc94db569fd3e9b",
        "name": "",
        "topic": "zigbee2mqtt/BathRoom_MS1/occupancy",
        "qos": "2",
        "datatype": "auto",
        "broker": "5101c6e3.603738",
        "nl": false,
        "rap": true,
        "rh": 0,
        "inputs": 0,
        "x": 190,
        "y": 1100,
        "wires": [
            [
                "f19854efc366cdec"
            ]
        ]
    },
    {
        "id": "3858b352a00b5d0b",
        "type": "mqtt in",
        "z": "edc94db569fd3e9b",
        "name": "",
        "topic": "zigbee2mqtt/BathRoom_MS1/battery",
        "qos": "2",
        "datatype": "auto",
        "broker": "5101c6e3.603738",
        "nl": false,
        "rap": true,
        "rh": 0,
        "inputs": 0,
        "x": 215,
        "y": 300,
        "wires": [
            [
                "3bf5604ff88398f8"
            ]
        ]
    },
    {
        "id": "6ee6805f7c01b9d3",
        "type": "mqtt in",
        "z": "edc94db569fd3e9b",
        "name": "",
        "topic": "zigbee2mqtt/BathRoom_MS1/voltage",
        "qos": "2",
        "datatype": "auto",
        "broker": "5101c6e3.603738",
        "nl": false,
        "rap": true,
        "rh": 0,
        "inputs": 0,
        "x": 240,
        "y": 240,
        "wires": [
            [
                "592d0c61bc83823a"
            ]
        ]
    },
    {
        "id": "0937554f9eacc6cf",
        "type": "mqtt in",
        "z": "edc94db569fd3e9b",
        "name": "",
        "topic": "zigbee2mqtt/BathRoom_MS1/linkquality",
        "qos": "2",
        "datatype": "auto",
        "broker": "5101c6e3.603738",
        "nl": false,
        "rap": true,
        "rh": 0,
        "inputs": 0,
        "x": 240,
        "y": 195,
        "wires": [
            [
                "c4a93af246fc47fb"
            ]
        ]
    },
    {
        "id": "ed8fa216f83a13dd",
        "type": "mqtt in",
        "z": "edc94db569fd3e9b",
        "name": "",
        "topic": "zigbee2mqtt/BathRoom_Sw1/click",
        "qos": "2",
        "datatype": "auto",
        "broker": "5101c6e3.603738",
        "nl": false,
        "rap": true,
        "rh": 0,
        "inputs": 0,
        "x": 185,
        "y": 965,
        "wires": [
            [
                "22eedd472654722c"
            ]
        ]
    },
    {
        "id": "22eedd472654722c",
        "type": "switch",
        "z": "edc94db569fd3e9b",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "single",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 380,
        "y": 875,
        "wires": [
            [
                "eba9aa6beae03141"
            ]
        ]
    },
    {
        "id": "3da655425f422832",
        "type": "mqtt in",
        "z": "edc94db569fd3e9b",
        "name": "",
        "topic": "zigbee2mqtt/BathRoom_Sw1/voltage",
        "qos": "2",
        "datatype": "auto",
        "broker": "5101c6e3.603738",
        "nl": false,
        "rap": true,
        "rh": 0,
        "inputs": 0,
        "x": 215,
        "y": 30,
        "wires": [
            [
                "7b7eae226ce61bbf"
            ]
        ]
    },
    {
        "id": "9738702174abb3a1",
        "type": "mqtt in",
        "z": "edc94db569fd3e9b",
        "name": "",
        "topic": "zigbee2mqtt/BathRoom_Sw1/battery",
        "qos": "2",
        "datatype": "auto",
        "broker": "5101c6e3.603738",
        "nl": false,
        "rap": true,
        "rh": 0,
        "inputs": 0,
        "x": 215,
        "y": 75,
        "wires": [
            [
                "8a9e94725eb2cdf3"
            ]
        ]
    },
    {
        "id": "041841d3b1266c74",
        "type": "mqtt in",
        "z": "edc94db569fd3e9b",
        "name": "",
        "topic": "zigbee2mqtt/BathRoom_Sw1/linkquality",
        "qos": "2",
        "datatype": "auto",
        "broker": "5101c6e3.603738",
        "nl": false,
        "rap": true,
        "rh": 0,
        "inputs": 0,
        "x": 225,
        "y": 135,
        "wires": [
            [
                "3363ae12cf9b0318"
            ]
        ]
    },
    {
        "id": "667cd32f552f76f9",
        "type": "mqtt out",
        "z": "3d4287fb0903fb9a",
        "name": "",
        "topic": "Openhab_VAR/BedRoom/Temperature",
        "qos": "0",
        "retain": "true",
        "broker": "5101c6e3.603738",
        "x": 645,
        "y": 30,
        "wires": []
    },
    {
        "id": "03ddfaad3e361434",
        "type": "mqtt out",
        "z": "3d4287fb0903fb9a",
        "name": "",
        "topic": "Openhab_VAR/BedRoom/Humidity",
        "qos": "0",
        "retain": "true",
        "broker": "5101c6e3.603738",
        "x": 635,
        "y": 60,
        "wires": []
    },
    {
        "id": "095b7832ae2e2c22",
        "type": "mqtt out",
        "z": "3d4287fb0903fb9a",
        "name": "",
        "topic": "Xiaomi/BedRoom_HT1/voltage",
        "qos": "0",
        "retain": "true",
        "broker": "5101c6e3.603738",
        "x": 625,
        "y": 105,
        "wires": []
    },
    {
        "id": "d90c3d864b10f9bb",
        "type": "mqtt out",
        "z": "3d4287fb0903fb9a",
        "name": "",
        "topic": "Xiaomi/BedRoom_HT1/linkquality",
        "qos": "0",
        "retain": "true",
        "broker": "5101c6e3.603738",
        "x": 635,
        "y": 145,
        "wires": []
    },
    {
        "id": "1da7d1e5cc764e2e",
        "type": "mqtt out",
        "z": "3d4287fb0903fb9a",
        "name": "",
        "topic": "Xiaomi/BedRoom_HT1/battery",
        "qos": "0",
        "retain": "true",
        "broker": "5101c6e3.603738",
        "x": 625,
        "y": 185,
        "wires": []
    },
    {
        "id": "65d862c4a9742450",
        "type": "mqtt out",
        "z": "3d4287fb0903fb9a",
        "name": "",
        "topic": "Xiaomi/BedRoom_CS1/voltage",
        "qos": "0",
        "retain": "true",
        "broker": "5101c6e3.603738",
        "x": 1825,
        "y": 45,
        "wires": []
    },
    {
        "id": "762dbf979baaec1c",
        "type": "mqtt out",
        "z": "3d4287fb0903fb9a",
        "name": "",
        "topic": "Xiaomi/BedRoom_CS1/linkquality",
        "qos": "0",
        "retain": "true",
        "broker": "5101c6e3.603738",
        "x": 1835,
        "y": 85,
        "wires": []
    },
    {
        "id": "2cbaa011801724fd",
        "type": "mqtt out",
        "z": "3d4287fb0903fb9a",
        "name": "",
        "topic": "Xiaomi/BedRoom_CS1/battery",
        "qos": "0",
        "retain": "true",
        "broker": "5101c6e3.603738",
        "x": 1825,
        "y": 125,
        "wires": []
    },
    {
        "id": "77439230bfd8bf46",
        "type": "mqtt out",
        "z": "3d4287fb0903fb9a",
        "name": "",
        "topic": "Openhab_VAR/BedRoom/Window",
        "qos": "0",
        "retain": "true",
        "broker": "5101c6e3.603738",
        "x": 1837,
        "y": 165,
        "wires": []
    },
    {
        "id": "59f5617ca0898e0c",
        "type": "mqtt in",
        "z": "3d4287fb0903fb9a",
        "name": "",
        "topic": "Openhab_VAR/BedRoom/SetT_Global",
        "qos": "2",
        "datatype": "auto",
        "broker": "5101c6e3.603738",
        "inputs": 0,
        "x": 180,
        "y": 330,
        "wires": [
            [
                "9664119a537c1ccd"
            ]
        ]
    },
    {
        "id": "aeb27b100cc9fa85",
        "type": "mqtt in",
        "z": "3d4287fb0903fb9a",
        "name": "",
        "topic": "Openhab_VAR/BedRoom/Morning_SetT",
        "qos": "2",
        "datatype": "auto",
        "broker": "5101c6e3.603738",
        "inputs": 0,
        "x": 190,
        "y": 390,
        "wires": [
            [
                "0fad26e096aa0211"
            ]
        ]
    },
    {
        "id": "3990363d4ed8e507",
        "type": "mqtt in",
        "z": "3d4287fb0903fb9a",
        "name": "",
        "topic": "Openhab_VAR/BedRoom/Day_SetT",
        "qos": "2",
        "datatype": "auto",
        "broker": "5101c6e3.603738",
        "inputs": 0,
        "x": 990,
        "y": 337,
        "wires": [
            [
                "659ffc5e04f47772"
            ]
        ]
    },
    {
        "id": "4d4f5a21433a099d",
        "type": "mqtt in",
        "z": "3d4287fb0903fb9a",
        "name": "",
        "topic": "Openhab_VAR/BedRoom/Evening_SetT",
        "qos": "2",
        "datatype": "auto",
        "broker": "5101c6e3.603738",
        "inputs": 0,
        "x": 1008,
        "y": 457,
        "wires": [
            [
                "4f5d5442ce78f0a0"
            ]
        ]
    },
    {
        "id": "999d52fa11bd9f7e",
        "type": "mqtt in",
        "z": "3d4287fb0903fb9a",
        "name": "",
        "topic": "Openhab_VAR/BedRoom/Night_SetT",
        "qos": "2",
        "datatype": "auto",
        "broker": "5101c6e3.603738",
        "inputs": 0,
        "x": 998,
        "y": 397,
        "wires": [
            [
                "f49ae59a7a70dbf7"
            ]
        ]
    },
    {
        "id": "4f5d5442ce78f0a0",
        "type": "change",
        "z": "3d4287fb0903fb9a",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "Evening_SetT",
                "pt": "flow",
                "to": "$number(payload)",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1320,
        "y": 457,
        "wires": [
            []
        ]
    },
    {
        "id": "f49ae59a7a70dbf7",
        "type": "change",
        "z": "3d4287fb0903fb9a",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "Night_SetT",
                "pt": "flow",
                "to": "$number(payload)",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1313,
        "y": 397,
        "wires": [
            []
        ]
    },
    {
        "id": "659ffc5e04f47772",
        "type": "change",
        "z": "3d4287fb0903fb9a",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "Day_SetT",
                "pt": "flow",
                "to": "$number(payload)",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1318,
        "y": 337,
        "wires": [
            []
        ]
    },
    {
        "id": "0fad26e096aa0211",
        "type": "change",
        "z": "3d4287fb0903fb9a",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "Morning_SetT",
                "pt": "flow",
                "to": "$number(payload)",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 508,
        "y": 390,
        "wires": [
            []
        ]
    },
    {
        "id": "9664119a537c1ccd",
        "type": "change",
        "z": "3d4287fb0903fb9a",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "SetT_Global",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 510,
        "y": 330,
        "wires": [
            []
        ]
    },
    {
        "id": "83914e9204f6a185",
        "type": "function",
        "z": "3d4287fb0903fb9a",
        "name": "- T_Kof",
        "func": "var kof=global.get('T_Kof')\n\nvar Morning = global.get('Morning')\nvar Day = global.get('Day')\nvar Evening = global.get('Evening')\nvar Night = global.get('Night')\n\nvar SetT_Global = flow.get('SetT_Global')\n\nvar Morning_SetT = flow.get('Morning_SetT')\nvar Day_SetT = flow.get('Day_SetT')\nvar Night_SetT = flow.get('Night_SetT')\nvar Evening_SetT = flow.get('Evening_SetT')\n\n\n\nif (SetT_Global== 'ON') {\n    msg.payload = msg.payload  - kof;\n    }\n    \nelse {\n    if(Morning == 'true')\n    {\n      msg.payload =  Morning_SetT;  \n    }\n    else if (Day == 'true'){\n      msg.payload =  Day_SetT;    \n    }\n    else if (Evening == 'true'){\n      msg.payload =  Evening_SetT;    \n    }   \n    else if (Night == 'true'){\n      msg.payload =  Night_SetT;    \n    }    \n    else\n    {\n     msg.payload = msg.payload   \n    }\n}\n\nnode.status({fill:\"green\",shape:\"ring\",\"text\": msg.payload});\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 720,
        "y": 600,
        "wires": [
            [
                "75b216e67fb27b1a"
            ]
        ]
    },
    {
        "id": "c2c7806186d955d4",
        "type": "change",
        "z": "3d4287fb0903fb9a",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "Set_Temp",
                "pt": "flow",
                "to": "$number(payload)",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 510,
        "y": 555,
        "wires": [
            [
                "83914e9204f6a185"
            ]
        ]
    },
    {
        "id": "1d4772dacca5b75d",
        "type": "change",
        "z": "3d4287fb0903fb9a",
        "name": "BedRoom_set_Temp",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "Set_Temp",
                "tot": "flow"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 500,
        "y": 645,
        "wires": [
            [
                "83914e9204f6a185"
            ]
        ]
    },
    {
        "id": "75b216e67fb27b1a",
        "type": "change",
        "z": "3d4287fb0903fb9a",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "Set_Temperature",
                "pt": "flow",
                "to": "$number(payload)",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 920,
        "y": 600,
        "wires": [
            [
                "adea55bb396a460d"
            ]
        ]
    },
    {
        "id": "38b4ba095534ebf9",
        "type": "mqtt in",
        "z": "3d4287fb0903fb9a",
        "name": "",
        "topic": "Openhab_VAR/BedRoom/Set_Temperature",
        "qos": "0",
        "datatype": "auto",
        "broker": "5101c6e3.603738",
        "inputs": 0,
        "x": 200,
        "y": 555,
        "wires": [
            [
                "c2c7806186d955d4"
            ]
        ]
    },
    {
        "id": "582e052b5e942aa0",
        "type": "mqtt in",
        "z": "3d4287fb0903fb9a",
        "name": "",
        "topic": "Openhab_VAR/Home/Rejim",
        "qos": "0",
        "datatype": "auto",
        "broker": "5101c6e3.603738",
        "inputs": 0,
        "x": 170,
        "y": 650,
        "wires": [
            [
                "1d4772dacca5b75d"
            ]
        ]
    },
    {
        "id": "8d58abaf029d2dce",
        "type": "inject",
        "z": "3d4287fb0903fb9a",
        "name": "",
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "1",
        "payloadType": "num",
        "x": 245,
        "y": 600,
        "wires": [
            [
                "1d4772dacca5b75d"
            ]
        ]
    },
    {
        "id": "ec0a9180ec1aabfc",
        "type": "mqtt in",
        "z": "3d4287fb0903fb9a",
        "name": "",
        "topic": "Openhab_VAR/Home/T_Kof",
        "qos": "2",
        "datatype": "auto",
        "broker": "5101c6e3.603738",
        "inputs": 0,
        "x": 180,
        "y": 705,
        "wires": [
            [
                "1d4772dacca5b75d"
            ]
        ]
    },
    {
        "id": "adea55bb396a460d",
        "type": "switch",
        "z": "3d4287fb0903fb9a",
        "name": "FILTR",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "neq",
                "v": "Auto_Temperature",
                "vt": "flow"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 1100,
        "y": 600,
        "wires": [
            [
                "9951e9f76f39f733",
                "d9f602f22346d81a"
            ]
        ]
    },
    {
        "id": "9951e9f76f39f733",
        "type": "mqtt out",
        "z": "3d4287fb0903fb9a",
        "name": "",
        "topic": "Openhab_VAR/BedRoom/Auto_Temperature",
        "qos": "2",
        "retain": "true",
        "broker": "5101c6e3.603738",
        "x": 1355,
        "y": 630,
        "wires": []
    },
    {
        "id": "d9f602f22346d81a",
        "type": "debug",
        "z": "3d4287fb0903fb9a",
        "name": "BedRoom_Auto_Temperature",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 1316,
        "y": 570,
        "wires": []
    },
    {
        "id": "12a01cc915d717d2",
        "type": "mqtt in",
        "z": "3d4287fb0903fb9a",
        "name": "",
        "topic": "Openhab_VAR/BedRoom/Auto_Temperature",
        "qos": "2",
        "datatype": "auto",
        "broker": "5101c6e3.603738",
        "inputs": 0,
        "x": 200,
        "y": 460,
        "wires": [
            [
                "5b2792b0c031fbe6"
            ]
        ]
    },
    {
        "id": "5b2792b0c031fbe6",
        "type": "change",
        "z": "3d4287fb0903fb9a",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "Auto_Temperature",
                "pt": "flow",
                "to": "$number(payload)",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 570,
        "y": 460,
        "wires": [
            []
        ]
    },
    {
        "id": "ac6dd1b0018f536c",
        "type": "change",
        "z": "3d4287fb0903fb9a",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "Auto_Heater",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 465,
        "y": 966,
        "wires": [
            [
                "7892dfc88525d153",
                "a40803f516639327"
            ]
        ]
    },
    {
        "id": "7892dfc88525d153",
        "type": "switch",
        "z": "3d4287fb0903fb9a",
        "name": "ENABLE_AUTO",
        "property": "Auto_Heater",
        "propertyType": "flow",
        "rules": [
            {
                "t": "eq",
                "v": "OFF",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "ON",
                "vt": "str"
            }
        ],
        "checkall": "false",
        "repair": false,
        "outputs": 2,
        "x": 727,
        "y": 1046,
        "wires": [
            [],
            [
                "a406737579a61188"
            ]
        ]
    },
    {
        "id": "a40803f516639327",
        "type": "switch",
        "z": "3d4287fb0903fb9a",
        "name": "DISABLE_AUTO",
        "property": "Auto_Heater",
        "propertyType": "flow",
        "rules": [
            {
                "t": "eq",
                "v": "OFF",
                "vt": "str"
            }
        ],
        "checkall": "false",
        "repair": false,
        "outputs": 1,
        "x": 730,
        "y": 966,
        "wires": [
            [
                "19a8a2db167e4b56"
            ]
        ]
    },
    {
        "id": "5c9f226d4c5b84ac",
        "type": "mqtt in",
        "z": "3d4287fb0903fb9a",
        "name": "",
        "topic": "Openhab_VAR/BedRoom/Auto_Heater",
        "qos": "0",
        "datatype": "auto",
        "broker": "5101c6e3.603738",
        "inputs": 0,
        "x": 186,
        "y": 966,
        "wires": [
            [
                "ac6dd1b0018f536c"
            ]
        ]
    },
    {
        "id": "2faacc0fd14e81d6",
        "type": "change",
        "z": "3d4287fb0903fb9a",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "Temperature",
                "pt": "flow",
                "to": "$number(payload)",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 465,
        "y": 1106,
        "wires": [
            [
                "7892dfc88525d153"
            ]
        ]
    },
    {
        "id": "a406737579a61188",
        "type": "switch",
        "z": "3d4287fb0903fb9a",
        "name": "Window_CLOSED",
        "property": "Window",
        "propertyType": "flow",
        "rules": [
            {
                "t": "eq",
                "v": "CLOSED",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 940,
        "y": 1053,
        "wires": [
            [
                "ed9519801961ae29"
            ]
        ]
    },
    {
        "id": "95dcf41950317f44",
        "type": "change",
        "z": "3d4287fb0903fb9a",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "Heater1",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 465,
        "y": 1186,
        "wires": [
            [
                "7892dfc88525d153",
                "bf89ba2ce5a83e99"
            ]
        ]
    },
    {
        "id": "5e189180c1e8cc49",
        "type": "mqtt in",
        "z": "3d4287fb0903fb9a",
        "name": "",
        "topic": "Openhab_VAR/BedRoom/Auto_Temperature",
        "qos": "2",
        "datatype": "auto",
        "broker": "5101c6e3.603738",
        "inputs": 0,
        "x": 203,
        "y": 1046,
        "wires": [
            [
                "7892dfc88525d153"
            ]
        ]
    },
    {
        "id": "133e99677f56098a",
        "type": "change",
        "z": "3d4287fb0903fb9a",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "Window",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 442,
        "y": 886,
        "wires": [
            [
                "7a305677fedd4630",
                "7892dfc88525d153"
            ]
        ]
    },
    {
        "id": "19a8a2db167e4b56",
        "type": "change",
        "z": "3d4287fb0903fb9a",
        "name": "OFF",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "OFF",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1305,
        "y": 971,
        "wires": [
            [
                "fe5287aa2376d808"
            ]
        ]
    },
    {
        "id": "4fddca9a1fb287a6",
        "type": "mqtt in",
        "z": "3d4287fb0903fb9a",
        "name": "",
        "topic": "Openhab_VAR/BedRoom/Temperature",
        "qos": "0",
        "datatype": "auto",
        "broker": "5101c6e3.603738",
        "inputs": 0,
        "x": 183,
        "y": 1106,
        "wires": [
            [
                "2faacc0fd14e81d6"
            ]
        ]
    },
    {
        "id": "ed9519801961ae29",
        "type": "switch",
        "z": "3d4287fb0903fb9a",
        "name": "REGULATOR",
        "property": "Temperature",
        "propertyType": "flow",
        "rules": [
            {
                "t": "gte",
                "v": "Set_Temperature",
                "vt": "flow"
            },
            {
                "t": "lt",
                "v": "Set_Temperature",
                "vt": "flow"
            }
        ],
        "checkall": "false",
        "repair": false,
        "outputs": 2,
        "x": 1140,
        "y": 1053,
        "wires": [
            [
                "19a8a2db167e4b56"
            ],
            [
                "4ab72df4c941e4b6"
            ]
        ]
    },
    {
        "id": "bf89ba2ce5a83e99",
        "type": "mqtt out",
        "z": "3d4287fb0903fb9a",
        "name": "",
        "topic": "Openhab_VAR/BedRoom/Heater1_on",
        "qos": "2",
        "retain": "true",
        "broker": "5101c6e3.603738",
        "x": 760,
        "y": 1186,
        "wires": []
    },
    {
        "id": "829408ca23d17d64",
        "type": "mqtt in",
        "z": "3d4287fb0903fb9a",
        "name": "",
        "topic": "zigbee2mqtt/mainrelay/state_l6",
        "qos": "0",
        "datatype": "auto",
        "broker": "5101c6e3.603738",
        "nl": false,
        "rap": false,
        "inputs": 0,
        "x": 163,
        "y": 1186,
        "wires": [
            [
                "95dcf41950317f44"
            ]
        ]
    },
    {
        "id": "88160fe0b6637256",
        "type": "mqtt in",
        "z": "3d4287fb0903fb9a",
        "name": "",
        "topic": "Openhab_VAR/BedRoom/Window",
        "qos": "2",
        "datatype": "auto",
        "broker": "5101c6e3.603738",
        "inputs": 0,
        "x": 173,
        "y": 886,
        "wires": [
            [
                "133e99677f56098a"
            ]
        ]
    },
    {
        "id": "7a305677fedd4630",
        "type": "switch",
        "z": "3d4287fb0903fb9a",
        "name": "Window_OPEN",
        "property": "Window",
        "propertyType": "flow",
        "rules": [
            {
                "t": "eq",
                "v": "OPEN",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 680,
        "y": 885,
        "wires": [
            [
                "19a8a2db167e4b56"
            ]
        ]
    },
    {
        "id": "fe5287aa2376d808",
        "type": "switch",
        "z": "3d4287fb0903fb9a",
        "name": "Heater1",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "neq",
                "v": "Heater1",
                "vt": "flow"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 1495,
        "y": 1061,
        "wires": [
            [
                "042fcfaa4b8f5a59",
                "59b2ab3bfbfdd11e"
            ]
        ]
    },
    {
        "id": "4ab72df4c941e4b6",
        "type": "change",
        "z": "3d4287fb0903fb9a",
        "name": "ON",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "ON",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1305,
        "y": 1060,
        "wires": [
            [
                "fe5287aa2376d808"
            ]
        ]
    },
    {
        "id": "9260e12f6c4c1b4a",
        "type": "mqtt in",
        "z": "3d4287fb0903fb9a",
        "name": "",
        "topic": "Openhab_VAR/BedRoom/Heater1_on_set",
        "qos": "0",
        "datatype": "auto",
        "broker": "5101c6e3.603738",
        "inputs": 0,
        "x": 1191,
        "y": 1184,
        "wires": [
            [
                "fe5287aa2376d808"
            ]
        ]
    },
    {
        "id": "59b2ab3bfbfdd11e",
        "type": "mqtt out",
        "z": "3d4287fb0903fb9a",
        "name": "",
        "topic": "zigbee2mqtt/mainrelay/set/state_l6",
        "qos": "0",
        "retain": "false",
        "respTopic": "",
        "contentType": "",
        "userProps": "",
        "correl": "",
        "expiry": "",
        "broker": "5101c6e3.603738",
        "x": 1865,
        "y": 1110,
        "wires": []
    },
    {
        "id": "042fcfaa4b8f5a59",
        "type": "debug",
        "z": "3d4287fb0903fb9a",
        "name": "BedRoom_Heater1_set",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 1865,
        "y": 1020,
        "wires": []
    },
    {
        "id": "a2d79c8ab69a5fa8",
        "type": "change",
        "z": "3d4287fb0903fb9a",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "Heater2",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 465,
        "y": 1576,
        "wires": [
            [
                "15f943fc15e8ae8b",
                "c08cfd29c08cd24a"
            ]
        ]
    },
    {
        "id": "15f943fc15e8ae8b",
        "type": "switch",
        "z": "3d4287fb0903fb9a",
        "name": "ENABLE_AUTO",
        "property": "Auto_Heater",
        "propertyType": "flow",
        "rules": [
            {
                "t": "eq",
                "v": "OFF",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "ON",
                "vt": "str"
            }
        ],
        "checkall": "false",
        "repair": false,
        "outputs": 2,
        "x": 727,
        "y": 1436,
        "wires": [
            [],
            [
                "31829612cf677978"
            ]
        ]
    },
    {
        "id": "c08cfd29c08cd24a",
        "type": "mqtt out",
        "z": "3d4287fb0903fb9a",
        "name": "",
        "topic": "Openhab_VAR/BedRoom/Heater2_on",
        "qos": "2",
        "retain": "true",
        "broker": "5101c6e3.603738",
        "x": 760,
        "y": 1576,
        "wires": []
    },
    {
        "id": "eaccd1c3e41eb0a4",
        "type": "mqtt in",
        "z": "3d4287fb0903fb9a",
        "name": "",
        "topic": "zigbee2mqtt/mainrelay/state_l7",
        "qos": "0",
        "datatype": "auto",
        "broker": "5101c6e3.603738",
        "nl": false,
        "rap": false,
        "inputs": 0,
        "x": 163,
        "y": 1576,
        "wires": [
            [
                "a2d79c8ab69a5fa8"
            ]
        ]
    },
    {
        "id": "b7a2ca43a4abd284",
        "type": "change",
        "z": "3d4287fb0903fb9a",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "Auto_Heater",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 465,
        "y": 1356,
        "wires": [
            [
                "15f943fc15e8ae8b",
                "6ecf9bfbafcd57ba"
            ]
        ]
    },
    {
        "id": "31829612cf677978",
        "type": "switch",
        "z": "3d4287fb0903fb9a",
        "name": "Window_CLOSED",
        "property": "Window",
        "propertyType": "flow",
        "rules": [
            {
                "t": "eq",
                "v": "CLOSED",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 940,
        "y": 1443,
        "wires": [
            [
                "0caa2032e396b192"
            ]
        ]
    },
    {
        "id": "a6198ea775dbee07",
        "type": "change",
        "z": "3d4287fb0903fb9a",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "Temperature",
                "pt": "flow",
                "to": "$number(payload)",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 465,
        "y": 1496,
        "wires": [
            [
                "15f943fc15e8ae8b"
            ]
        ]
    },
    {
        "id": "a1ceb3276e6bd070",
        "type": "mqtt in",
        "z": "3d4287fb0903fb9a",
        "name": "",
        "topic": "Openhab_VAR/BedRoom/Auto_Temperature",
        "qos": "2",
        "datatype": "auto",
        "broker": "5101c6e3.603738",
        "inputs": 0,
        "x": 203,
        "y": 1436,
        "wires": [
            [
                "15f943fc15e8ae8b"
            ]
        ]
    },
    {
        "id": "99ddf1f5b349aaaa",
        "type": "change",
        "z": "3d4287fb0903fb9a",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "Window",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 442,
        "y": 1276,
        "wires": [
            [
                "78bbb18d67528a65",
                "15f943fc15e8ae8b"
            ]
        ]
    },
    {
        "id": "6ecf9bfbafcd57ba",
        "type": "switch",
        "z": "3d4287fb0903fb9a",
        "name": "DISABLE_AUTO",
        "property": "Auto_Heater",
        "propertyType": "flow",
        "rules": [
            {
                "t": "eq",
                "v": "OFF",
                "vt": "str"
            }
        ],
        "checkall": "false",
        "repair": false,
        "outputs": 1,
        "x": 730,
        "y": 1356,
        "wires": [
            [
                "8605e36f1ececd55"
            ]
        ]
    },
    {
        "id": "5b5de4b54530224c",
        "type": "mqtt in",
        "z": "3d4287fb0903fb9a",
        "name": "",
        "topic": "Openhab_VAR/BedRoom/Auto_Heater",
        "qos": "0",
        "datatype": "auto",
        "broker": "5101c6e3.603738",
        "inputs": 0,
        "x": 186,
        "y": 1356,
        "wires": [
            [
                "b7a2ca43a4abd284"
            ]
        ]
    },
    {
        "id": "0caa2032e396b192",
        "type": "switch",
        "z": "3d4287fb0903fb9a",
        "name": "REGULATOR",
        "property": "Temperature",
        "propertyType": "flow",
        "rules": [
            {
                "t": "gte",
                "v": "Set_Temperature",
                "vt": "flow"
            },
            {
                "t": "lt",
                "v": "Set_Temperature",
                "vt": "flow"
            }
        ],
        "checkall": "false",
        "repair": false,
        "outputs": 2,
        "x": 1140,
        "y": 1443,
        "wires": [
            [
                "8605e36f1ececd55"
            ],
            [
                "97b4c9b36b894296"
            ]
        ]
    },
    {
        "id": "506274d6ca5edbaa",
        "type": "mqtt in",
        "z": "3d4287fb0903fb9a",
        "name": "",
        "topic": "Openhab_VAR/BedRoom/Temperature",
        "qos": "0",
        "datatype": "auto",
        "broker": "5101c6e3.603738",
        "inputs": 0,
        "x": 183,
        "y": 1496,
        "wires": [
            [
                "a6198ea775dbee07"
            ]
        ]
    },
    {
        "id": "78bbb18d67528a65",
        "type": "switch",
        "z": "3d4287fb0903fb9a",
        "name": "Window_OPEN",
        "property": "Window",
        "propertyType": "flow",
        "rules": [
            {
                "t": "eq",
                "v": "OPEN",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 680,
        "y": 1275,
        "wires": [
            [
                "8605e36f1ececd55"
            ]
        ]
    },
    {
        "id": "2a5e07ace40cdd39",
        "type": "mqtt in",
        "z": "3d4287fb0903fb9a",
        "name": "",
        "topic": "Openhab_VAR/BedRoom/Window",
        "qos": "2",
        "datatype": "auto",
        "broker": "5101c6e3.603738",
        "inputs": 0,
        "x": 173,
        "y": 1276,
        "wires": [
            [
                "99ddf1f5b349aaaa"
            ]
        ]
    },
    {
        "id": "8605e36f1ececd55",
        "type": "change",
        "z": "3d4287fb0903fb9a",
        "name": "OFF",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "OFF",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1305,
        "y": 1361,
        "wires": [
            [
                "f04366e75e2e4b70"
            ]
        ]
    },
    {
        "id": "97b4c9b36b894296",
        "type": "change",
        "z": "3d4287fb0903fb9a",
        "name": "ON",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "ON",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1305,
        "y": 1450,
        "wires": [
            [
                "f04366e75e2e4b70"
            ]
        ]
    },
    {
        "id": "f04366e75e2e4b70",
        "type": "switch",
        "z": "3d4287fb0903fb9a",
        "name": "Heater2",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "neq",
                "v": "Heater2",
                "vt": "flow"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 1495,
        "y": 1451,
        "wires": [
            [
                "a47dee98f10ca08a",
                "74ab2f54fb76f43f"
            ]
        ]
    },
    {
        "id": "74ab2f54fb76f43f",
        "type": "mqtt out",
        "z": "3d4287fb0903fb9a",
        "name": "",
        "topic": "zigbee2mqtt/mainrelay/set/state_l7",
        "qos": "0",
        "retain": "false",
        "respTopic": "",
        "contentType": "",
        "userProps": "",
        "correl": "",
        "expiry": "",
        "broker": "5101c6e3.603738",
        "x": 1850,
        "y": 1500,
        "wires": []
    },
    {
        "id": "a47dee98f10ca08a",
        "type": "debug",
        "z": "3d4287fb0903fb9a",
        "name": "BedRoom_Heater2_set",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 1865,
        "y": 1425,
        "wires": []
    },
    {
        "id": "6e420e466c7991b4",
        "type": "mqtt in",
        "z": "3d4287fb0903fb9a",
        "name": "",
        "topic": "Openhab_VAR/BedRoom/Heater2_on_set",
        "qos": "0",
        "datatype": "auto",
        "broker": "5101c6e3.603738",
        "inputs": 0,
        "x": 1191,
        "y": 1574,
        "wires": [
            [
                "f04366e75e2e4b70"
            ]
        ]
    },
    {
        "id": "8150745deb9c83e3",
        "type": "mqtt out",
        "z": "3d4287fb0903fb9a",
        "name": "",
        "topic": "Openhab_VAR/BedRoom/Window1",
        "qos": "0",
        "retain": "true",
        "broker": "5101c6e3.603738",
        "x": 1880,
        "y": 210,
        "wires": []
    },
    {
        "id": "f43ffb0f4a01533c",
        "type": "mqtt out",
        "z": "3d4287fb0903fb9a",
        "name": "",
        "topic": "Openhab_VAR/BedRoom/Window2",
        "qos": "0",
        "retain": "true",
        "broker": "5101c6e3.603738",
        "x": 1880,
        "y": 255,
        "wires": []
    },
    {
        "id": "d816a5506b250a19",
        "type": "mqtt in",
        "z": "3d4287fb0903fb9a",
        "name": "",
        "topic": "zigbee2mqtt/BedRoom_HT1/battery",
        "qos": "2",
        "datatype": "auto",
        "broker": "5101c6e3.603738",
        "nl": false,
        "rap": true,
        "rh": 0,
        "inputs": 0,
        "x": 200,
        "y": 210,
        "wires": [
            [
                "1da7d1e5cc764e2e"
            ]
        ]
    },
    {
        "id": "35533e4e0cc368bc",
        "type": "mqtt in",
        "z": "3d4287fb0903fb9a",
        "name": "",
        "topic": "zigbee2mqtt/BedRoom_HT1/linkquality",
        "qos": "2",
        "datatype": "auto",
        "broker": "5101c6e3.603738",
        "nl": false,
        "rap": true,
        "rh": 0,
        "inputs": 0,
        "x": 225,
        "y": 165,
        "wires": [
            [
                "d90c3d864b10f9bb"
            ]
        ]
    },
    {
        "id": "17f1b80ddc29ebc6",
        "type": "mqtt in",
        "z": "3d4287fb0903fb9a",
        "name": "",
        "topic": "zigbee2mqtt/BedRoom_HT1/voltage",
        "qos": "2",
        "datatype": "auto",
        "broker": "5101c6e3.603738",
        "nl": false,
        "rap": true,
        "rh": 0,
        "inputs": 0,
        "x": 230,
        "y": 120,
        "wires": [
            [
                "095b7832ae2e2c22"
            ]
        ]
    },
    {
        "id": "f075aed33d1e39c6",
        "type": "mqtt in",
        "z": "3d4287fb0903fb9a",
        "name": "",
        "topic": "zigbee2mqtt/BedRoom_HT1/humidity",
        "qos": "2",
        "datatype": "auto",
        "broker": "5101c6e3.603738",
        "nl": false,
        "rap": true,
        "rh": 0,
        "inputs": 0,
        "x": 255,
        "y": 75,
        "wires": [
            [
                "03ddfaad3e361434"
            ]
        ]
    },
    {
        "id": "54d6b25818fc23a2",
        "type": "mqtt in",
        "z": "3d4287fb0903fb9a",
        "name": "",
        "topic": "zigbee2mqtt/BedRoom_HT1/temperature",
        "qos": "2",
        "datatype": "auto",
        "broker": "5101c6e3.603738",
        "nl": false,
        "rap": true,
        "rh": 0,
        "inputs": 0,
        "x": 250,
        "y": 30,
        "wires": [
            [
                "667cd32f552f76f9"
            ]
        ]
    },
    {
        "id": "a0b83a958ab9fe13",
        "type": "mqtt in",
        "z": "3d4287fb0903fb9a",
        "name": "",
        "topic": "zigbee2mqtt/BedRoom_CS1/contact",
        "qos": "2",
        "datatype": "auto",
        "broker": "5101c6e3.603738",
        "nl": false,
        "rap": true,
        "rh": 0,
        "inputs": 0,
        "x": 1130,
        "y": 195,
        "wires": [
            [
                "363ac75a9f088d4a"
            ]
        ]
    },
    {
        "id": "363ac75a9f088d4a",
        "type": "switch",
        "z": "3d4287fb0903fb9a",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "true",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "false",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 1360,
        "y": 195,
        "wires": [
            [
                "9653ee3ef6d45485"
            ],
            [
                "cb89c1f8d6e16083"
            ]
        ]
    },
    {
        "id": "9653ee3ef6d45485",
        "type": "change",
        "z": "3d4287fb0903fb9a",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "CLOSED",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1525,
        "y": 180,
        "wires": [
            [
                "77439230bfd8bf46",
                "8150745deb9c83e3",
                "f43ffb0f4a01533c"
            ]
        ]
    },
    {
        "id": "cb89c1f8d6e16083",
        "type": "change",
        "z": "3d4287fb0903fb9a",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "OPEN",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1525,
        "y": 210,
        "wires": [
            [
                "77439230bfd8bf46",
                "8150745deb9c83e3",
                "f43ffb0f4a01533c"
            ]
        ]
    },
    {
        "id": "2d0adc141c56f773",
        "type": "mqtt in",
        "z": "3d4287fb0903fb9a",
        "name": "",
        "topic": "zigbee2mqtt/BedRoom_CS1/voltage",
        "qos": "2",
        "datatype": "auto",
        "broker": "5101c6e3.603738",
        "nl": false,
        "rap": true,
        "rh": 0,
        "inputs": 0,
        "x": 1250,
        "y": 45,
        "wires": [
            [
                "65d862c4a9742450"
            ]
        ]
    },
    {
        "id": "8679ae04caa56dbb",
        "type": "mqtt in",
        "z": "3d4287fb0903fb9a",
        "name": "",
        "topic": "zigbee2mqtt/BedRoom_CS1/battery",
        "qos": "2",
        "datatype": "auto",
        "broker": "5101c6e3.603738",
        "nl": false,
        "rap": true,
        "rh": 0,
        "inputs": 0,
        "x": 1280,
        "y": 135,
        "wires": [
            [
                "2cbaa011801724fd"
            ]
        ]
    },
    {
        "id": "90c0d4d6972f1484",
        "type": "mqtt in",
        "z": "3d4287fb0903fb9a",
        "name": "",
        "topic": "zigbee2mqtt/BedRoom_CS1/linkquality",
        "qos": "2",
        "datatype": "auto",
        "broker": "5101c6e3.603738",
        "nl": false,
        "rap": true,
        "rh": 0,
        "inputs": 0,
        "x": 1275,
        "y": 90,
        "wires": [
            [
                "762dbf979baaec1c"
            ]
        ]
    },
    {
        "id": "9d35af0676da9285",
        "type": "mqtt out",
        "z": "820c8911ef76a522",
        "name": "",
        "topic": "garland1/switch/relay_1/command",
        "qos": "",
        "retain": "",
        "respTopic": "",
        "contentType": "",
        "userProps": "",
        "correl": "",
        "expiry": "",
        "broker": "5101c6e3.603738",
        "x": 530,
        "y": 270,
        "wires": []
    },
    {
        "id": "127616db264b94bb",
        "type": "mqtt in",
        "z": "820c8911ef76a522",
        "name": "",
        "topic": "Openhab_VAR/Home/Garland1/command",
        "qos": "2",
        "datatype": "auto",
        "broker": "5101c6e3.603738",
        "nl": false,
        "rap": true,
        "rh": 0,
        "inputs": 0,
        "x": 160,
        "y": 270,
        "wires": [
            [
                "9d35af0676da9285"
            ]
        ]
    },
    {
        "id": "031788117c31b1a3",
        "type": "mqtt out",
        "z": "820c8911ef76a522",
        "name": "",
        "topic": "Openhab_VAR/Home/Garland1/state",
        "qos": "",
        "retain": "",
        "respTopic": "",
        "contentType": "",
        "userProps": "",
        "correl": "",
        "expiry": "",
        "broker": "5101c6e3.603738",
        "x": 495,
        "y": 165,
        "wires": []
    },
    {
        "id": "7e154e710e26b64e",
        "type": "mqtt in",
        "z": "820c8911ef76a522",
        "name": "",
        "topic": "garland1/switch/relay_1/state",
        "qos": "2",
        "datatype": "auto",
        "broker": "5101c6e3.603738",
        "nl": false,
        "rap": true,
        "rh": 0,
        "inputs": 0,
        "x": 165,
        "y": 165,
        "wires": [
            [
                "031788117c31b1a3"
            ]
        ]
    },
    {
        "id": "b2e6270b863c8e06",
        "type": "mqtt in",
        "z": "820c8911ef76a522",
        "name": "",
        "topic": "Openhab_VAR/Home/Garland1/auto/command",
        "qos": "2",
        "datatype": "auto",
        "broker": "5101c6e3.603738",
        "nl": false,
        "rap": true,
        "rh": 0,
        "inputs": 0,
        "x": 210,
        "y": 60,
        "wires": [
            [
                "3ca7d1db477514d1"
            ]
        ]
    },
    {
        "id": "3ca7d1db477514d1",
        "type": "mqtt out",
        "z": "820c8911ef76a522",
        "name": "",
        "topic": "Openhab_VAR/Home/Garland1/auto/state",
        "qos": "",
        "retain": "",
        "respTopic": "",
        "contentType": "",
        "userProps": "",
        "correl": "",
        "expiry": "",
        "broker": "5101c6e3.603738",
        "x": 700,
        "y": 60,
        "wires": []
    },
    {
        "id": "cc47dbd00be59ac2",
        "type": "mqtt in",
        "z": "820c8911ef76a522",
        "name": "",
        "topic": "garland1/switch/relay_1/state",
        "qos": "2",
        "datatype": "auto",
        "broker": "5101c6e3.603738",
        "nl": false,
        "rap": true,
        "rh": 0,
        "inputs": 0,
        "x": 120,
        "y": 360,
        "wires": [
            [
                "02d4be11359c6986"
            ]
        ]
    },
    {
        "id": "b673b90190d5b8aa",
        "type": "mqtt out",
        "z": "820c8911ef76a522",
        "name": "",
        "topic": "garland1/switch/relay_1/command",
        "qos": "",
        "retain": "",
        "respTopic": "",
        "contentType": "",
        "userProps": "",
        "correl": "",
        "expiry": "",
        "broker": "5101c6e3.603738",
        "x": 1250,
        "y": 375,
        "wires": []
    },
    {
        "id": "13c562951947c7b9",
        "type": "homekit-service",
        "z": "820c8911ef76a522",
        "isParent": true,
        "hostType": "0",
        "bridge": "68294c37c02e631f",
        "accessoryId": "",
        "parentService": "",
        "name": "garland",
        "serviceName": "Outlet",
        "topic": "",
        "filter": false,
        "manufacturer": "Default Manufacturer",
        "model": "Default Model",
        "serialNo": "Default Serial Number",
        "firmwareRev": "",
        "hardwareRev": "",
        "softwareRev": "",
        "cameraConfigVideoProcessor": "ffmpeg",
        "cameraConfigSource": "",
        "cameraConfigStillImageSource": "",
        "cameraConfigMaxStreams": 2,
        "cameraConfigMaxWidth": 1280,
        "cameraConfigMaxHeight": 720,
        "cameraConfigMaxFPS": 10,
        "cameraConfigMaxBitrate": 300,
        "cameraConfigVideoCodec": "libx264",
        "cameraConfigAudioCodec": "libfdk_aac",
        "cameraConfigAudio": false,
        "cameraConfigPacketSize": 1316,
        "cameraConfigVerticalFlip": false,
        "cameraConfigHorizontalFlip": false,
        "cameraConfigMapVideo": "0:0",
        "cameraConfigMapAudio": "0:1",
        "cameraConfigVideoFilter": "scale=1280:720",
        "cameraConfigAdditionalCommandLine": "-tune zerolatency",
        "cameraConfigDebug": false,
        "cameraConfigSnapshotOutput": "disabled",
        "cameraConfigInterfaceName": "",
        "characteristicProperties": "{}",
        "waitForSetupMsg": false,
        "outputs": 2,
        "x": 540,
        "y": 435,
        "wires": [
            [
                "29adbddcc80ebdbb"
            ],
            []
        ]
    },
    {
        "id": "02d4be11359c6986",
        "type": "function",
        "z": "820c8911ef76a522",
        "name": "ToKitConversion",
        "func": "var characteristic = {};\nif (msg.payload === \"ON\")\n{\n    characteristic.On = true;\n}\nelse if (msg.payload === \"OFF\")\n{\n    characteristic.On = false;\n}\ncharacteristic.OutletInUse = characteristic.On;\nmsg.payload = characteristic;\nnode.status({fill:\"green\",shape:\"ring\",\"text\": \"On: \"+msg.payload.On});\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 365,
        "y": 360,
        "wires": [
            [
                "13c562951947c7b9"
            ]
        ]
    },
    {
        "id": "29adbddcc80ebdbb",
        "type": "function",
        "z": "820c8911ef76a522",
        "name": "FromKitConversion",
        "func": "var characteristic = {};\nif (msg.payload.On === true)\n{\n    characteristic = \"on\"; \n}\nif (msg.payload.On === false)\n{\n    characteristic = \"off\"; \n}\nnode.status({fill:\"green\",shape:\"ring\",\"text\": \"On: \"+msg.payload.On});\nmsg.payload = characteristic;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 735,
        "y": 380,
        "wires": [
            [
                "3bb083cab455617d"
            ]
        ]
    },
    {
        "id": "64927efb876bfc3f",
        "type": "debug",
        "z": "820c8911ef76a522",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 1055,
        "y": 510,
        "wires": []
    },
    {
        "id": "3bb083cab455617d",
        "type": "rbe",
        "z": "820c8911ef76a522",
        "name": "",
        "func": "rbe",
        "gap": "",
        "start": "",
        "inout": "out",
        "septopics": true,
        "property": "payload",
        "topi": "topic",
        "x": 935,
        "y": 375,
        "wires": [
            [
                "64927efb876bfc3f",
                "b673b90190d5b8aa"
            ]
        ]
    },
    {
        "id": "3485b05c31a03404",
        "type": "debug",
        "z": "cf42543abaef9764",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "x": 630,
        "y": 60,
        "wires": []
    },
    {
        "id": "36ae265e424154f2",
        "type": "switch",
        "z": "cf42543abaef9764",
        "name": "",
        "property": "payload.cmd",
        "propertyType": "msg",
        "rules": [
            {
                "t": "neq",
                "v": "heartbeat",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 450,
        "y": 60,
        "wires": [
            [
                "3485b05c31a03404"
            ]
        ]
    },
    {
        "id": "a2c090b4a2c6c4c8",
        "type": "json",
        "z": "cf42543abaef9764",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 270,
        "y": 60,
        "wires": [
            [
                "36ae265e424154f2",
                "ead3a7526642eed4"
            ]
        ]
    },
    {
        "id": "ad2c517eb588edd9",
        "type": "udp in",
        "z": "cf42543abaef9764",
        "name": "",
        "iface": "",
        "port": "9898",
        "ipv": "udp4",
        "multicast": "true",
        "group": "224.0.0.50",
        "datatype": "utf8",
        "x": 90,
        "y": 60,
        "wires": [
            [
                "a2c090b4a2c6c4c8",
                "24f0868e98026139"
            ]
        ]
    },
    {
        "id": "ead3a7526642eed4",
        "type": "function",
        "z": "cf42543abaef9764",
        "name": "Generate-key GW",
        "func": "var crypto = global.get('cryptoModule');\n// вектор, или стартовая переменная, которая выступает инициализацией для алгоритма шифрования при генерации псевдослучайных чисел\nvar iv = Buffer.from([0x17, 0x99, 0x6d, 0x09, 0x3d, 0x28, 0xdd, 0xb3, 0xba, 0x69, 0x5a, 0x2e, 0x6f, 0x58, 0x56, 0x2e]);\nvar payload = msg.payload;\nvar newmsg = null;\nif  ((payload.cmd) && (payload.cmd==\"heartbeat\") &&\n(payload.model) && (payload.model==\"gateway\") &&\n(payload.sid) && (payload.sid == \"04cf8ca08a07\") &&\n(payload.data))\n{\nvar data = JSON.parse(payload.data);\nif ((data.ip==\"192.168.1.60\") && (payload.token))\n{\n       var lastToken = payload.token; // читаем токен, который сгенерировал шлюз\n       var password = 'swm4rjcaufvyvx4k'; // тут надо подставить свой пароль от точки доступа, полученный при переводе в режим разработчика\n       var cipher = crypto.createCipheriv('aes-128-cbc', password, iv); // создаём экземпляр cipher\n       var key = cipher.update(lastToken, \"ascii\", \"hex\"); // шифруем токен\n       cipher.final('hex'); // конвертируем в hex\n       flow.set(\"xiaomikey\",key); // пишем результат в переменную xiaomikey, область видимости которой - наш flow.\n       newmsg = {payload: key};\n       return newmsg;\n}\n}",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 480,
        "y": 180,
        "wires": [
            [
                "38ec995e99284672"
            ]
        ]
    },
    {
        "id": "38ec995e99284672",
        "type": "debug",
        "z": "cf42543abaef9764",
        "name": "Key",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "x": 710,
        "y": 180,
        "wires": []
    },
    {
        "id": "c285c38a86286c54",
        "type": "function",
        "z": "cf42543abaef9764",
        "name": "",
        "func": "var key = flow.get('xiaomikey')||''; // читаем переменную xiaomikey\n// формируем JSON, устанавливаем значение свойства \"key\"\nmsg.payload = '{\"cmd\":\"write\",\"model\":\"gateway\",\"sid\":\"04cf8ca08a07\",\"data\":\"{\\\\\"key\\\\\":\\\\\"' + key + '\\\\\",\\\\\"rgb\\\\\":1594433294,\\\\\"illumination\\\\\":523}\"}';\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 330,
        "y": 300,
        "wires": [
            [
                "d43d18fcac3fda2d",
                "62ff995b8f17bfff"
            ]
        ]
    },
    {
        "id": "2bd9579eacee733e",
        "type": "inject",
        "z": "cf42543abaef9764",
        "name": "",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 110,
        "y": 300,
        "wires": [
            [
                "c285c38a86286c54"
            ]
        ]
    },
    {
        "id": "d43d18fcac3fda2d",
        "type": "debug",
        "z": "cf42543abaef9764",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "x": 600,
        "y": 300,
        "wires": []
    },
    {
        "id": "62ff995b8f17bfff",
        "type": "udp out",
        "z": "cf42543abaef9764",
        "name": "",
        "addr": "192.168.1.150",
        "iface": "",
        "port": "9898",
        "ipv": "udp4",
        "outport": "",
        "base64": false,
        "multicast": "false",
        "x": 610,
        "y": 420,
        "wires": []
    },
    {
        "id": "96d4c6a91402afa8",
        "type": "function",
        "z": "cf42543abaef9764",
        "name": "",
        "func": "var key = flow.get('xiaomikey')||''; // читаем переменную xiaomikey\n// формируем JSON, устанавливаем значение свойства \"key\"\nmsg.payload = '{\"cmd\":\"write\",\"model\":\"gateway\",\"sid\":\"04cf8ca08a07\",\"data\":\"{\\\\\"key\\\\\":\\\\\"' + key + '\\\\\",\\\\\"rgb\\\\\":0,\\\\\"illumination\\\\\":523}\"}';\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 340,
        "y": 440,
        "wires": [
            [
                "62ff995b8f17bfff"
            ]
        ]
    },
    {
        "id": "0b2dfc7b6854fac0",
        "type": "inject",
        "z": "cf42543abaef9764",
        "name": "",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 120,
        "y": 440,
        "wires": [
            [
                "96d4c6a91402afa8"
            ]
        ]
    },
    {
        "id": "b7e9833a5c1782a0",
        "type": "function",
        "z": "cf42543abaef9764",
        "name": "",
        "func": "var key = flow.get('xiaomikey')||''; // читаем переменную xiaomikey\n// формируем JSON, устанавливаем значение свойства \"key\"\nmsg.payload = '{\"cmd\":\"write\",\"model\":\"gateway\",\"sid\":\"04cf8ca08a07\",\"data\":\"{\\\\\"key\\\\\":\\\\\"' + key + '\\\\\",\\\\\"mid\\\\\":1001,\\\\\"volume\\\\\":20}\"}';\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 340,
        "y": 520,
        "wires": [
            [
                "62ff995b8f17bfff"
            ]
        ]
    },
    {
        "id": "fee51e7582107c0e",
        "type": "inject",
        "z": "cf42543abaef9764",
        "name": "",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 110,
        "y": 520,
        "wires": [
            [
                "b7e9833a5c1782a0"
            ]
        ]
    },
    {
        "id": "24f0868e98026139",
        "type": "debug",
        "z": "cf42543abaef9764",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 250,
        "y": 180,
        "wires": []
    },
    {
        "id": "3e8a981b9f85352b",
        "type": "mqtt out",
        "z": "cf42543abaef9764",
        "name": "",
        "topic": "Xiaomi/gateway/gateway_command_tx",
        "qos": "0",
        "retain": "true",
        "broker": "5101c6e3.603738",
        "x": 850,
        "y": 1080,
        "wires": []
    },
    {
        "id": "e63f1e9aa912fb57",
        "type": "mqtt in",
        "z": "cf42543abaef9764",
        "name": "",
        "topic": "Xiaomi/gateway/gateway_command_rx",
        "qos": "2",
        "datatype": "utf8",
        "broker": "5101c6e3.603738",
        "inputs": 0,
        "x": 190,
        "y": 880,
        "wires": [
            [
                "e4ca07d8dec97742"
            ]
        ]
    },
    {
        "id": "e4ca07d8dec97742",
        "type": "switch",
        "z": "cf42543abaef9764",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "cont",
                "v": "{",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 490,
        "y": 880,
        "wires": [
            [
                "d75a737d702cc5fc"
            ]
        ]
    },
    {
        "id": "d75a737d702cc5fc",
        "type": "function",
        "z": "cf42543abaef9764",
        "name": "Radio State",
        "func": "text = msg.payload\ntext = text.replace('\"{','{');\ntext = text.replace('}\"','}');\nvar data = JSON.parse(text);\nvar current_volume, current_status, current_program, current_program_id, need_refresh = null;\n\n\nif (data.result[0]) {\n    need_refresh = {\"payload\": \"get_prop_fm[]\"};\n}\n\nif (data.result.volume) {\n     current_volume = {\"payload\": data.result.volume};\n}\n\n\nif (data.result.current_volume) {\n    current_volume = {\"payload\": data.result.current_volume};\n}\n\n\nif (data.result.current_status) { \n    if(data.result.current_status == \"pause\") \n        current_status = {\"payload\":\"off\"};\n    if(data.result.current_status == \"run\") \n        current_status = {\"payload\":\"on\"};\n}\n\nif (data.result.current_program) {\n    current_program_id = {\"payload\": data.result.current_program};\n    if(data.result.current_program == 527782833)\n    current_program = {\"payload\": \"десткое радио\"};\n    \n        if(data.result.current_program == 527782799)\n    current_program = {\"payload\": \"DFM владивосток\"};\n    \n        if(data.result.current_program == 527782775)\n    current_program = {\"payload\": \"Energy FM\"};\n    \n        if(data.result.current_program == 527782770)\n    current_program = {\"payload\": \"Comedy Radio\"};\n    \n        if(data.result.current_program == 527782731)\n    current_program = {\"payload\": \"Юмор FM\"};\n    \n        if(data.result.current_program == 527782692)\n    current_program = {\"payload\": \"Вести FM\"};\n    \n            if(data.result.current_program == 527782684)\n    current_program = {\"payload\": \"Maximum\"};\n    \n            if(data.result.current_program == 527782553)\n    current_program = {\"payload\": \"Dinamit FM\"};\n    \n            if(data.result.current_program == 527782517)\n    current_program = {\"payload\": \"American Road Radio\"};\n\n  \n                if(data.result.current_program == 527782008)\n    current_program = {\"payload\": \"Авторадио\"};\n    \n                if(data.result.current_program == 527782024)\n    current_program = {\"payload\": \"Европа Плюс\"};\n    \n                if(data.result.current_program == 527782030)\n    current_program = {\"payload\": \"Radio Record\"};\n    \n                if(data.result.current_program == 527782436)\n    current_program = {\"payload\": \"Disney\"};\n    \n                if(data.result.current_program == 527782561)\n    current_program = {\"payload\": \"Европа Плюс\"};\n    \n                if(data.result.current_program == 527782050)\n    current_program = {\"payload\": \"Спокойное радио\"};\n    \n                if(data.result.current_program == 527782223)\n    current_program = {\"payload\": \"Владивосток FM\"};\n    \n    \n}\n\n\n\nnode.send([current_volume, current_status, current_program, current_program_id,need_refresh]);\n\n\n//527782833 десткое радио\n//527782799 DFM владивосток\n//527782775 Energy FM\n//527782770 Comedy Radio\n//527782731 Юмор FM\n//527782692 Вести FM\n//527782684 Maximum\n//527782553 Dinamit FM\n//527782517 American Road Radio\n\n//527782008 Авторадио\n//527782024 Европа Плюс\n//527782030 Radio Record\n//527782436 Disney\n//527782561 Европа Плюс\n//527782050 Спокойное радио\n//527782223 Владивосток FM\n\n",
        "outputs": 5,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 750,
        "y": 880,
        "wires": [
            [
                "701ba6a0b77dd864",
                "6422696abd26bf5a"
            ],
            [
                "701ba6a0b77dd864",
                "bf9676c806f72e34"
            ],
            [
                "701ba6a0b77dd864",
                "59e288b5688689af"
            ],
            [
                "4d4eb6a4a0c55d95",
                "701ba6a0b77dd864"
            ],
            [
                "45a4c9165fa8d918"
            ]
        ]
    },
    {
        "id": "701ba6a0b77dd864",
        "type": "debug",
        "z": "cf42543abaef9764",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 770,
        "y": 800,
        "wires": []
    },
    {
        "id": "6422696abd26bf5a",
        "type": "mqtt out",
        "z": "cf42543abaef9764",
        "name": "",
        "topic": "Xiaomi/gateway/radio/current_volume",
        "qos": "0",
        "retain": "true",
        "broker": "5101c6e3.603738",
        "x": 1190,
        "y": 740,
        "wires": []
    },
    {
        "id": "bf9676c806f72e34",
        "type": "mqtt out",
        "z": "cf42543abaef9764",
        "name": "",
        "topic": "Xiaomi/gateway/radio/current_status",
        "qos": "0",
        "retain": "true",
        "broker": "5101c6e3.603738",
        "x": 1190,
        "y": 780,
        "wires": []
    },
    {
        "id": "59e288b5688689af",
        "type": "mqtt out",
        "z": "cf42543abaef9764",
        "name": "",
        "topic": "Xiaomi/gateway/radio/current_program",
        "qos": "0",
        "retain": "true",
        "broker": "5101c6e3.603738",
        "x": 1190,
        "y": 840,
        "wires": []
    },
    {
        "id": "4d4eb6a4a0c55d95",
        "type": "mqtt out",
        "z": "cf42543abaef9764",
        "name": "",
        "topic": "Xiaomi/gateway/radio/current_program_id",
        "qos": "0",
        "retain": "true",
        "broker": "5101c6e3.603738",
        "x": 1200,
        "y": 900,
        "wires": []
    },
    {
        "id": "b54fdbec0959e7cc",
        "type": "mqtt out",
        "z": "cf42543abaef9764",
        "name": "",
        "topic": "Xiaomi/gateway/gateway_command_tx",
        "qos": "0",
        "retain": "true",
        "broker": "5101c6e3.603738",
        "x": 1190,
        "y": 960,
        "wires": []
    },
    {
        "id": "45a4c9165fa8d918",
        "type": "delay",
        "z": "cf42543abaef9764",
        "name": "",
        "pauseType": "delay",
        "timeout": "2",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "outputs": 1,
        "x": 960,
        "y": 960,
        "wires": [
            [
                "b54fdbec0959e7cc"
            ]
        ]
    },
    {
        "id": "cdb8be92f518aa26",
        "type": "mqtt in",
        "z": "cf42543abaef9764",
        "name": "",
        "topic": "Xiaomi/gateway/radio/set_volume",
        "qos": "2",
        "datatype": "auto",
        "broker": "5101c6e3.603738",
        "inputs": 0,
        "x": 210,
        "y": 1120,
        "wires": [
            [
                "ef284b9e92eccef4"
            ]
        ]
    },
    {
        "id": "0d5a23784b0ca810",
        "type": "mqtt in",
        "z": "cf42543abaef9764",
        "name": "",
        "topic": "Xiaomi/gateway/radio/set_status",
        "qos": "2",
        "datatype": "auto",
        "broker": "5101c6e3.603738",
        "inputs": 0,
        "x": 210,
        "y": 1200,
        "wires": [
            [
                "fe8bcc59437eb38e"
            ]
        ]
    },
    {
        "id": "f3345d245bfb961c",
        "type": "mqtt in",
        "z": "cf42543abaef9764",
        "name": "",
        "topic": "Xiaomi/gateway/radio/set_program",
        "qos": "2",
        "datatype": "auto",
        "broker": "5101c6e3.603738",
        "inputs": 0,
        "x": 220,
        "y": 1040,
        "wires": [
            [
                "af179076a916df0a"
            ]
        ]
    },
    {
        "id": "af179076a916df0a",
        "type": "function",
        "z": "cf42543abaef9764",
        "name": "",
        "func": "\nmsg.payload = \"play_specify_fm[\" + msg.payload + \",2]\";\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 520,
        "y": 1040,
        "wires": [
            [
                "3e8a981b9f85352b",
                "88acd2196479644b"
            ]
        ]
    },
    {
        "id": "ef284b9e92eccef4",
        "type": "function",
        "z": "cf42543abaef9764",
        "name": "",
        "func": "\n\nmsg.payload = \"volume_ctrl_fm[\\\"\"+msg.payload+\"\\\"]\";\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 520,
        "y": 1120,
        "wires": [
            [
                "3e8a981b9f85352b",
                "88acd2196479644b"
            ]
        ]
    },
    {
        "id": "fe8bcc59437eb38e",
        "type": "function",
        "z": "cf42543abaef9764",
        "name": "",
        "func": "\n\nmsg.payload = \"play_fm[\\\"\"+ msg.payload +\"\\\"]\";\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 500,
        "y": 1200,
        "wires": [
            [
                "3e8a981b9f85352b",
                "88acd2196479644b"
            ]
        ]
    },
    {
        "id": "88acd2196479644b",
        "type": "debug",
        "z": "cf42543abaef9764",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 800,
        "y": 1160,
        "wires": []
    },
    {
        "id": "5207519986693b03",
        "type": "function",
        "z": "cf42543abaef9764",
        "name": "MainDoor_Switch",
        "func": "var payload = msg.payload;\nvar data = JSON.parse(payload);\n\n\n\nvar battery = null;\nvar voltage = null;\nvar linkquality=null;\nvar click = null;\n\nnode.status({fill:\"grey\",shape:\"ring\",text:\"no state\"});\n\n\n\nif (data.battery) {\n    battery = {\"payload\": data.battery};\n}\nif (data.voltage) {\n    voltage = {\"payload\": data.voltage};\n}\nif (data.linkquality) {\n    if (data.linkquality > 100){\n    linkquality = {\"payload\": 4};\n    }\n    else if (data.linkquality > 80){\n    linkquality = {\"payload\": 3};\n    }\n    else if (data.linkquality > 50){\n    linkquality = {\"payload\": 2};\n    }\n    else if (data.linkquality > 30){\n    linkquality = {\"payload\": 1};\n    }\n    else {\n    linkquality = {\"payload\": 0};\n    }\n}\n\n\n\nif (data.click == \"single\") {\n    click = {\"payload\": \"single\"};\n    node.status({fill:\"red\",shape:\"dot\",text:\"single\"}); \n}\nif (data.click == \"double\") {\n    click = {\"payload\": \"double\"};\n    node.status({fill:\"green\",shape:\"dot\",text:\"double\"}); \n}\nif (data.click == \"long_release\") {\n    click = {\"payload\": \"long\"};\n    node.status({fill:\"blue\",shape:\"dot\",text:\"long\"}); \n}\nif (data.click == \"triple\") {\n    click = {\"payload\": \"triple\"};\n    node.status({fill:\"blue\",shape:\"dot\",text:\"long\"}); \n}\nif (data.click == \"quadruple\") {\n    click = {\"payload\": \"quadruple\"};\n    node.status({fill:\"blue\",shape:\"dot\",text:\"long\"}); \n}\n\n\n\nnode.send([ voltage, linkquality,battery,click]);\n",
        "outputs": 4,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 390,
        "y": 620,
        "wires": [
            [
                "848c6e18d8aea70e"
            ],
            [
                "5579ee968f43fe7f"
            ],
            [
                "71904b4aa78f4037"
            ],
            [
                "9cdd90fc45d1f340"
            ]
        ]
    },
    {
        "id": "848c6e18d8aea70e",
        "type": "mqtt out",
        "z": "cf42543abaef9764",
        "name": "",
        "topic": "Xiaomi/Gatwey_control/voltage",
        "qos": "0",
        "retain": "true",
        "broker": "5101c6e3.603738",
        "x": 630,
        "y": 560,
        "wires": []
    },
    {
        "id": "5579ee968f43fe7f",
        "type": "mqtt out",
        "z": "cf42543abaef9764",
        "name": "",
        "topic": "Xiaomi/Gatwey_control/linkquality",
        "qos": "0",
        "retain": "true",
        "broker": "5101c6e3.603738",
        "x": 640,
        "y": 600,
        "wires": []
    },
    {
        "id": "71904b4aa78f4037",
        "type": "mqtt out",
        "z": "cf42543abaef9764",
        "name": "",
        "topic": "Xiaomi/Gatwey_control/battery",
        "qos": "0",
        "retain": "true",
        "broker": "5101c6e3.603738",
        "x": 630,
        "y": 640,
        "wires": []
    },
    {
        "id": "9cdd90fc45d1f340",
        "type": "mqtt out",
        "z": "cf42543abaef9764",
        "name": "",
        "topic": "Xiaomi/gateway/Gatwey_control",
        "qos": "0",
        "retain": "true",
        "broker": "5101c6e3.603738",
        "x": 630,
        "y": 680,
        "wires": []
    },
    {
        "id": "fceb56694030f285",
        "type": "mqtt in",
        "z": "cf42543abaef9764",
        "name": "",
        "topic": "zigbee2mqtt/Gatwey_control",
        "qos": "0",
        "datatype": "auto",
        "broker": "5101c6e3.603738",
        "inputs": 0,
        "x": 140,
        "y": 620,
        "wires": [
            [
                "5207519986693b03"
            ]
        ]
    },
    {
        "id": "5060694e40af5dcd",
        "type": "function",
        "z": "26c72c233631dbeb",
        "name": "",
        "func": "var logs = context.get([\"log0\",\"log1\", \"log2\", \"log3\", \"log4\", \"log5\",\"log6\",\"log7\",\"log8\",\"log9\"])\nvar simpletime=global.get('simpletime2');\nlogs[9] = logs[8]\nlogs[8] = logs[7]\nlogs[7] = logs[6]\nlogs[6] = logs[5]\nlogs[5] = logs[4]\nlogs[4] = logs[3]\nlogs[3] = logs[2]\nlogs[2] = logs[1]\nlogs[1] = logs[0]\nvalue = msg.payload\nif (value == \"CLOSED\") {\n    value = \"закрыто\"\n}\nif (value == \"OPEN\") {\n    value = \"открыто\"\n}\nif (value == \"ON\") {\n    value = \"включен\"\n}\nif (value == \"OFF\") {\n    value = \"отключен\"\n}\n\nname = msg.topic\n\ntext = simpletime +\":\"+ name +\" \"+ value\nif (msg.payload) {\n    logs[0] = {\"payload\": text};\n\n}\n\ncontext.set([\"log0\",\"log1\", \"log2\", \"log3\", \"log4\", \"log5\",\"log6\",\"log7\",\"log8\",\"log9\"], [logs[0],logs[1],logs[2],logs[3],logs[4],logs[5],logs[6],logs[7],logs[8],logs[9]])\nnode.send(logs);",
        "outputs": 10,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 885,
        "y": 165,
        "wires": [
            [
                "a9f73541792a03db"
            ],
            [
                "c4371dc6d80feca5"
            ],
            [
                "c03c8a727ae89f52"
            ],
            [
                "890437c02740bb41"
            ],
            [
                "e2606d99ded88fd0"
            ],
            [
                "c0b67b75469e21bf"
            ],
            [
                "d65b833543efb7e7"
            ],
            [
                "046dcfefac34efc4"
            ],
            [
                "69e62a933f5ec603"
            ],
            [
                "84e5c30de0fa8c27"
            ]
        ]
    },
    {
        "id": "a9f73541792a03db",
        "type": "mqtt out",
        "z": "26c72c233631dbeb",
        "name": "",
        "topic": "Openhab_VAR/Home/Logs/log0",
        "qos": "",
        "retain": "",
        "broker": "5101c6e3.603738",
        "x": 1005,
        "y": 120,
        "wires": [],
        "l": false
    },
    {
        "id": "c4371dc6d80feca5",
        "type": "mqtt out",
        "z": "26c72c233631dbeb",
        "name": "",
        "topic": "Openhab_VAR/Home/Logs/log1",
        "qos": "",
        "retain": "",
        "broker": "5101c6e3.603738",
        "x": 1020,
        "y": 120,
        "wires": [],
        "l": false
    },
    {
        "id": "c03c8a727ae89f52",
        "type": "mqtt out",
        "z": "26c72c233631dbeb",
        "name": "",
        "topic": "Openhab_VAR/Home/Logs/log2",
        "qos": "",
        "retain": "",
        "broker": "5101c6e3.603738",
        "x": 1020,
        "y": 150,
        "wires": [],
        "l": false
    },
    {
        "id": "890437c02740bb41",
        "type": "mqtt out",
        "z": "26c72c233631dbeb",
        "name": "",
        "topic": "Openhab_VAR/Home/Logs/log3",
        "qos": "",
        "retain": "",
        "broker": "5101c6e3.603738",
        "x": 1035,
        "y": 150,
        "wires": [],
        "l": false
    },
    {
        "id": "e2606d99ded88fd0",
        "type": "mqtt out",
        "z": "26c72c233631dbeb",
        "name": "",
        "topic": "Openhab_VAR/Home/Logs/log4",
        "qos": "",
        "retain": "",
        "broker": "5101c6e3.603738",
        "x": 1020,
        "y": 150,
        "wires": [],
        "l": false
    },
    {
        "id": "c0b67b75469e21bf",
        "type": "mqtt out",
        "z": "26c72c233631dbeb",
        "name": "",
        "topic": "Openhab_VAR/Home/Logs/log5",
        "qos": "",
        "retain": "",
        "broker": "5101c6e3.603738",
        "x": 990,
        "y": 165,
        "wires": [],
        "l": false
    },
    {
        "id": "d65b833543efb7e7",
        "type": "mqtt out",
        "z": "26c72c233631dbeb",
        "name": "",
        "topic": "Openhab_VAR/Home/Logs/log6",
        "qos": "",
        "retain": "",
        "broker": "5101c6e3.603738",
        "x": 975,
        "y": 180,
        "wires": [],
        "l": false
    },
    {
        "id": "046dcfefac34efc4",
        "type": "mqtt out",
        "z": "26c72c233631dbeb",
        "name": "",
        "topic": "Openhab_VAR/Home/Logs/log7",
        "qos": "",
        "retain": "",
        "broker": "5101c6e3.603738",
        "x": 990,
        "y": 210,
        "wires": [],
        "l": false
    },
    {
        "id": "69e62a933f5ec603",
        "type": "mqtt out",
        "z": "26c72c233631dbeb",
        "name": "",
        "topic": "Openhab_VAR/Home/Logs/log8",
        "qos": "",
        "retain": "",
        "broker": "5101c6e3.603738",
        "x": 990,
        "y": 195,
        "wires": [],
        "l": false
    },
    {
        "id": "84e5c30de0fa8c27",
        "type": "mqtt out",
        "z": "26c72c233631dbeb",
        "name": "",
        "topic": "Openhab_VAR/Home/Logs/log9",
        "qos": "",
        "retain": "",
        "broker": "5101c6e3.603738",
        "x": 990,
        "y": 210,
        "wires": [],
        "l": false
    },
    {
        "id": "6734901edd5447e5",
        "type": "mqtt in",
        "z": "26c72c233631dbeb",
        "name": "",
        "topic": "Openhab_VAR/Home/Main_Door",
        "qos": "2",
        "datatype": "auto",
        "broker": "5101c6e3.603738",
        "inputs": 0,
        "x": 190,
        "y": 45,
        "wires": [
            [
                "178e6a491e503647"
            ]
        ]
    },
    {
        "id": "332d10fe4a33f46b",
        "type": "rbe",
        "z": "26c72c233631dbeb",
        "name": "",
        "func": "rbe",
        "gap": "",
        "start": "",
        "inout": "out",
        "property": "payload",
        "x": 570,
        "y": 45,
        "wires": [
            [
                "5060694e40af5dcd"
            ]
        ],
        "l": false
    },
    {
        "id": "178e6a491e503647",
        "type": "change",
        "z": "26c72c233631dbeb",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "Входная дверь",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 470,
        "y": 45,
        "wires": [
            [
                "332d10fe4a33f46b"
            ]
        ]
    },
    {
        "id": "7c348bfdaca6b974",
        "type": "mqtt in",
        "z": "26c72c233631dbeb",
        "name": "",
        "topic": "Openhab_VAR/KidsRoom/Heater1_on",
        "qos": "2",
        "datatype": "auto",
        "broker": "5101c6e3.603738",
        "inputs": 0,
        "x": 185,
        "y": 83,
        "wires": [
            [
                "363254c29cff95a0"
            ]
        ]
    },
    {
        "id": "29e6ce1dbe01ae93",
        "type": "rbe",
        "z": "26c72c233631dbeb",
        "name": "",
        "func": "rbe",
        "gap": "",
        "start": "",
        "inout": "out",
        "property": "payload",
        "x": 575,
        "y": 83,
        "wires": [
            [
                "5060694e40af5dcd"
            ]
        ],
        "l": false
    },
    {
        "id": "363254c29cff95a0",
        "type": "change",
        "z": "26c72c233631dbeb",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "Детская обогреватель 1",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 475,
        "y": 83,
        "wires": [
            [
                "29e6ce1dbe01ae93"
            ]
        ]
    },
    {
        "id": "f4edd62d60c50d15",
        "type": "mqtt in",
        "z": "26c72c233631dbeb",
        "name": "",
        "topic": "Openhab_VAR/KidsRoom/Heater2_on",
        "qos": "2",
        "datatype": "auto",
        "broker": "5101c6e3.603738",
        "inputs": 0,
        "x": 210,
        "y": 125,
        "wires": [
            [
                "cffcbe3d930b16d0"
            ]
        ]
    },
    {
        "id": "2199ace90a872fb8",
        "type": "rbe",
        "z": "26c72c233631dbeb",
        "name": "",
        "func": "rbe",
        "gap": "",
        "start": "",
        "inout": "out",
        "property": "payload",
        "x": 555,
        "y": 125,
        "wires": [
            [
                "5060694e40af5dcd"
            ]
        ],
        "l": false
    },
    {
        "id": "cffcbe3d930b16d0",
        "type": "change",
        "z": "26c72c233631dbeb",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "Детская обогреватель 2",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 455,
        "y": 125,
        "wires": [
            [
                "2199ace90a872fb8"
            ]
        ]
    },
    {
        "id": "c3a1e2b784223757",
        "type": "mqtt in",
        "z": "26c72c233631dbeb",
        "name": "",
        "topic": "Openhab_VAR/LivingRoom/Heater1_on",
        "qos": "2",
        "datatype": "auto",
        "broker": "5101c6e3.603738",
        "inputs": 0,
        "x": 195,
        "y": 165,
        "wires": [
            [
                "f5bdd3d07b1b7358"
            ]
        ]
    },
    {
        "id": "7a475eeacb734ba3",
        "type": "rbe",
        "z": "26c72c233631dbeb",
        "name": "",
        "func": "rbe",
        "gap": "",
        "start": "",
        "inout": "out",
        "property": "payload",
        "x": 540,
        "y": 165,
        "wires": [
            [
                "5060694e40af5dcd"
            ]
        ],
        "l": false
    },
    {
        "id": "f5bdd3d07b1b7358",
        "type": "change",
        "z": "26c72c233631dbeb",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "Зал обогреватель 1",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 440,
        "y": 165,
        "wires": [
            [
                "7a475eeacb734ba3"
            ]
        ]
    },
    {
        "id": "aaef89ad3438625a",
        "type": "mqtt in",
        "z": "26c72c233631dbeb",
        "name": "",
        "topic": "Openhab_VAR/Kitchen/Heater1_on",
        "qos": "2",
        "datatype": "auto",
        "broker": "5101c6e3.603738",
        "inputs": 0,
        "x": 185,
        "y": 210,
        "wires": [
            [
                "a1cbd08063c50964"
            ]
        ]
    },
    {
        "id": "62471436b96b8b63",
        "type": "rbe",
        "z": "26c72c233631dbeb",
        "name": "",
        "func": "rbe",
        "gap": "",
        "start": "",
        "inout": "out",
        "property": "payload",
        "x": 540,
        "y": 210,
        "wires": [
            [
                "5060694e40af5dcd"
            ]
        ],
        "l": false
    },
    {
        "id": "a1cbd08063c50964",
        "type": "change",
        "z": "26c72c233631dbeb",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "Кухня обогреватель 1",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 440,
        "y": 210,
        "wires": [
            [
                "62471436b96b8b63"
            ]
        ]
    },
    {
        "id": "ef805d80d0b77868",
        "type": "mqtt in",
        "z": "26c72c233631dbeb",
        "name": "",
        "topic": "Openhab_VAR/Kitchen/Heater2_on",
        "qos": "2",
        "datatype": "auto",
        "broker": "5101c6e3.603738",
        "inputs": 0,
        "x": 185,
        "y": 270,
        "wires": [
            [
                "5af298ee1e1f91b9"
            ]
        ]
    },
    {
        "id": "e0ca44bff0872abf",
        "type": "rbe",
        "z": "26c72c233631dbeb",
        "name": "",
        "func": "rbe",
        "gap": "",
        "start": "",
        "inout": "out",
        "property": "payload",
        "x": 540,
        "y": 270,
        "wires": [
            [
                "5060694e40af5dcd"
            ]
        ],
        "l": false
    },
    {
        "id": "5af298ee1e1f91b9",
        "type": "change",
        "z": "26c72c233631dbeb",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "Кухня обогреватель 2",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 440,
        "y": 270,
        "wires": [
            [
                "e0ca44bff0872abf"
            ]
        ]
    },
    {
        "id": "0c8361d7cc7b0cac",
        "type": "mqtt in",
        "z": "26c72c233631dbeb",
        "name": "",
        "topic": "Openhab_VAR/BedRoom/Heater1_on",
        "qos": "2",
        "datatype": "auto",
        "broker": "5101c6e3.603738",
        "inputs": 0,
        "x": 180,
        "y": 315,
        "wires": [
            [
                "5cecba3f0f2bf2b0"
            ]
        ]
    },
    {
        "id": "cc34446072993930",
        "type": "rbe",
        "z": "26c72c233631dbeb",
        "name": "",
        "func": "rbe",
        "gap": "",
        "start": "",
        "inout": "out",
        "property": "payload",
        "x": 525,
        "y": 315,
        "wires": [
            [
                "5060694e40af5dcd"
            ]
        ],
        "l": false
    },
    {
        "id": "5cecba3f0f2bf2b0",
        "type": "change",
        "z": "26c72c233631dbeb",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "Спальня обогреватель 1",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 425,
        "y": 315,
        "wires": [
            [
                "cc34446072993930"
            ]
        ]
    },
    {
        "id": "be549453e5c65fc0",
        "type": "mqtt in",
        "z": "26c72c233631dbeb",
        "name": "",
        "topic": "Openhab_VAR/BedRoom/Heater2_on",
        "qos": "2",
        "datatype": "auto",
        "broker": "5101c6e3.603738",
        "inputs": 0,
        "x": 180,
        "y": 375,
        "wires": [
            [
                "411050fe47908981"
            ]
        ]
    },
    {
        "id": "fa80d2912b39e73c",
        "type": "rbe",
        "z": "26c72c233631dbeb",
        "name": "",
        "func": "rbe",
        "gap": "",
        "start": "",
        "inout": "out",
        "property": "payload",
        "x": 525,
        "y": 375,
        "wires": [
            [
                "5060694e40af5dcd"
            ]
        ],
        "l": false
    },
    {
        "id": "411050fe47908981",
        "type": "change",
        "z": "26c72c233631dbeb",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "Спальня обогреватель 2",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 425,
        "y": 375,
        "wires": [
            [
                "fa80d2912b39e73c"
            ]
        ]
    },
    {
        "id": "4cbea3e2d141e4d7",
        "type": "mqtt in",
        "z": "26c72c233631dbeb",
        "name": "",
        "topic": "Openhab_VAR/Kitchen/Boiler_on",
        "qos": "2",
        "datatype": "auto",
        "broker": "5101c6e3.603738",
        "inputs": 0,
        "x": 175,
        "y": 450,
        "wires": [
            [
                "86bb0463e639cb35"
            ]
        ]
    },
    {
        "id": "a4ca14bdfacfb649",
        "type": "rbe",
        "z": "26c72c233631dbeb",
        "name": "",
        "func": "rbe",
        "gap": "",
        "start": "",
        "inout": "out",
        "property": "payload",
        "x": 540,
        "y": 450,
        "wires": [
            [
                "5060694e40af5dcd"
            ]
        ],
        "l": false
    },
    {
        "id": "86bb0463e639cb35",
        "type": "change",
        "z": "26c72c233631dbeb",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "Кухня бойлер",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 440,
        "y": 450,
        "wires": [
            [
                "a4ca14bdfacfb649"
            ]
        ]
    },
    {
        "id": "364043bacd87ca45",
        "type": "debug",
        "z": "7c48a1c4d101772a",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "x": 609,
        "y": 180,
        "wires": []
    },
    {
        "id": "95acbb9d70349e98",
        "type": "inject",
        "z": "7c48a1c4d101772a",
        "name": "",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "test4",
        "payload": "15",
        "payloadType": "num",
        "x": 110,
        "y": 180,
        "wires": [
            [
                "9e52bc44581bfd81"
            ]
        ]
    },
    {
        "id": "9e52bc44581bfd81",
        "type": "function",
        "z": "7c48a1c4d101772a",
        "name": "INSERT",
        "func": "var nameDB='data';\nvar name = msg.topic; //забираем имя переменной из топика сообщения\nvar simpletime=global.get('simpletime'); //прицепляем текущее время в формате MYSQL\nvar temp = msg.payload; //забираем значение из пайлоада\nquery = `INSERT INTO `+nameDB+` (name,value, time) VALUES ('`+name+`',`+temp+`,'`+simpletime+`');`; //формируем запрос\nmsg.topic = query; //складываем запрос в топик\nreturn msg; //возвращаем запрос\n",
        "outputs": 1,
        "noerr": 0,
        "x": 276,
        "y": 180,
        "wires": [
            []
        ]
    },
    {
        "id": "2aed47bef1fd5592",
        "type": "debug",
        "z": "7c48a1c4d101772a",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "x": 609,
        "y": 240,
        "wires": []
    },
    {
        "id": "7739df0b50b7b431",
        "type": "inject",
        "z": "7c48a1c4d101772a",
        "name": "",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "test4",
        "payload": "77",
        "payloadType": "num",
        "x": 110,
        "y": 240,
        "wires": [
            [
                "63885264085fa594"
            ]
        ]
    },
    {
        "id": "63885264085fa594",
        "type": "function",
        "z": "7c48a1c4d101772a",
        "name": "UPDATE",
        "func": "var nameDB='data';\nvar name = msg.topic; //забираем имя переменной из топика сообщения\nvar simpletime=global.get('simpletime'); //прицепляем текущее время в формате MYSQL\nvar temp = msg.payload; //забираем значение из пайлоада\nquery = `UPDATE `+nameDB+` SET value = '`+temp+`' WHERE name ='`+name+`';`; //формируем запрос\nmsg.topic = query; //складываем запрос в топик\nreturn msg; //возвращаем запрос",
        "outputs": 1,
        "noerr": 0,
        "x": 276,
        "y": 240,
        "wires": [
            []
        ]
    },
    {
        "id": "473fa855bf3530f3",
        "type": "debug",
        "z": "7c48a1c4d101772a",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "x": 609,
        "y": 300,
        "wires": []
    },
    {
        "id": "0cc8ba73dac37f83",
        "type": "inject",
        "z": "7c48a1c4d101772a",
        "name": "",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "test4",
        "payload": "15",
        "payloadType": "num",
        "x": 110,
        "y": 300,
        "wires": [
            [
                "4fd789239e85f061"
            ]
        ]
    },
    {
        "id": "4fd789239e85f061",
        "type": "function",
        "z": "7c48a1c4d101772a",
        "name": "SELECT",
        "func": "var nameDB='data';\nvar name = msg.topic; //забираем имя переменной из топика сообщения\nquery = `SELECT * FROM `+nameDB+` WHERE name='`+name+`';`; //формируем запрос\nmsg.topic = query; //складываем запрос в топик\nreturn msg; //возвращаем запрос",
        "outputs": 1,
        "noerr": 0,
        "x": 276,
        "y": 300,
        "wires": [
            []
        ]
    },
    {
        "id": "99af44c2cf2e16b5",
        "type": "simpletime",
        "z": "7c48a1c4d101772a",
        "name": "",
        "x": 330,
        "y": 60,
        "wires": [
            [
                "e0ddba7f4ca01cd0"
            ]
        ]
    },
    {
        "id": "9a5d18f91e575f35",
        "type": "inject",
        "z": "7c48a1c4d101772a",
        "name": "",
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 110,
        "y": 60,
        "wires": [
            [
                "99af44c2cf2e16b5"
            ]
        ]
    },
    {
        "id": "e0ddba7f4ca01cd0",
        "type": "function",
        "z": "7c48a1c4d101772a",
        "name": "curent time",
        "func": "var myyear = msg.myyear;\nvar mymonthn = msg.mymonthn;\nvar mydom = msg.mydom;\nvar mytimes = msg.mytimes;\nquery = ``+myyear+`-`+mymonthn+`-`+mydom+` `+mytimes+``;\nmsg.payload = query;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 530,
        "y": 60,
        "wires": [
            [
                "5a33089eb8d10e9a"
            ]
        ]
    },
    {
        "id": "5a33089eb8d10e9a",
        "type": "change",
        "z": "7c48a1c4d101772a",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "simpletime",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 740,
        "y": 60,
        "wires": [
            []
        ]
    },
    {
        "id": "18d580c85bc1c640",
        "type": "debug",
        "z": "7c48a1c4d101772a",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "x": 609,
        "y": 360,
        "wires": []
    },
    {
        "id": "402d4b070fca636e",
        "type": "inject",
        "z": "7c48a1c4d101772a",
        "name": "",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "test4",
        "payload": "15",
        "payloadType": "num",
        "x": 110,
        "y": 360,
        "wires": [
            [
                "28a685a2c40d2379"
            ]
        ]
    },
    {
        "id": "28a685a2c40d2379",
        "type": "function",
        "z": "7c48a1c4d101772a",
        "name": "DELETE",
        "func": "var nameDB='data';\nvar name = msg.topic; //забираем имя переменной из топика сообщения\nquery = `DELETE FROM `+nameDB+` WHERE name='`+name+`';`; //формируем запрос \nmsg.topic = query; //складываем запрос в топик\nreturn msg; //возвращаем запрос",
        "outputs": 1,
        "noerr": 0,
        "x": 276,
        "y": 360,
        "wires": [
            []
        ]
    },
    {
        "id": "53983072f510ef52",
        "type": "mqtt in",
        "z": "7c48a1c4d101772a",
        "name": "",
        "topic": "bathroom1/switch/relay_1/state",
        "qos": "2",
        "datatype": "auto",
        "broker": "5101c6e3.603738",
        "inputs": 0,
        "x": 250,
        "y": 510,
        "wires": [
            [
                "6daace60c872c5b6"
            ]
        ]
    },
    {
        "id": "cf4d64ca5423cde0",
        "type": "mqtt in",
        "z": "7c48a1c4d101772a",
        "name": "",
        "topic": "bathroom1/switch/relay_2/state",
        "qos": "2",
        "datatype": "auto",
        "broker": "5101c6e3.603738",
        "inputs": 0,
        "x": 250,
        "y": 470,
        "wires": [
            [
                "ce09e4bf3fd56d49"
            ]
        ]
    },
    {
        "id": "96ad7787ea659d39",
        "type": "function",
        "z": "7c48a1c4d101772a",
        "name": "INSERT",
        "func": "var nameDB='logs';\n\nvar text = msg.topic;\nvar name = text.replace('/',' ');\nname = name.replace('/',' ');\nname = name.replace('/',' ');\nname = name.replace('/',' ');\nname = name.replace('/',' ');\nname = name.replace('/',' ');\nvar simpletime=global.get('simpletime'); //прицепляем текущее время в формате MYSQL\nvar value = msg.payload; //забираем значение из пайлоада\nquery = `INSERT INTO `+nameDB+` (time, name,value ) VALUES ('`+simpletime+`','`+name+`','`+value+`');`; //формируем запрос\nmsg.topic = query; //складываем запрос в топик\nreturn msg; //возвращаем запрос\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 700,
        "y": 770,
        "wires": [
            []
        ]
    },
    {
        "id": "8da0d60f9d647743",
        "type": "mqtt in",
        "z": "7c48a1c4d101772a",
        "name": "",
        "topic": "bathroom2/switch/relay_1/state",
        "qos": "2",
        "datatype": "auto",
        "broker": "5101c6e3.603738",
        "inputs": 0,
        "x": 250,
        "y": 590,
        "wires": [
            [
                "ec41147c7350dcee"
            ]
        ]
    },
    {
        "id": "935f57929138a502",
        "type": "mqtt in",
        "z": "7c48a1c4d101772a",
        "name": "",
        "topic": "bathroom2/switch/relay_2/state",
        "qos": "2",
        "datatype": "auto",
        "broker": "5101c6e3.603738",
        "inputs": 0,
        "x": 230,
        "y": 650,
        "wires": [
            [
                "0e91e15073df2cd9"
            ]
        ]
    },
    {
        "id": "a3321139860321a7",
        "type": "mqtt in",
        "z": "7c48a1c4d101772a",
        "name": "",
        "topic": "mainrelay1/switch/kuhnia/state",
        "qos": "2",
        "datatype": "auto",
        "broker": "5101c6e3.603738",
        "inputs": 0,
        "x": 210,
        "y": 730,
        "wires": [
            [
                "444ebf1140e387c2"
            ]
        ]
    },
    {
        "id": "90accd8dd3bb103c",
        "type": "mqtt in",
        "z": "7c48a1c4d101772a",
        "name": "",
        "topic": "mainrelay1/switch/alisa/state",
        "qos": "2",
        "datatype": "auto",
        "broker": "5101c6e3.603738",
        "inputs": 0,
        "x": 210,
        "y": 810,
        "wires": [
            [
                "5d4ec6bd6a05ef55"
            ]
        ]
    },
    {
        "id": "ebc1d44e38c76181",
        "type": "mqtt in",
        "z": "7c48a1c4d101772a",
        "name": "",
        "topic": "mainrelay1/switch/zal_1/state",
        "qos": "2",
        "datatype": "auto",
        "broker": "5101c6e3.603738",
        "inputs": 0,
        "x": 170,
        "y": 890,
        "wires": [
            [
                "b2e96a87d60b8706"
            ]
        ]
    },
    {
        "id": "75fb3520b50f8ea9",
        "type": "mqtt in",
        "z": "7c48a1c4d101772a",
        "name": "",
        "topic": "mainrelay1/switch/zal_2/state",
        "qos": "2",
        "datatype": "auto",
        "broker": "5101c6e3.603738",
        "inputs": 0,
        "x": 160,
        "y": 970,
        "wires": [
            [
                "b2a55dab0aa2afdb"
            ]
        ]
    },
    {
        "id": "a3406115945a884d",
        "type": "mqtt in",
        "z": "7c48a1c4d101772a",
        "name": "",
        "topic": "mainrelay1/switch/boiler/state",
        "qos": "2",
        "datatype": "auto",
        "broker": "5101c6e3.603738",
        "inputs": 0,
        "x": 250,
        "y": 1050,
        "wires": [
            [
                "8005c3c70d3cebf4"
            ]
        ]
    },
    {
        "id": "0e91e15073df2cd9",
        "type": "rbe",
        "z": "7c48a1c4d101772a",
        "name": "",
        "func": "rbe",
        "gap": "",
        "start": "",
        "inout": "out",
        "property": "payload",
        "x": 455,
        "y": 690,
        "wires": [
            [
                "96ad7787ea659d39"
            ]
        ],
        "l": false
    },
    {
        "id": "5d4ec6bd6a05ef55",
        "type": "rbe",
        "z": "7c48a1c4d101772a",
        "name": "",
        "func": "rbe",
        "gap": "",
        "start": "",
        "inout": "out",
        "property": "payload",
        "x": 435,
        "y": 790,
        "wires": [
            [
                "96ad7787ea659d39"
            ]
        ],
        "l": false
    },
    {
        "id": "ec41147c7350dcee",
        "type": "rbe",
        "z": "7c48a1c4d101772a",
        "name": "",
        "func": "rbe",
        "gap": "",
        "start": "",
        "inout": "out",
        "property": "payload",
        "x": 475,
        "y": 630,
        "wires": [
            [
                "96ad7787ea659d39"
            ]
        ],
        "l": false
    },
    {
        "id": "6daace60c872c5b6",
        "type": "rbe",
        "z": "7c48a1c4d101772a",
        "name": "",
        "func": "rbe",
        "gap": "",
        "start": "",
        "inout": "out",
        "property": "payload",
        "x": 475,
        "y": 590,
        "wires": [
            [
                "96ad7787ea659d39"
            ]
        ],
        "l": false
    },
    {
        "id": "ce09e4bf3fd56d49",
        "type": "rbe",
        "z": "7c48a1c4d101772a",
        "name": "",
        "func": "rbe",
        "gap": "",
        "start": "",
        "inout": "out",
        "property": "payload",
        "x": 455,
        "y": 530,
        "wires": [
            [
                "96ad7787ea659d39"
            ]
        ],
        "l": false
    },
    {
        "id": "444ebf1140e387c2",
        "type": "rbe",
        "z": "7c48a1c4d101772a",
        "name": "",
        "func": "rbe",
        "gap": "",
        "start": "",
        "inout": "out",
        "property": "payload",
        "x": 415,
        "y": 730,
        "wires": [
            [
                "96ad7787ea659d39"
            ]
        ],
        "l": false
    },
    {
        "id": "b2e96a87d60b8706",
        "type": "rbe",
        "z": "7c48a1c4d101772a",
        "name": "",
        "func": "rbe",
        "gap": "",
        "start": "",
        "inout": "out",
        "property": "payload",
        "x": 435,
        "y": 850,
        "wires": [
            [
                "96ad7787ea659d39"
            ]
        ],
        "l": false
    },
    {
        "id": "b2a55dab0aa2afdb",
        "type": "rbe",
        "z": "7c48a1c4d101772a",
        "name": "",
        "func": "rbe",
        "gap": "",
        "start": "",
        "inout": "out",
        "property": "payload",
        "x": 415,
        "y": 910,
        "wires": [
            [
                "96ad7787ea659d39"
            ]
        ],
        "l": false
    },
    {
        "id": "8005c3c70d3cebf4",
        "type": "rbe",
        "z": "7c48a1c4d101772a",
        "name": "",
        "func": "rbe",
        "gap": "",
        "start": "",
        "inout": "out",
        "property": "payload",
        "x": 455,
        "y": 970,
        "wires": [
            [
                "96ad7787ea659d39"
            ]
        ],
        "l": false
    },
    {
        "id": "906a9bb085e5aa32",
        "type": "inject",
        "z": "7c48a1c4d101772a",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 810,
        "y": 530,
        "wires": [
            [
                "3d80d6735080a710"
            ]
        ]
    },
    {
        "id": "3d80d6735080a710",
        "type": "debug",
        "z": "7c48a1c4d101772a",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 1120,
        "y": 530,
        "wires": []
    },
    {
        "id": "4c234f9740fa8fbd",
        "type": "change",
        "z": "e0ec0a90b2f16138",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "PhaseA_PowerMeter",
                "pt": "flow",
                "to": "$number(payload)",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 560,
        "y": 960,
        "wires": [
            [
                "2a1176cc2826d377"
            ]
        ]
    },
    {
        "id": "04e729c7d9718cf0",
        "type": "mqtt in",
        "z": "e0ec0a90b2f16138",
        "name": "",
        "topic": "Openhab_VAR/Energy/PhaseA/PowerMeter",
        "qos": "2",
        "datatype": "auto",
        "broker": "5101c6e3.603738",
        "inputs": 0,
        "x": 210,
        "y": 960,
        "wires": [
            [
                "4c234f9740fa8fbd"
            ]
        ]
    },
    {
        "id": "2a1176cc2826d377",
        "type": "function",
        "z": "e0ec0a90b2f16138",
        "name": "",
        "func": "\n\nvar A=flow.get('PhaseA_PowerMeter')\nvar B=flow.get('PhaseB_PowerMeter')\nvar C=flow.get('PhaseC_PowerMeter')\nmsg.topic  = 'PowerMeter';\nmsg.payload = A+B+C;\nnode.status({fill:\"green\",shape:\"ring\",\"text\": msg.payload});\nreturn msg;\n\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 870,
        "y": 1000,
        "wires": [
            [
                "8e015485f7915dee"
            ]
        ]
    },
    {
        "id": "539def74eed71ef0",
        "type": "change",
        "z": "e0ec0a90b2f16138",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "PhaseB_PowerMeter",
                "pt": "flow",
                "to": "$number(payload)",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 560,
        "y": 1020,
        "wires": [
            [
                "2a1176cc2826d377"
            ]
        ]
    },
    {
        "id": "119230927ba2f69e",
        "type": "change",
        "z": "e0ec0a90b2f16138",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "PhaseC_PowerMeter",
                "pt": "flow",
                "to": "$number(payload)",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 570,
        "y": 1080,
        "wires": [
            [
                "2a1176cc2826d377"
            ]
        ]
    },
    {
        "id": "ee91beee364034e9",
        "type": "mqtt in",
        "z": "e0ec0a90b2f16138",
        "name": "",
        "topic": "Openhab_VAR/Energy/PhaseB/PowerMeter",
        "qos": "2",
        "datatype": "auto",
        "broker": "5101c6e3.603738",
        "inputs": 0,
        "x": 210,
        "y": 1020,
        "wires": [
            [
                "539def74eed71ef0"
            ]
        ]
    },
    {
        "id": "1050e973cb92bcfc",
        "type": "mqtt in",
        "z": "e0ec0a90b2f16138",
        "name": "",
        "topic": "Openhab_VAR/Energy/PhaseC/PowerMeter",
        "qos": "2",
        "datatype": "auto",
        "broker": "5101c6e3.603738",
        "inputs": 0,
        "x": 210,
        "y": 1080,
        "wires": [
            [
                "119230927ba2f69e"
            ]
        ]
    },
    {
        "id": "3e446dd6fe307d87",
        "type": "function",
        "z": "e0ec0a90b2f16138",
        "name": "",
        "func": "var PowerMeter_day=flow.get('PowerMeter_day')\nmsg.payload = msg.payload  - PowerMeter_day;\nnode.status({fill:\"green\",shape:\"ring\",\"text\": msg.payload});\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 850,
        "y": 1240,
        "wires": [
            [
                "4e89a917ff9dd325"
            ]
        ]
    },
    {
        "id": "0ccc9af47f985c50",
        "type": "function",
        "z": "e0ec0a90b2f16138",
        "name": "",
        "func": "var PowerMeter_night=flow.get('PowerMeter_night')\n\nmsg.payload = msg.payload  - PowerMeter_night;\nnode.status({fill:\"green\",shape:\"ring\",\"text\": msg.payload});\nreturn msg;\n",
        "outputs": 1,
        "noerr": 0,
        "x": 846,
        "y": 1160,
        "wires": [
            [
                "c33a3dc975a21d68"
            ]
        ]
    },
    {
        "id": "4e89a917ff9dd325",
        "type": "mqtt out",
        "z": "e0ec0a90b2f16138",
        "name": "",
        "topic": "Openhab_VAR/Energy/PowerMeter_night",
        "qos": "0",
        "retain": "true",
        "broker": "5101c6e3.603738",
        "x": 1240,
        "y": 1240,
        "wires": []
    },
    {
        "id": "c33a3dc975a21d68",
        "type": "mqtt out",
        "z": "e0ec0a90b2f16138",
        "name": "",
        "topic": "Openhab_VAR/Energy/PowerMeter_day",
        "qos": "0",
        "retain": "true",
        "broker": "5101c6e3.603738",
        "x": 1240,
        "y": 1160,
        "wires": []
    },
    {
        "id": "c09596037928b415",
        "type": "mqtt in",
        "z": "e0ec0a90b2f16138",
        "name": "",
        "topic": "Openhab_VAR/Energy/PowerMeter_night",
        "qos": "2",
        "datatype": "auto",
        "broker": "5101c6e3.603738",
        "inputs": 0,
        "x": 200,
        "y": 1300,
        "wires": [
            [
                "9fe98840c124cc3d"
            ]
        ]
    },
    {
        "id": "cd685dc6937bb919",
        "type": "mqtt in",
        "z": "e0ec0a90b2f16138",
        "name": "",
        "topic": "Openhab_VAR/Energy/PowerMeter_day",
        "qos": "2",
        "datatype": "auto",
        "broker": "5101c6e3.603738",
        "inputs": 0,
        "x": 200,
        "y": 1360,
        "wires": [
            [
                "cd88ac21fe3611af"
            ]
        ]
    },
    {
        "id": "fe1924d509bdfdc7",
        "type": "function",
        "z": "e0ec0a90b2f16138",
        "name": "INSERT",
        "func": "var nameDB='energyday';\nvar name = msg.topic; //забираем имя переменной из топика сообщения\nvar simpletime=global.get('simpletime'); //прицепляем текущее время в формате MYSQL\nvar temp = msg.payload; //забираем значение из пайлоада\nquery = `INSERT INTO `+nameDB+` (name,value, time) VALUES ('`+name+`',`+temp+`,'`+simpletime+`');`; //формируем запрос\nmsg.topic = query; //складываем запрос в топик\nreturn msg; //возвращаем запрос\n",
        "outputs": 1,
        "noerr": 0,
        "x": 815,
        "y": 1560,
        "wires": [
            []
        ]
    },
    {
        "id": "19a98efe14f35549",
        "type": "inject",
        "z": "e0ec0a90b2f16138",
        "name": "",
        "repeat": "",
        "crontab": "00 23 * * *",
        "once": false,
        "onceDelay": 0.1,
        "topic": "powerday",
        "payload": "PowerMeter",
        "payloadType": "flow",
        "x": 150,
        "y": 1560,
        "wires": [
            [
                "8c3c8b4b7efad3cd"
            ]
        ]
    },
    {
        "id": "30589f64f4773b15",
        "type": "change",
        "z": "e0ec0a90b2f16138",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "PowerMeter_temp",
                "pt": "flow",
                "to": "PowerMeter",
                "tot": "flow"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 600,
        "y": 1560,
        "wires": [
            [
                "fe1924d509bdfdc7"
            ]
        ]
    },
    {
        "id": "8c3c8b4b7efad3cd",
        "type": "function",
        "z": "e0ec0a90b2f16138",
        "name": "",
        "func": "var power_p = flow.get('PowerMeter_temp');\nmsg.payload = msg.payload  - power_p;\nnode.status({fill:\"green\",shape:\"ring\",\"text\": msg.payload});\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 350,
        "y": 1560,
        "wires": [
            [
                "30589f64f4773b15",
                "e39167a88345f1cc"
            ]
        ]
    },
    {
        "id": "59df1c567a0c5bdb",
        "type": "function",
        "z": "e0ec0a90b2f16138",
        "name": "INSERT",
        "func": "var nameDB='energynight';\nvar name = msg.topic; //забираем имя переменной из топика сообщения\nvar simpletime=global.get('simpletime'); //прицепляем текущее время в формате MYSQL\nvar temp = msg.payload; //забираем значение из пайлоада\nquery = `INSERT INTO `+nameDB+` (name,value, time) VALUES ('`+name+`',`+temp+`,'`+simpletime+`');`; //формируем запрос\nmsg.topic = query; //складываем запрос в топик\nreturn msg; //возвращаем запрос\n",
        "outputs": 1,
        "noerr": 0,
        "x": 815,
        "y": 1640,
        "wires": [
            []
        ]
    },
    {
        "id": "8a6dde86fdeef681",
        "type": "inject",
        "z": "e0ec0a90b2f16138",
        "name": "",
        "repeat": "",
        "crontab": "00 07 * * *",
        "once": false,
        "onceDelay": 0.1,
        "topic": "powernight",
        "payload": "PowerMeter",
        "payloadType": "flow",
        "x": 150,
        "y": 1640,
        "wires": [
            [
                "de03fb8b31b9cc34"
            ]
        ]
    },
    {
        "id": "1ff6c5c82cd9b1a2",
        "type": "change",
        "z": "e0ec0a90b2f16138",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "PowerMeter_temp",
                "pt": "flow",
                "to": "PowerMeter",
                "tot": "flow"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 600,
        "y": 1640,
        "wires": [
            [
                "59df1c567a0c5bdb"
            ]
        ]
    },
    {
        "id": "de03fb8b31b9cc34",
        "type": "function",
        "z": "e0ec0a90b2f16138",
        "name": "",
        "func": "var power_p = flow.get('PowerMeter_temp');\nmsg.payload = msg.payload  - power_p;\nnode.status({fill:\"green\",shape:\"ring\",\"text\": msg.payload});\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 350,
        "y": 1640,
        "wires": [
            [
                "1ff6c5c82cd9b1a2",
                "a4f0f066049ca817"
            ]
        ]
    },
    {
        "id": "a4f0f066049ca817",
        "type": "mqtt out",
        "z": "e0ec0a90b2f16138",
        "name": "",
        "topic": "Openhab_VAR/Energy/PowerMeter_1night",
        "qos": "0",
        "retain": "true",
        "broker": "5101c6e3.603738",
        "x": 490,
        "y": 1720,
        "wires": []
    },
    {
        "id": "e39167a88345f1cc",
        "type": "mqtt out",
        "z": "e0ec0a90b2f16138",
        "name": "",
        "topic": "Openhab_VAR/Energy/PowerMeter_1day",
        "qos": "0",
        "retain": "true",
        "broker": "5101c6e3.603738",
        "x": 480,
        "y": 1500,
        "wires": []
    },
    {
        "id": "8e015485f7915dee",
        "type": "mqtt out",
        "z": "e0ec0a90b2f16138",
        "name": "",
        "topic": "Openhab_VAR/Energy/PowerMeter",
        "qos": "0",
        "retain": "true",
        "broker": "5101c6e3.603738",
        "x": 1080,
        "y": 1000,
        "wires": []
    },
    {
        "id": "6e17d0a5d377a133",
        "type": "mqtt in",
        "z": "e0ec0a90b2f16138",
        "name": "",
        "topic": "Openhab_VAR/Energy/PowerMeter",
        "qos": "2",
        "datatype": "auto",
        "broker": "5101c6e3.603738",
        "inputs": 0,
        "x": 180,
        "y": 1180,
        "wires": [
            [
                "eb287745a214756a"
            ]
        ]
    },
    {
        "id": "a87b2ef9a71fc722",
        "type": "time-switch",
        "z": "e0ec0a90b2f16138",
        "name": "",
        "lat": "",
        "lon": "",
        "startTime": "07:00",
        "endTime": "23:00",
        "startOffset": 0,
        "endOffset": 0,
        "x": 650,
        "y": 1180,
        "wires": [
            [
                "0ccc9af47f985c50"
            ],
            [
                "3e446dd6fe307d87"
            ]
        ]
    },
    {
        "id": "eb287745a214756a",
        "type": "change",
        "z": "e0ec0a90b2f16138",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "$number(payload)",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 440,
        "y": 1180,
        "wires": [
            [
                "a87b2ef9a71fc722"
            ]
        ]
    },
    {
        "id": "cd88ac21fe3611af",
        "type": "change",
        "z": "e0ec0a90b2f16138",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "PowerMeter_day",
                "pt": "flow",
                "to": "$number(payload)",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 670,
        "y": 1360,
        "wires": [
            []
        ]
    },
    {
        "id": "9fe98840c124cc3d",
        "type": "change",
        "z": "e0ec0a90b2f16138",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "PowerMeter_night",
                "pt": "flow",
                "to": "$number(payload)",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 660,
        "y": 1300,
        "wires": [
            []
        ]
    },
    {
        "id": "86dba60212289cac",
        "type": "mqtt in",
        "z": "e0ec0a90b2f16138",
        "name": "",
        "topic": "Openhab_VAR/Energy/PowerMeter",
        "qos": "2",
        "datatype": "auto",
        "broker": "5101c6e3.603738",
        "inputs": 0,
        "x": 180,
        "y": 1420,
        "wires": [
            [
                "b4d750f80a9f5c4f"
            ]
        ]
    },
    {
        "id": "b4d750f80a9f5c4f",
        "type": "change",
        "z": "e0ec0a90b2f16138",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "PowerMeter",
                "pt": "flow",
                "to": "$number(payload)",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 640,
        "y": 1420,
        "wires": [
            []
        ]
    },
    {
        "id": "d941827d8dcf1144",
        "type": "function",
        "z": "e0ec0a90b2f16138",
        "name": "SELECT",
        "func": "var myyear = msg.myyear;\nvar mymonthn = msg.mymonthn;\nvar mydom =  msg.mydom;\nvar mytimes = msg.mytimes;\nvar first_time = ``+myyear+`-`+mymonthn+`-1 00:00:00`;\nvar this_time = global.get('simpletime'); \n\n\nquery = `SELECT sum(value) AS energyday FROM energyday WHERE time BETWEEN '`+first_time+`' AND '`+this_time+`';`\n\nvar newMsg = { payload: \"\", topic: query};\nreturn newMsg;\n\n",
        "outputs": 1,
        "noerr": 0,
        "x": 460,
        "y": 1880,
        "wires": [
            []
        ]
    },
    {
        "id": "bd35abb6105ffbc2",
        "type": "debug",
        "z": "e0ec0a90b2f16138",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "x": 1090,
        "y": 1880,
        "wires": []
    },
    {
        "id": "ef59543a48ac8b56",
        "type": "simpletime",
        "z": "e0ec0a90b2f16138",
        "name": "",
        "x": 310,
        "y": 1880,
        "wires": [
            [
                "d941827d8dcf1144"
            ]
        ]
    },
    {
        "id": "471957784b997ed6",
        "type": "inject",
        "z": "e0ec0a90b2f16138",
        "name": "",
        "repeat": "3600",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 130,
        "y": 1880,
        "wires": [
            [
                "ef59543a48ac8b56"
            ]
        ]
    },
    {
        "id": "d768d894dfcf2d7a",
        "type": "function",
        "z": "e0ec0a90b2f16138",
        "name": "SELECT",
        "func": "var myyear = msg.myyear;\nvar mymonthn = msg.mymonthn;\nvar mydom =  msg.mydom;\nvar mytimes = msg.mytimes;\nvar first_time = ``+myyear+`-`+mymonthn+`-1 00:00:00`;\nvar this_time = global.get('simpletime'); \n\n\nquery = `SELECT sum(value) AS energynight FROM energynight WHERE time BETWEEN '`+first_time+`' AND '`+this_time+`';`\n\nvar newMsg = { payload: \"\", topic: query};\nreturn newMsg;\n\n",
        "outputs": 1,
        "noerr": 0,
        "x": 460,
        "y": 1960,
        "wires": [
            []
        ]
    },
    {
        "id": "28e3cc3ae614ec51",
        "type": "debug",
        "z": "e0ec0a90b2f16138",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "x": 1050,
        "y": 1960,
        "wires": []
    },
    {
        "id": "35994831e6ecca07",
        "type": "simpletime",
        "z": "e0ec0a90b2f16138",
        "name": "",
        "x": 310,
        "y": 1960,
        "wires": [
            [
                "d768d894dfcf2d7a"
            ]
        ]
    },
    {
        "id": "ec241781857c6166",
        "type": "inject",
        "z": "e0ec0a90b2f16138",
        "name": "",
        "repeat": "3600",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 130,
        "y": 1960,
        "wires": [
            [
                "35994831e6ecca07"
            ]
        ]
    },
    {
        "id": "ac31a3be53cfd0b6",
        "type": "change",
        "z": "e0ec0a90b2f16138",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "payload[0]energyday",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 820,
        "y": 1880,
        "wires": [
            [
                "bd35abb6105ffbc2",
                "9b95631fe1024e90"
            ]
        ]
    },
    {
        "id": "31f3e2f857e2b895",
        "type": "change",
        "z": "e0ec0a90b2f16138",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "payload[0]energynight",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 820,
        "y": 1960,
        "wires": [
            [
                "28e3cc3ae614ec51",
                "afaa80e88fd26b0a"
            ]
        ]
    },
    {
        "id": "9b95631fe1024e90",
        "type": "mqtt out",
        "z": "e0ec0a90b2f16138",
        "name": "",
        "topic": "Openhab_VAR/Energy/PM_CM_day",
        "qos": "0",
        "retain": "true",
        "broker": "5101c6e3.603738",
        "x": 1150,
        "y": 1800,
        "wires": []
    },
    {
        "id": "afaa80e88fd26b0a",
        "type": "mqtt out",
        "z": "e0ec0a90b2f16138",
        "name": "",
        "topic": "Openhab_VAR/Energy/PM_CM_night",
        "qos": "0",
        "retain": "true",
        "broker": "5101c6e3.603738",
        "x": 1130,
        "y": 2060,
        "wires": []
    },
    {
        "id": "a7f081583888fefc",
        "type": "function",
        "z": "e0ec0a90b2f16138",
        "name": "",
        "func": "var text = msg.payload;\ntext = text.replace(/;/g,'\",\"');\ntext = text.replace(/:/g,'\":\"');\ntext = '{\"' + text + 'end\":\"end\"}';\nvar data = JSON.parse(text);\ndelete data['hostname']\ndelete data['end']\n//data.shift();\n//data.pop();\n\nfor (let key in data) {\n data[key] =  Number(data[key]);\n}\n\n\nvar mb0101 = {\"payload\":  data['0101']};\nvar mb0102 = {\"payload\":  data['0102']};\nvar mb0103 = {\"payload\":  data['0103']};\nvar mb0104 = {\"payload\":  data['0104']};\nvar mb0105 = {\"payload\":  data['0105']};\nvar mb0106 = {\"payload\":  data['0106']};\n\nvar mb0201 = {\"payload\":  data['0201']};\nvar mb0202 = {\"payload\":  data['0202']};\nvar mb0203 = {\"payload\":  data['0203']};\nvar mb0204 = {\"payload\":  data['0204']};\nvar mb0205 = {\"payload\":  data['0205']};\nvar mb0206 = {\"payload\":  data['0206']};\n\nvar mb0301 = {\"payload\":  data['0301']};\nvar mb0302 = {\"payload\":  data['0302']};\nvar mb0303 = {\"payload\":  data['0303']};\nvar mb0304 = {\"payload\":  data['0304']};\nvar mb0305 = {\"payload\":  data['0305']};\nvar mb0306 = {\"payload\":  data['0306']};\n\nnode.send([mb0101,mb0102,mb0103,mb0104,mb0105,mb0106,mb0201,mb0202,mb0203,mb0204,mb0205,mb0206,mb0301,mb0302,mb0303,mb0304,mb0305,mb0306]);\n",
        "outputs": 18,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 490,
        "y": 420,
        "wires": [
            [
                "6b13cc2cce628da0"
            ],
            [
                "4633c72af5a8f86b"
            ],
            [
                "be361529af857a53"
            ],
            [
                "48d0fdb08b2c748b"
            ],
            [
                "746f3e9bde263fbe"
            ],
            [
                "33b12d279277e703"
            ],
            [
                "f6beb620d90d958c"
            ],
            [
                "12d25598caed11f5"
            ],
            [
                "bfb4012a44c80c40"
            ],
            [
                "e25ed2055a105625"
            ],
            [
                "06849da0f8729c4a"
            ],
            [
                "dded01a12bc51fcf"
            ],
            [
                "236fc47b5748473a"
            ],
            [
                "ba9104d16763e6bd"
            ],
            [
                "c945cbc19907f10e"
            ],
            [
                "9c18494d44b7c661"
            ],
            [
                "0a75f2098e2817f3"
            ],
            [
                "673cc24d9cc2e746"
            ]
        ]
    },
    {
        "id": "ad936cca64a9d0f5",
        "type": "http request",
        "z": "e0ec0a90b2f16138",
        "d": true,
        "name": "",
        "method": "GET",
        "ret": "txt",
        "paytoqs": "ignore",
        "url": "http://192.168.1.5/sensors",
        "tls": "",
        "persist": false,
        "proxy": "",
        "authType": "",
        "x": 190,
        "y": 240,
        "wires": [
            [
                "a7f081583888fefc",
                "c6598761766658c8"
            ]
        ]
    },
    {
        "id": "6b13cc2cce628da0",
        "type": "rbe",
        "z": "e0ec0a90b2f16138",
        "name": "",
        "func": "rbe",
        "gap": "",
        "start": "",
        "inout": "out",
        "property": "payload",
        "x": 635,
        "y": 43,
        "wires": [
            [
                "a3546c02e693403f"
            ]
        ],
        "l": false
    },
    {
        "id": "4633c72af5a8f86b",
        "type": "rbe",
        "z": "e0ec0a90b2f16138",
        "name": "",
        "func": "rbe",
        "gap": "",
        "start": "",
        "inout": "out",
        "property": "payload",
        "x": 635,
        "y": 78,
        "wires": [
            [
                "a6c36411e8d51ce5"
            ]
        ],
        "l": false
    },
    {
        "id": "be361529af857a53",
        "type": "rbe",
        "z": "e0ec0a90b2f16138",
        "name": "",
        "func": "rbe",
        "gap": "",
        "start": "",
        "inout": "out",
        "property": "payload",
        "x": 635,
        "y": 119,
        "wires": [
            [
                "fe241be9d1989f05"
            ]
        ],
        "l": false
    },
    {
        "id": "48d0fdb08b2c748b",
        "type": "rbe",
        "z": "e0ec0a90b2f16138",
        "name": "",
        "func": "rbe",
        "gap": "",
        "start": "",
        "inout": "out",
        "property": "payload",
        "x": 644,
        "y": 160,
        "wires": [
            [
                "4f9590cbda139e0e"
            ]
        ],
        "l": false
    },
    {
        "id": "746f3e9bde263fbe",
        "type": "rbe",
        "z": "e0ec0a90b2f16138",
        "name": "",
        "func": "rbe",
        "gap": "",
        "start": "",
        "inout": "out",
        "property": "payload",
        "x": 643,
        "y": 200,
        "wires": [
            [
                "42437173d88c2cf5"
            ]
        ],
        "l": false
    },
    {
        "id": "33b12d279277e703",
        "type": "rbe",
        "z": "e0ec0a90b2f16138",
        "name": "",
        "func": "rbe",
        "gap": "",
        "start": "",
        "inout": "out",
        "property": "payload",
        "x": 640,
        "y": 240,
        "wires": [
            [
                "350cfb67e60450d0"
            ]
        ],
        "l": false
    },
    {
        "id": "f6beb620d90d958c",
        "type": "rbe",
        "z": "e0ec0a90b2f16138",
        "name": "",
        "func": "rbe",
        "gap": "",
        "start": "",
        "inout": "out",
        "property": "payload",
        "x": 715,
        "y": 300,
        "wires": [
            [
                "c6df822f2bee958d"
            ]
        ],
        "l": false
    },
    {
        "id": "12d25598caed11f5",
        "type": "rbe",
        "z": "e0ec0a90b2f16138",
        "name": "",
        "func": "rbe",
        "gap": "",
        "start": "",
        "inout": "out",
        "property": "payload",
        "x": 715,
        "y": 340,
        "wires": [
            [
                "7c557bae22bef2ef"
            ]
        ],
        "l": false
    },
    {
        "id": "bfb4012a44c80c40",
        "type": "rbe",
        "z": "e0ec0a90b2f16138",
        "name": "",
        "func": "rbe",
        "gap": "",
        "start": "",
        "inout": "out",
        "property": "payload",
        "x": 713,
        "y": 380,
        "wires": [
            [
                "c33fa427d0949292"
            ]
        ],
        "l": false
    },
    {
        "id": "e25ed2055a105625",
        "type": "rbe",
        "z": "e0ec0a90b2f16138",
        "name": "",
        "func": "rbe",
        "gap": "",
        "start": "",
        "inout": "out",
        "property": "payload",
        "x": 715,
        "y": 416,
        "wires": [
            [
                "37119537396466ac"
            ]
        ],
        "l": false
    },
    {
        "id": "06849da0f8729c4a",
        "type": "rbe",
        "z": "e0ec0a90b2f16138",
        "name": "",
        "func": "rbe",
        "gap": "",
        "start": "",
        "inout": "out",
        "property": "payload",
        "x": 716,
        "y": 455,
        "wires": [
            [
                "f6b49f468aa6c197"
            ]
        ],
        "l": false
    },
    {
        "id": "dded01a12bc51fcf",
        "type": "rbe",
        "z": "e0ec0a90b2f16138",
        "name": "",
        "func": "rbe",
        "gap": "",
        "start": "",
        "inout": "out",
        "property": "payload",
        "x": 715,
        "y": 486,
        "wires": [
            [
                "5fbfccf56b338865"
            ]
        ],
        "l": false
    },
    {
        "id": "236fc47b5748473a",
        "type": "rbe",
        "z": "e0ec0a90b2f16138",
        "name": "",
        "func": "rbe",
        "gap": "",
        "start": "",
        "inout": "out",
        "property": "payload",
        "x": 655,
        "y": 607,
        "wires": [
            [
                "3be6d4388db9fa8b"
            ]
        ],
        "l": false
    },
    {
        "id": "ba9104d16763e6bd",
        "type": "rbe",
        "z": "e0ec0a90b2f16138",
        "name": "",
        "func": "rbe",
        "gap": "",
        "start": "",
        "inout": "out",
        "property": "payload",
        "x": 655,
        "y": 647,
        "wires": [
            [
                "555a5bcc9b13772a"
            ]
        ],
        "l": false
    },
    {
        "id": "c945cbc19907f10e",
        "type": "rbe",
        "z": "e0ec0a90b2f16138",
        "name": "",
        "func": "rbe",
        "gap": "",
        "start": "",
        "inout": "out",
        "property": "payload",
        "x": 657,
        "y": 679,
        "wires": [
            [
                "85d734263fc96365"
            ]
        ],
        "l": false
    },
    {
        "id": "9c18494d44b7c661",
        "type": "rbe",
        "z": "e0ec0a90b2f16138",
        "name": "",
        "func": "rbe",
        "gap": "",
        "start": "",
        "inout": "out",
        "property": "payload",
        "x": 655,
        "y": 715,
        "wires": [
            [
                "8b1963ac4034742b"
            ]
        ],
        "l": false
    },
    {
        "id": "0a75f2098e2817f3",
        "type": "rbe",
        "z": "e0ec0a90b2f16138",
        "name": "",
        "func": "rbe",
        "gap": "",
        "start": "",
        "inout": "out",
        "property": "payload",
        "x": 655,
        "y": 753,
        "wires": [
            [
                "924f6ff0719e5534"
            ]
        ],
        "l": false
    },
    {
        "id": "673cc24d9cc2e746",
        "type": "rbe",
        "z": "e0ec0a90b2f16138",
        "name": "",
        "func": "rbe",
        "gap": "",
        "start": "",
        "inout": "out",
        "property": "payload",
        "x": 655,
        "y": 790,
        "wires": [
            [
                "275b5fa3ad8652f3"
            ]
        ],
        "l": false
    },
    {
        "id": "5ebd4dc47ec5457d",
        "type": "inject",
        "z": "e0ec0a90b2f16138",
        "name": "",
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 190,
        "y": 140,
        "wires": [
            [
                "ad936cca64a9d0f5"
            ]
        ]
    },
    {
        "id": "c6598761766658c8",
        "type": "debug",
        "z": "e0ec0a90b2f16138",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "x": 230,
        "y": 60,
        "wires": []
    },
    {
        "id": "a3546c02e693403f",
        "type": "mqtt out",
        "z": "e0ec0a90b2f16138",
        "name": "",
        "topic": "Openhab_VAR/Energy/PhaseA/Voltage",
        "qos": "0",
        "retain": "false",
        "broker": "5101c6e3.603738",
        "x": 1030,
        "y": 40,
        "wires": []
    },
    {
        "id": "a6c36411e8d51ce5",
        "type": "mqtt out",
        "z": "e0ec0a90b2f16138",
        "name": "",
        "topic": "Openhab_VAR/Energy/PhaseA/Current",
        "qos": "0",
        "retain": "false",
        "broker": "5101c6e3.603738",
        "x": 1030,
        "y": 78,
        "wires": []
    },
    {
        "id": "fe241be9d1989f05",
        "type": "mqtt out",
        "z": "e0ec0a90b2f16138",
        "name": "",
        "topic": "Openhab_VAR/Energy/PhaseA/Power",
        "qos": "0",
        "retain": "false",
        "broker": "5101c6e3.603738",
        "x": 1020,
        "y": 116,
        "wires": []
    },
    {
        "id": "4f9590cbda139e0e",
        "type": "function",
        "z": "e0ec0a90b2f16138",
        "name": "to-kWh",
        "func": "\nmsg.payload = msg.payload/1000;\nnode.status({fill:\"green\",shape:\"ring\",\"text\": msg.payload});\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 770,
        "y": 153,
        "wires": [
            [
                "04fb133309526fd3"
            ]
        ]
    },
    {
        "id": "42437173d88c2cf5",
        "type": "mqtt out",
        "z": "e0ec0a90b2f16138",
        "name": "",
        "topic": "Openhab_VAR/Energy/PhaseA/Frequency",
        "qos": "0",
        "retain": "false",
        "broker": "5101c6e3.603738",
        "x": 1040,
        "y": 192,
        "wires": []
    },
    {
        "id": "350cfb67e60450d0",
        "type": "mqtt out",
        "z": "e0ec0a90b2f16138",
        "name": "",
        "topic": "Openhab_VAR/Energy/PhaseA/PowerFactor",
        "qos": "0",
        "retain": "false",
        "broker": "5101c6e3.603738",
        "x": 1040,
        "y": 230,
        "wires": []
    },
    {
        "id": "c6df822f2bee958d",
        "type": "mqtt out",
        "z": "e0ec0a90b2f16138",
        "name": "",
        "topic": "Openhab_VAR/Energy/PhaseB/Voltage",
        "qos": "0",
        "retain": "false",
        "broker": "5101c6e3.603738",
        "x": 1120,
        "y": 300,
        "wires": []
    },
    {
        "id": "7c557bae22bef2ef",
        "type": "mqtt out",
        "z": "e0ec0a90b2f16138",
        "name": "",
        "topic": "Openhab_VAR/Energy/PhaseB/Current",
        "qos": "0",
        "retain": "false",
        "broker": "5101c6e3.603738",
        "x": 1120,
        "y": 338,
        "wires": []
    },
    {
        "id": "c33fa427d0949292",
        "type": "mqtt out",
        "z": "e0ec0a90b2f16138",
        "name": "",
        "topic": "Openhab_VAR/Energy/PhaseB/Power",
        "qos": "0",
        "retain": "false",
        "broker": "5101c6e3.603738",
        "x": 1110,
        "y": 376,
        "wires": []
    },
    {
        "id": "37119537396466ac",
        "type": "function",
        "z": "e0ec0a90b2f16138",
        "name": "to-kWh",
        "func": "\nmsg.payload = msg.payload/1000;\nnode.status({fill:\"green\",shape:\"ring\",\"text\": msg.payload});\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 880,
        "y": 414,
        "wires": [
            [
                "b6a4d0b70f9094f0"
            ]
        ]
    },
    {
        "id": "f6b49f468aa6c197",
        "type": "mqtt out",
        "z": "e0ec0a90b2f16138",
        "name": "",
        "topic": "Openhab_VAR/Energy/PhaseB/Frequency",
        "qos": "0",
        "retain": "false",
        "broker": "5101c6e3.603738",
        "x": 1130,
        "y": 452,
        "wires": []
    },
    {
        "id": "5fbfccf56b338865",
        "type": "mqtt out",
        "z": "e0ec0a90b2f16138",
        "name": "",
        "topic": "Openhab_VAR/Energy/PhaseB/PowerFactor",
        "qos": "0",
        "retain": "false",
        "broker": "5101c6e3.603738",
        "x": 1130,
        "y": 490,
        "wires": []
    },
    {
        "id": "3be6d4388db9fa8b",
        "type": "mqtt out",
        "z": "e0ec0a90b2f16138",
        "name": "",
        "topic": "Openhab_VAR/Energy/PhaseC/Voltage",
        "qos": "0",
        "retain": "false",
        "broker": "5101c6e3.603738",
        "x": 1060,
        "y": 600,
        "wires": []
    },
    {
        "id": "555a5bcc9b13772a",
        "type": "mqtt out",
        "z": "e0ec0a90b2f16138",
        "name": "",
        "topic": "Openhab_VAR/Energy/PhaseC/Current",
        "qos": "0",
        "retain": "false",
        "broker": "5101c6e3.603738",
        "x": 1060,
        "y": 638,
        "wires": []
    },
    {
        "id": "85d734263fc96365",
        "type": "mqtt out",
        "z": "e0ec0a90b2f16138",
        "name": "",
        "topic": "Openhab_VAR/Energy/PhaseC/Power",
        "qos": "0",
        "retain": "false",
        "broker": "5101c6e3.603738",
        "x": 1050,
        "y": 676,
        "wires": []
    },
    {
        "id": "8b1963ac4034742b",
        "type": "function",
        "z": "e0ec0a90b2f16138",
        "name": "to-kWh",
        "func": "\nmsg.payload = msg.payload/1000;\nnode.status({fill:\"green\",shape:\"ring\",\"text\": msg.payload});\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 820,
        "y": 714,
        "wires": [
            [
                "088f5683b96007ea"
            ]
        ]
    },
    {
        "id": "924f6ff0719e5534",
        "type": "mqtt out",
        "z": "e0ec0a90b2f16138",
        "name": "",
        "topic": "Openhab_VAR/Energy/PhaseC/Frequency",
        "qos": "0",
        "retain": "false",
        "broker": "5101c6e3.603738",
        "x": 1070,
        "y": 752,
        "wires": []
    },
    {
        "id": "275b5fa3ad8652f3",
        "type": "mqtt out",
        "z": "e0ec0a90b2f16138",
        "name": "",
        "topic": "Openhab_VAR/Energy/PhaseC/PowerFactor",
        "qos": "0",
        "retain": "false",
        "broker": "5101c6e3.603738",
        "x": 1070,
        "y": 790,
        "wires": []
    },
    {
        "id": "04fb133309526fd3",
        "type": "mqtt out",
        "z": "e0ec0a90b2f16138",
        "name": "",
        "topic": "Openhab_VAR/Energy/PhaseA/PowerMeter",
        "qos": "0",
        "retain": "false",
        "broker": "5101c6e3.603738",
        "x": 1040,
        "y": 154,
        "wires": []
    },
    {
        "id": "b6a4d0b70f9094f0",
        "type": "mqtt out",
        "z": "e0ec0a90b2f16138",
        "name": "",
        "topic": "Openhab_VAR/Energy/PhaseB/PowerMeter",
        "qos": "0",
        "retain": "false",
        "broker": "5101c6e3.603738",
        "x": 1130,
        "y": 414,
        "wires": []
    },
    {
        "id": "088f5683b96007ea",
        "type": "mqtt out",
        "z": "e0ec0a90b2f16138",
        "name": "",
        "topic": "Openhab_VAR/Energy/PhaseC/PowerMeter",
        "qos": "0",
        "retain": "false",
        "broker": "5101c6e3.603738",
        "x": 1070,
        "y": 714,
        "wires": []
    },
    {
        "id": "1949cce182febc8f",
        "type": "http request",
        "z": "e0ec0a90b2f16138",
        "name": "",
        "method": "GET",
        "ret": "txt",
        "paytoqs": false,
        "url": "http://192.168.1.5/modbus&write=0342",
        "tls": "",
        "persist": false,
        "proxy": "",
        "authType": "",
        "x": 1730,
        "y": 120,
        "wires": [
            [
                "83ca72b03f3d28cc"
            ]
        ]
    },
    {
        "id": "83ca72b03f3d28cc",
        "type": "debug",
        "z": "e0ec0a90b2f16138",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "x": 1940,
        "y": 80,
        "wires": []
    },
    {
        "id": "64fb91e39404a8e1",
        "type": "inject",
        "z": "e0ec0a90b2f16138",
        "name": "RESET",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 1470,
        "y": 120,
        "wires": [
            [
                "1949cce182febc8f"
            ]
        ]
    },
    {
        "id": "3212691c252ffb50",
        "type": "http request",
        "z": "e0ec0a90b2f16138",
        "name": "",
        "method": "GET",
        "ret": "txt",
        "paytoqs": false,
        "url": "http://192.168.1.5/modbus&write=0242",
        "tls": "",
        "persist": false,
        "proxy": "",
        "authType": "",
        "x": 1730,
        "y": 80,
        "wires": [
            [
                "83ca72b03f3d28cc"
            ]
        ]
    },
    {
        "id": "510464b2d59f4420",
        "type": "http request",
        "z": "e0ec0a90b2f16138",
        "name": "",
        "method": "GET",
        "ret": "txt",
        "paytoqs": false,
        "url": "http://192.168.1.5/modbus&write=0142",
        "tls": "",
        "persist": false,
        "proxy": "",
        "authType": "",
        "x": 1730,
        "y": 40,
        "wires": [
            [
                "83ca72b03f3d28cc"
            ]
        ]
    },
    {
        "id": "dce8ea1b49044f84",
        "type": "inject",
        "z": "e0ec0a90b2f16138",
        "name": "RESET",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 1470,
        "y": 80,
        "wires": [
            [
                "3212691c252ffb50"
            ]
        ]
    },
    {
        "id": "ffc428d1a3bbe46f",
        "type": "inject",
        "z": "e0ec0a90b2f16138",
        "name": "RESET",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 1470,
        "y": 40,
        "wires": [
            [
                "510464b2d59f4420"
            ]
        ]
    },
    {
        "id": "7094146de9597de0",
        "type": "inject",
        "z": "3e5e9957911954ae",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 150,
        "y": 180,
        "wires": [
            [
                "0201b4552c8eee25"
            ]
        ]
    },
    {
        "id": "c6cb3c387aeb5400",
        "type": "debug",
        "z": "3e5e9957911954ae",
        "name": "0",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 575,
        "y": 60,
        "wires": []
    },
    {
        "id": "fd8c1107a5afdd4d",
        "type": "debug",
        "z": "3e5e9957911954ae",
        "name": "1",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 755,
        "y": 90,
        "wires": []
    },
    {
        "id": "ae8e62a5f03abbdf",
        "type": "debug",
        "z": "3e5e9957911954ae",
        "name": "2",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 740,
        "y": 135,
        "wires": []
    },
    {
        "id": "a3027a0325e9e0df",
        "type": "debug",
        "z": "3e5e9957911954ae",
        "name": "3",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 755,
        "y": 180,
        "wires": []
    },
    {
        "id": "0eca35c13a7c7310",
        "type": "debug",
        "z": "3e5e9957911954ae",
        "name": "4",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 740,
        "y": 225,
        "wires": []
    },
    {
        "id": "4701b3c40db8674e",
        "type": "debug",
        "z": "3e5e9957911954ae",
        "name": "5",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 725,
        "y": 270,
        "wires": []
    },
    {
        "id": "5433ebbe30800baa",
        "type": "debug",
        "z": "3e5e9957911954ae",
        "name": "6",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 725,
        "y": 315,
        "wires": []
    },
    {
        "id": "7db7d94292d393a3",
        "type": "debug",
        "z": "3e5e9957911954ae",
        "name": "7",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 725,
        "y": 360,
        "wires": []
    },
    {
        "id": "ceca6ffcf2b50fa4",
        "type": "debug",
        "z": "3e5e9957911954ae",
        "name": "8",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 710,
        "y": 420,
        "wires": []
    },
    {
        "id": "b5e9a31541375407",
        "type": "debug",
        "z": "3e5e9957911954ae",
        "name": "9",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 560,
        "y": 465,
        "wires": []
    },
    {
        "id": "0201b4552c8eee25",
        "type": "function",
        "z": "3e5e9957911954ae",
        "d": true,
        "name": "",
        "func": "var logs = context.get([\"log0\",\"log1\", \"log2\", \"log3\", \"log4\", \"log5\",\"log6\",\"log7\",\"log8\",\"log9\"])\n\nvar count = context.get('count');\ncount = count || 0;\n\n\n\n\nif (msg.payload) {\n    //logs[count] = {\"payload\": msg.payload};\n    logs[count] = {\"payload\": count};\n\n}\n\n\n\n\nif (count > 8){\n    count = 0\n}\nelse{\n    count += 1;\n}\ncontext.set('count',count);\ncontext.set([\"log0\",\"log1\", \"log2\", \"log3\", \"log4\", \"log5\",\"log6\",\"log7\",\"log8\",\"log9\"], [logs[0],logs[1],logs[2],logs[3],logs[4],logs[5],logs[6],logs[7],logs[8],logs[9]])\nnode.send(logs);",
        "outputs": 10,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 390,
        "y": 210,
        "wires": [
            [
                "c6cb3c387aeb5400"
            ],
            [
                "fd8c1107a5afdd4d"
            ],
            [
                "ae8e62a5f03abbdf"
            ],
            [
                "a3027a0325e9e0df"
            ],
            [
                "0eca35c13a7c7310"
            ],
            [
                "4701b3c40db8674e"
            ],
            [
                "5433ebbe30800baa"
            ],
            [
                "7db7d94292d393a3"
            ],
            [
                "ceca6ffcf2b50fa4"
            ],
            [
                "b5e9a31541375407"
            ]
        ]
    }
]